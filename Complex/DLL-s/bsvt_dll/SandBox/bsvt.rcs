                        Прогр sapun { 


/*###########################################################*/
/*#########                     #############################*/
/*#########  ОПИСАНИЕ КОНСТАНТ  #############################*/
/*#########                     #############################*/
/*###########################################################*/
/* ?????????????? Таймауты взяты с потолка */
ТАКТ     50;    /* такт равен 500 миллисекундам */
КОНСТ Т0_1                       0;  /* Константа обеспечивающая паузу в 0.5 сек */
КОНСТ ОДНА_СЕКУНДА               10;  /* Константа обеспечивающая паузу в 1 сек */
КОНСТ ДВЕ_СЕКУНДЫ             2*ОДНА_СЕКУНДА;
КОНСТ ТРИ_СЕКУНДЫ             3*ОДНА_СЕКУНДА;
КОНСТ ТАЙМАУТ_НА_ДОСТОВЕРНОСТЬ ДВЕ_СЕКУНДЫ;
КОНСТ ПЯТЬ_СЕКУНД             5*ОДНА_СЕКУНДА;
КОНСТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ ПЯТЬ_СЕКУНД;

КОНСТ ДЕСЯТЬ_СЕКУНД          10*ОДНА_СЕКУНДА;
КОНСТ ДВАДЦАТЬ_СЕКУНД        20*ОДНА_СЕКУНДА;
КОНСТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ЗАТ_ВАК			ПЯТЬ_СЕКУНД;	/* изменено 9 декабря*/
КОНСТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_САПУНА           	ТРИ_СЕКУНДЫ;   /* изменено 9 декабря*/
КОНСТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_УСТР_ПЛАВ_ПУСКА   3*ОДНА_СЕКУНДА;
КОНСТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ВАК_НАСОСА 		3*ОДНА_СЕКУНДА;
КОНСТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ВЕНТИЛЯТОРА		ПЯТЬ_СЕКУНД;
КОНСТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_РЕГ_Т				3*ОДНА_СЕКУНДА;
КОНСТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_РЕГ_УР			3*ОДНА_СЕКУНДА;
КОНСТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_НАСОС_ОХЛ			3*ОДНА_СЕКУНДА;
КОНСТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ  ДЕСЯТЬ_СЕКУНД;
КОНСТ ОДНА_МИНУТА          60*ОДНА_СЕКУНДА;
КОНСТ ДВЕ_МИНУТЫ          2*ОДНА_МИНУТА;
КОНСТ ПЯТЬ_МИНУТ          5*60*ОДНА_СЕКУНДА;
КОНСТ ДЕСЯТЬ_МИНУТ			10*ОДНА_МИНУТА;
/* КОНСТ ТАЙМАУТ_ВАКУУМИРОВАНИЯ_ТРУБЫ  30*ОДНА_МИНУТА;*/
КОНСТ ТРИДЦАТЬ_МИНУТ          30*ОДНА_МИНУТА;
КОНСТ ПЯТНАДЦАТЬ_МИНУТ          15*ОДНА_МИНУТА;
КОНСТ ТАЙМАУТ_ЗАДЕРЖКА_НА_ОТКАЧКУ ДЕСЯТЬ_СЕКУНД;

КОНСТ ВКЛ                1;
КОНСТ ВЫК               0;
КОНСТ ОТКР              1;
КОНСТ ЗАКР          	0;
КОНСТ ЕСТЬ               1;
КОНСТ НЕТ                0;
КОНСТ НИЖЕ_НОРМЫ		0;
КОНСТ НОРМА              1;
КОНСТ ВЫШЕ_НОРМЫ		2;
КОНСТ ВНЕ_НОРМЫ			0;
КОНСТ ДОСТОВЕРНО                1;
КОНСТ НЕДОСТОВЕРНО               0;
КОНСТ Не_проверяются       0;  /*   доб.16 января 2014*/
КОНСТ Проверяются      1;

КОНСТ ТАЙМАУТ_НА_ДИАГНОСТИКУ_РАЗРЫВА_СВЯЗИ 5*ОДНА_СЕКУНДА;

КОНСТ Т_ПредельнаяВрубашкеОхлаждения          85.0; 
КОНСТ Т_ПредельнаяВбакеОхлаждения          65.0; 

/*===========================================================*/
/*=== КОДЫ СООБЩЕНИЙ ПРОЦЕССОВ КОНТРОЛЯ                     =*/
/*===========================================================*/
ПЕРЕЧИСЛЕНИЕ {
    ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_НИЗКИЙ,
    ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_ВЫСОКИЙ,
	ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_В_НОРМЕ,
	ПК_ГУИ_ОТКАЗ_ДАТЧИКОВ_УРОВНЯ,  
	
	ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_НИЗКАЯ,
	ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_ВЫСОКАЯ,
	ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_В_НОРМЕ,

    ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_РУБАШКЕ_ОХЛАЖДЕНИЯ_НИЗКАЯ,
	ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_РУБАШКЕ_ОХЛАЖДЕНИЯ_ВЫСОКАЯ,
	ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_РУБАШКЕ_ОХЛАЖДЕНИЯ_В_НОРМЕ,

	ПК_ГУИ_ДАВЛЕНИЕ_В_ВАКУУМНОЙ_ТРУБЕ_В_НОРМЕ,
	ПК_ГУИ_ДАВЛЕНИЕ_В_ВАКУУМНОЙ_ТРУБЕ_ВНЕ_НОРМЫ,
	
	ПК_ГУИ_СКОРОСТЬ_ОТКАЧКИ_В_НОРМЕ,
	ПК_ГУИ_СКОРОСТЬ_ОТКАЧКИ_НИЖЕ_НОРМЫ, /*  ????может заменить на нет откачки??? */

		
	ПК_ГУИ_ДАВЛЕНИЕ_В_БАКЕ_КОМПРЕССОРА_В_НОРМЕ,
	ПК_ГУИ_ДАВЛЕНИЕ_В_БАКЕ_КОМПРЕССОРА_ВЫШЕ_НОРМЫ,  /* 6 декабря  */
    ПК_ГУИ_ДАВЛЕНИЕ_В_БАКЕ_КОМПРЕССОРА_НИЖЕ_НОРМЫ,
	
	/* 23 сентября 2014 Лях */
	ПК_ГУИ_ОТКАЗ_ВАКУУМИРОВАНИЯ_ОТКАЗ_ОБОРУДОВАНИЯ,
	ПК_ГУИ_СТАРТ_ВЫКЛЮЧЕНИЯ_ВАКУУМИРОВАНИЯ_ТРУБЫ,
	ПК_ГУИ_СТАРТ_ВЫКЛЮЧЕНИЯ_ВАКУУМНОГО_НАСОСА
	
};
/*===========================================================*/
/*========= КОМАНДЫ ОПЕРАТОРА =============15================*/
/*===========================================================*/
ПЕРЕЧИСЛЕНИЕ {
     КОМ_ГУИ_ОТКР_ЗАТВОР_ВАК= ПК_ГУИ_ДАВЛЕНИЕ_В_БАКЕ_КОМПРЕССОРА_НИЖЕ_НОРМЫ + 1,
     КОМ_ГУИ_ЗАКР_ЗАТВОР_ВАК    	,
     КОМ_ГУИ_ОТКР_САПУН			    ,
     КОМ_ГУИ_ЗАКР_САПУН			    ,
     КОМ_ГУИ_ВКЛ_УСТР_ПЛАВ_ПУСКА    ,
     КОМ_ГУИ_ВЫК_УСТР_ПЛАВ_ПУСКА    ,
/*	 КОМ_ГУИ_ВКЛ_ПИТ_ВАК_НАСОСА     ,  */ /*  меняем на*/
 	 КОМ_ГУИ_ВКЛ_ПИТ_УПП_ВАК_НАСОСА     ,
	 КОМ_ГУИ_ВЫК_ПИТ_УПП_ВАК_НАСОСА     ,
	 КОМ_ГУИ_ВКЛ_ПИТ_ВЕНТИЛЯТОР    ,
	 КОМ_ГУИ_ВЫК_ПИТ_ВЕНТИЛЯТОР    ,
     КОМ_ГУИ_ВКЛ_ПИТ_РЕГ_Т    ,
	 КОМ_ГУИ_ВЫК_ПИТ_РЕГ_Т    ,
     КОМ_ГУИ_ВКЛ_ПИТ_РЕГ_УР     ,
	 КОМ_ГУИ_ВЫК_ПИТ_РЕГ_УР     , 
	 КОМ_ГУИ_ВКЛ_ПИТ_НАС_ОХЛ ,
	 КОМ_ГУИ_ВЫК_ПИТ_НАС_ОХЛ    , 
	 КОМ_ГУИ_ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ,
	 КОМ_ГУИ_ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ, /*14 декабря	*/
	 КОМ_ГУИ_ВКЛ_ВАКУУМНЫЙ_НАСОС ,/*  у нас  нет этой кнопки ?????	*/
/*	 КОМ_ГУИ_ВЫК_ВАКУУМНЫЙ_НАСОС,  */   /*  14 декабря */
     КОМАНДЫ_ОТ_ГУИ = КОМ_ГУИ_ВКЛ_ВАКУУМНЫЙ_НАСОС 
	
};


/*===========================================================*/
/*========= КОМАНДЫ ИЗМЕНЕНИЯ ФАКТИЧЕСКИХ ПАРАМЕТРОВ ========*/
/*===========================================================*/


ПЕРЕЧИСЛЕНИЕ {
	ИЗМН_ФП_P_ВбакеКомпрессора = КОМАНДЫ_ОТ_ГУИ + 1,
	ИЗМН_ФП_P_Впатрубке,
	ИЗМН_ФП_T_Врубашке,	
	ИЗМН_ФП_T_Вбаке,	
    ИЗМН_ФП_P_ВтрубеСидер,
    КОМАНДЫ_ИЗМ_ФП = ИЗМН_ФП_P_ВтрубеСидер  /*  42 */
};

/*===========================================================*/
/*===========================================================*/
/*============= КОДЫ СООБЩЕНИЙ ВАКУУМНОЙ СИСТЕМЫ ============*/
/*===========================================================*/
/*===========================================================*/
ПЕРЕЧИСЛЕНИЕ {                    
      ПК_ГУИ_ОТКАЗ_ОТКРЫТИЯ_ЗАТВОРА_ВАКУУМНОГО = КОМАНДЫ_ИЗМ_ФП + 1,
      ПК_ГУИ_ОТКАЗ_ЗАКРЫТИЯ_ЗАТВОРА_ВАКУУМНОГО,
      ПК_ГУИ_ОТКАЗ_ОТКРЫТИЯ_САПУНА,
      ПК_ГУИ_ОТКАЗ_ЗАКРЫТИЯ_САПУНА,
	  ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_ВЕНТИЛЯТОРА,
	  ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_ВЕНТИЛЯТОРА,
	  ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_УСТР_ПЛАВ_ПУСКА,
	  ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_УСТР_ПЛАВ_ПУСКА,
	  ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ,
	  ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ,
	  ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_РЕГУЛЯТОРА_УРОВНЯ,
	  ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_РЕГУЛЯТОРА_УРОВНЯ,
	  ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_НАСОСА_ОХЛАЖДЕНИЯ,
	  ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_НАСОСА_ОХЛАЖДЕНИЯ,
	  ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ,
	  ПК_ГУИ_НЕТ_УСЛОВИЙ_ДЛЯ_ВЫПОЛНЕНИЯ_КОМАНДЫ,
	  ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_ВНЕ_НОРМЫ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ, 				
	  ПК_ГУИ_ОТРИЦАТЕЛЬНАЯ_ТЕМПЕРАТУРА_ВОДЫ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ,
	  ПК_ГУИ_ДАВЛЕНИЕ_В_ПАТРУБКЕ_НЕ_УМЕНЬШАЕТСЯ,
	  ПК_ГУИ_ДАВЛЕНИЕ_В_ВАК_ТРУБЕ_НЕ_УМЕНЬШАЕТСЯ,
	  ПК_ГУИ_ВАКУУМИРОВАНИЕ_УСПЕШНО_ЗАВЕРШЕНО,	  
	  ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_ПИТАНИЯ_УПП_ВАКУУМНОГО_НАСОСА,   
	  ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_ПИТАНИЯ_УПП_ВАКУУМНОГО_НАСОСА,  
	  ПК_ГУИ_НЕДОСТОВЕРНЫЕ_ДАННЫЕ_ОБОРУДОВАНИЯ_ВАК_СИСТЕМЫ,
	  

		ПК_ГУИ_АВАРИЯ_ДАВЛЕНИЕ_В_БАКЕ_КОМПРЕССОРА_МЕНЬШЕ_2х_АТМОСФЕР, /* 18 августа 2014 */
		ПК_ГУИ_АВАРИЯ__СРОЧНО_ВЫКЛЮЧИТЬ_ВАК_СИСТЕМУ_В_РУЧНОМ_РЕЖИМЕ,	/* 18 августа 2014 */
		ПК_ГУИ_АВАРИЯ_ПЕРЕГРЕВ_РУБАШКИ_ОХЛАЖДЕНИЯ,				/* 21 августа 2014 */
		ПК_ГУИ_АВАРИЯ_ПЕРЕГРЕВ_БАКА_ОХЛАЖДЕНИЯ_НАСОСА,					/* 18 августа 2014 */
		

	  ПК_ГУИ_РЕСТАРТ_НЕДОСТОВЕРНЫЕ_ДАННЫЕ_ОБОРУДОВАНИЯ_ВАК_СИСТЕМЫ, /* добавить в гуи 28 января 2014 */
	  ПК_ГУИ_ЕСТЬ_ПИТАНИЕ_ШКАФА_ВС_380,	/* добавить в гуи 27 января 2014 */
	  ПК_ГУИ_НЕТ_ПИТАНИЕ_ШКАФА_ВС_380,	/* добавить в гуи 27 января 2014 */
	  ПК_ГУИ_ВЕНТИЛЯТОР_ВКЛЮЧЕН,
	  ПК_ГУИ_ВЕНТИЛЯТОР_ВЫКЛЮЧЕН,
	  ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_ВЕНТИЛЯТОРА,
	  ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_ВЕНТИЛЯТОРА,
	  ПК_ГУИ_ЗАТВОР_ВАКУУМНЫЙ_ОТКРЫТ,
	  ПК_ГУИ_ЗАТВОР_ВАКУУМНЫЙ_ЗАКРЫТ,
	  ПК_ГУИ_СРЕДНЕЕ_СОСТОЯНИЕ_ЗАТВОРА_ВАКУУМНОГО,
	  ПК_ГУИ_СОСТОЯНИЕ_ОШИБКИ_ЗАТВОРА_ВАКУУМНОГО,
	  ПК_ГУИ_СПОНТАННОЕ_ОТКРЫТИЕ_ЗАТ_ВАКУУМНОГО,
	  ПК_ГУИ_СПОНТАННОЕ_ЗАКРЫТИЕ_ЗАТ_ВАКУУМНОГО,
	  ПК_ГУИ_САПУН_ОТКРЫТ,
	  ПК_ГУИ_САПУН_ЗАКРЫТ,
	  ПК_ГУИ_СПОНТАННОЕ_ОТКРЫТИЕ_САПУНА,
	  ПК_ГУИ_СПОНТАННОЕ_ЗАКРЫТИЕ_САПУНА,
	  ПК_ГУИ_ПИТАНИЕ_УПП_ВАКУУМНОГО_НАСОСА_ВКЛЮЧЕНО,  /* беда*/
	  ПК_ГУИ_ПИТАНИЕ_УПП_ВАКУУМНОГО_НАСОСА_ВЫКЛЮЧЕНО,  /* беда*/
	  ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_УПП_ВАКУУМНОГО_НАСОСА,
	  ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_УПП_ВАКУУМНОГО_НАСОСА,
	  ПК_ГУИ_ПИТАНИЕ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ_ВКЛЮЧЕНО,
	  ПК_ГУИ_ПИТАНИЕ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ_ВЫКЛЮЧЕНО,
  	  ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ,
	  ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ,
	  ПК_ГУИ_ПИТАНИЕ_РЕГУЛЯТОРА_УРОВНЯ_ВКЛЮЧЕНО,
	  ПК_ГУИ_ПИТАНИЕ_РЕГУЛЯТОРА_УРОВНЯ_ВЫКЛЮЧЕНО,
	  ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_РЕГУЛЯТОРА_УРОВНЯ,
	  ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_РЕГУЛЯТОРА_УРОВНЯ,
	  ПК_ГУИ_ПИТАНИЕ_НАСОСА_ОХЛАЖДЕНИЯ_ВКЛЮЧЕНО,
	  ПК_ГУИ_ПИТАНИЕ_НАСОСА_ОХЛАЖДЕНИЯ_ВЫКЛЮЧЕНО,
	  ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_НАСОСА_ОХЛАЖДЕНИЯ,
	  ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_НАСОСА_ОХЛАЖДЕНИЯ,
	  ПК_ГУИ_УСТРОЙСТВО_ПЛАВНОГО_ПУСКА_ВКЛЮЧЕНО,
	  ПК_ГУИ_УСТРОЙСТВО_ПЛАВНОГО_ПУСКА_ВЫКЛЮЧЕНО,
	  ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_УСТРОЙСТВА_ПЛАВНОГО_ПУСКА,
	  ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_УСТРОЙСТВА_ПЛАВНОГО_ПУСКА,
	  ПК_ГУИ_ОТКАЗ_ВАКУУМИРОВАНИЯ,
	  ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_ВАКУУМНОЙ_ПОДСИСТЕМЫ,
	  ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_ВАКУУМНОЙ_ПОДСИСТЕМЫ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_КОНЦ_ОТКРЫТИЯ_ЗАТВ_ВАКУУМНОГО,
      ПК_ГУИ_НЕТ_СВЯЗИ_С_КОНЦ_ОТКРЫТИЯ_ЗАТВ_ВАКУУМНОГО,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_КОНЦ_ЗАКРЫТИЯ_ЗАТВ_ВАКУУМНОГО,
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_КОНЦ_ЗАКРЫТИЯ_ЗАТВ_ВАКУУМНОГО,
      ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_САПУНОМ,
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_САПУНОМ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ПЛАВНЫМ_ПУСКОМ,
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_ПЛАВНЫМ_ПУСКОМ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ПИТАНИЕМ_ВАК_НАСОСА, 
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_ПИТАНИЕМ_ВАК_НАСОСА,	
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ВЕНТИЛЯТОРОМ,
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_ВЕНТИЛЯТОРОМ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_РЕГ_ТЕМПЕРАТУРЫ,  
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_РЕГ_ТЕМПЕРАТУРЫ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_РЕГ_УРОВНЯ,
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_РЕГ_УРОВНЯ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_НИЖНИМ_КОНЦЕВИКОМ_УР_ВОДЫ_БАКА_ОХЛ,
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_НИЖНИМ_КОНЦЕВИКОМ_УР_ВОДЫ_БАКА_ОХЛ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ВЕРХНИМ_КОНЦЕВИКОМ_УР_ВОДЫ_БАКА_ОХЛ,
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_ВЕРХНИМ_КОНЦЕВИКОМ_УР_ВОДЫ_БАКА_ОХЛ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_НАСОСОСОМ_ОХЛ,
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_НАСОСОСОМ_ОХЛ,
	  ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ПИТАНИЕМ_ШКАФА_380,   /* добавить в гуи 27 января 2014 */
	  ПК_ГУИ_НЕТ_СВЯЗИ_С_ПИТАНИЕМ_ШКАФА_380,		/* добавить в гуи 27 января 2014 */
		ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ДАВЛЕНИЕМ_В_БАКЕ_КОМПРЕССОРА,
		ПК_ГУИ_НЕТ_СВЯЗИ_С_ДАВЛЕНИЕМ_В_БАКЕ_КОМПРЕССОРА,
		ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ДАВЛЕНИЕМ_В_ПАТРУБКЕ,		/* добавить сообщения 3 мая 2014 */
		ПК_ГУИ_НЕТ_СВЯЗИ_С_ДАВЛЕНИЕМ_В_ПАТРУБКЕ,		/* добавить сообщения 3 мая 2014 */
		ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ТЕМПЕРАТУРОЙ_В_РУБАШКЕ_ОХЛ,	/* добавить сообщения 3 мая 2014 */
		ПК_ГУИ_НЕТ_СВЯЗИ_С_ТЕМПЕРАТУРОЙ_В_РУБАШКЕ_ОХЛ,	/* добавить сообщения 3 мая 2014 */
		ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ТЕМПЕРАТУРОЙ_В_БАКЕ_ОХЛ,		/* добавить сообщения 3 мая 2014 */
		ПК_ГУИ_НЕТ_СВЯЗИ_С_ТЕМПЕРАТУРОЙ_В_БАКЕ_ОХЛ,		/* добавить сообщения 3 мая 2014 */
		ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ДАВЛЕНИЕМ_В_ТРУБЕ_СИД,	/* добавить сообщения 3 мая 2014 */
		ПК_ГУИ_НЕТ_СВЯЗИ_С_ДАВЛЕНИЕМ_В_ТРУБЕ_СИД,	/* добавить сообщения 3 мая 2014 */
	  ПК_ГУИ_ВАКУУМИРОВАНИЕ_ТРУБЫ_ВКЛЮЧЕНО,
	  ПК_ГУИ_ВАКУУМИРОВАНИЕ_ТРУБЫ_ВЫКЛЮЧЕНО
};


/*===========================================================*/
/*========= КОДЫ СООБЩЕНИЙ ИЗМЕНЕНИЙ ФП         =============*/
/*===========================================================*/
ПЕРЕЧИСЛЕНИЕ {                    
      ПК_ГУИ_ФП_P_ВбакеКомпрессора = ПК_ГУИ_ВАКУУМИРОВАНИЕ_ТРУБЫ_ВЫКЛЮЧЕНО + 1,
      ПК_ГУИ_ФП_P_Впатрубке,
      ПК_ГУИ_ФП_T_Врубашке,
      ПК_ГУИ_ФП_T_Вбаке,
      ПК_ГУИ_ФП_P_ВтрубеСидер
      
};
/*===========================================================*/
/*= КОДЫ КОМАНД ИЗМЕНЕНИЯ НАСТРОЕЧНЫХ ПАРАМЕТРОВ   ==========*/
/*===========================================================*/

ПЕРЕЧИСЛЕНИЕ {
ИЗМН_НП_1 = ПК_ГУИ_ФП_P_ВтрубеСидер + 1,
ИЗМН_НП_ЗД_P_ВбакеКомпрессора = ИЗМН_НП_1,
ИЗМН_НП_ЗД_Pатмосф,
ИЗМН_НП_ЗД_P_ВтрубеСидер,	
ИЗМН_НП_ЗД_T_ВрубашкеНижняя,		/* добавлено 20 января 2014 */
ИЗМН_НП_ЗД_T_ВрубашкеВерхняя,	/* добавлено 20 января 2014 */
ИЗМН_НП_ЗД_T_ВбакеНижняя,/* добавлено 20 января 2014 */
ИЗМН_НП_ЗД_T_ВбакеВерхняя,/* добавлено 20 января 2014 */

ИЗМН_НП_ЗД_ПериодаКонтрP_ПриОткачке,  /* добавлено 7 января 2014 */
ИЗМН_НП_ЗД_ПериодаКонтрP_ПриНатекании, /* добавлено 7 января 2014 */

ИЗМН_НП_ЗД_Гист_T_Вбаке,
ИЗМН_НП_ЗД_Гист_T_Врубашке,
ИЗМН_НП_ЗД_Гист_P_ВбакеКомпрессора,
ИЗМН_НП_ЗД_Гист_P_ВтрубеСидерВерх,
ИЗМН_НП_ЗД_Гист_P_ВтрубеСидерНиж,

ИЗМН_НП_N
};

/*===========================================================*/
/*========= КОДЫ СООБЩЕНИЙ  О НЕВЕРНОЙ КОМАНДЕ ==============*/
/*===========================================================*/


ПЕРЕЧИСЛЕНИЕ {
     ПК_ГУИ_ОШИБКА_КОДА_КОМАНДЫ_ОТ_ГУИ = ИЗМН_НП_N + 1  
}; 

/*###########################################################*/
/*###########################################################*/
/*########                                          #########*/
/*########  ОПИСАНИЕ ФУНКЦИЙ                        #########*/
/*########                                          #########*/
/*########                                          #########*/
/*###########################################################*/

/*:::::::::Функции для работы  с ГУИ :::::::::::::::::::::   */

/*чтение кода и параметра события от ПИВ из кольцевого буфера в память */
ФУНКЦИЯ ЦЕЛ GetNextMsgGUI(ПУСТО);

ФУНКЦИЯ ЦЕЛ  GetMsgGUICode        (ПУСТО);  /*чтение из памяти кода события */
ФУНКЦИЯ ПЛАВ GetFloatParamGUI     (ПУСТО);  /*чтение из памяти параметра события  используется */
/* ФУНКЦИЯ КЦЕЛ GetShortParamGUI     (ПУСТО); */
ФУНКЦИЯ ЦЕЛ  GetIntParamGUI       (ПУСТО);  /*чтение с экрана гуи - не исползуется */
ФУНКЦИЯ ДЦЕЛ GetLongParamGUI      (ПУСТО);  /*чтение с экрана гуи - исползуется */

ФУНКЦИЯ ЦЕЛ  SendMsgGUICode       (ЦЕЛ);
ФУНКЦИЯ ЦЕЛ  SendMsgFloatParamGUI (ЦЕЛ, ПЛАВ);
/* ФУНКЦИЯ ЦЕЛ  SendMsgShortParamGUI (ЦЕЛ, КЦЕЛ); */
/* ФУНКЦИЯ ЦЕЛ  SendMsgIntParamGUI   (ЦЕЛ, ЦЕЛ); */
ФУНКЦИЯ ЦЕЛ  SendMsgLongParamGUI  (ЦЕЛ, ДЦЕЛ);

ФУНКЦИЯ ЦЕЛ  InitChannelStatus_GUI (ПУСТО); /* инициализация статуса,
/*обнуление числа ошибок */
ФУНКЦИЯ ЦЕЛ  GetChannelStatus_GUI  (ПУСТО);  /* чтение статуса канала 0/1 - не исползуется*/
ФУНКЦИЯ ЦЕЛ  GetErrorNumberCS_GUI  (ПУСТО);  /* чтение числа ошибок КС  - не исползуется*/
ФУНКЦИЯ ЦЕЛ  GetErrorNumberTO_GUI  (ПУСТО);  /* чтение числа ошибок по тайм ауту - не исползуется*/
ФУНКЦИЯ ЦЕЛ  GetInpMsgNumber_GUI (ПУСТО);  /* чтение числа сообщ. во входн. буфере - не исползуется*/
ФУНКЦИЯ ЦЕЛ  GetOutMsgNumber_GUI (ПУСТО); /* чтение числа сообщ. в выходн. буфере -  не исползуется*/

ФУНКЦИЯ ПЛАВ GetFP_P_BAK_COMPRESSOR		(ПУСТО);	/* чтение давления в баке компрессора */ 
ФУНКЦИЯ ПЛАВ GetFP_P_PATRUBKA			(ПУСТО);   /* чтение давления  в патрубке      */
ФУНКЦИЯ ПЛАВ GetFP_T_RUBACHKA			(ПУСТО);	/* чтение температуры воды в рубашке охлаждения */
ФУНКЦИЯ ПЛАВ GetFP_T_BAK				(ПУСТО);	/* чтение температуры воды в баке охлаждения */ 
ФУНКЦИЯ ПЛАВ GetFP_P_TRUBA				(ПУСТО);	/* чтение давления в трубе сидера */


/*###########################################################*/
/*########                                          #########*/
/*########  ОПИСАНИЕ РЕГИСТРОВ МОДУЛЕЙ УСО          #########*/
/*########  (устройство связи с объектом)           #########*/
/*###########################################################*/

ВХОД  К_ЛОГ_ВХОД_ОТКР_ЗАТВОР_ВАК  	0 0 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_ЗАКР_ЗАТВОР_ВАК  	0 1 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_САПУН  			0 2 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_УСТР_ПЛАВ_ПУСКА  	0 3 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_ПИТ_УПП_ВАК_НАСОСА  	0 4 8; /* имя, базовый адрес, доп. адр. порта, 8бит */ 
ВХОД  К_ЛОГ_ВХОД_ПИТ_ВЕНТИЛЯТОРА  	0 5 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_ПИТ_РЕГ_Т  		0 6 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_ПИТ_РЕГ_УР  		0 7 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_УР_ВОДЫ_MIN  		0 8 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_УР_ВОДЫ_MAX  		0 9 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_ПИТ_НАСОС_ОХЛ  	0 10 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВХОД  К_ЛОГ_ВХОД_ШКАФ_ВС_380		0 11 8; /* имя, базовый адрес, доп. адр. порта, 8бит */  /*добавлено 23 января 2014 */
/* входы для достоверностей фактических значений */
ВХОД  К_ЛОГ_ВХОД_P_ВбакеКомпрессора	0 12 8; /* имя, базовый адрес, доп. адр. порта, 8бит */  /*добавлено 12 мая 2014 */
ВХОД  К_ЛОГ_ВХОД_P_Впатрубке		0 13 8; /* имя, базовый адрес, доп. адр. порта, 8бит */  /*добавлено 12 мая 2014 */
ВХОД  К_ЛОГ_ВХОД_T_Врубашке			0 14 8; /* имя, базовый адрес, доп. адр. порта, 8бит */  /*добавлено 12 мая 2014 */
ВХОД  К_ЛОГ_ВХОД_T_Вбаке			0 15 8; /* имя, базовый адрес, доп. адр. порта, 8бит */  /*добавлено 12 мая 2014 */
ВХОД  К_ЛОГ_ВХОД_P_ВтрубеСидер		0 16 8; /* имя, базовый адрес, доп. адр. порта, 8бит */  /*добавлено 12 мая 2014 */




/* ВХОД АЦП_T_Вбаке		 			0 66 16; */  /* регистр АЦП */
/*ВХОД АЦП_T_Врубашке	 			0 67 16; */ /* регистр АЦП */
/*ВХОД АЦП_P_ВтрубеСидер	 		0 68 16; */ /* регистр АЦП */
/*ВХОД АЦП_P_Впатрубке 				0 69 16; */ /*   регистр АЦП */
/*ВХОД АЦП_P_ВбакеКомпрессора 		0 70 16; */ /* регистр АЦП */

ВЫХОД  У_ЛОГ_ВЫХОД_ПИТ_ВЕНТИЛЯТОРА  1 0 8; /* имя, базовый адрес, доп. адр. порта, 8бит */
ВЫХОД  У_ЛОГ_ВЫХОД_ПИТ_РЕГ_Т		1 1 8;
ВЫХОД  У_ЛОГ_ВЫХОД_ПИТ_НАС_ОХЛ		1 2 8;
ВЫХОД  У_ЛОГ_ВЫХОД_ПИТ_УПП_ВАК_НАСОСА	1 3 8;  
ВЫХОД  У_ЛОГ_ВЫХОД_ЗАТВОР_ВАК		1 4 8;
ВЫХОД  У_ЛОГ_ВЫХОД_САПУН			1 5 8;
ВЫХОД  У_ЛОГ_ВЫХОД_УСТР_ПЛАВ_ПУСКА	1 6 8;
ВЫХОД  У_ЛОГ_ВЫХОД_ПИТ_РЕГ_УР		1 7 8;


/*ВЫХОД  ЛОГ_ВЫХОД_GPIO21  1 1 8; */ /* имя, базовый адрес, доп. адр. порта, 8бит */


/*###########################################################*/
/*########                                          #########*/
/*########  ПРОЦЕССЫ                                #########*/
/*########                                          #########*/
/*###########################################################*/

/*
 * Процесс Инициализация. Служит для
 * развертывания программы. Этот процесс (описанный
 * первым) - единственно активный процесс по запуску.
 * Кроме этого, процесс Инициализация содержит описание 
 * переменных для ссылок из других
 * процессов. Это удобно: описания локализованы в одном
 * месте.
*/

ПРОЦ Инициализация{
/*===========================================================*/
/*=========== ОПИСАНИЕ ПЕРЕМЕННЫХ ===========================*/
/*===========================================================*/

/* ВХОДНЫЕ СИГНАЛЫ: */
/*-----------------*/


ЛОГ К_ОТКР_ЗАТВОР_ВАК          	= {К_ЛОГ_ВХОД_ОТКР_ЗАТВОР_ВАК[1]} ДЛЯ ВСЕХ; /*  концевик затвора вакуумного*/
ЛОГ Д_ОТКР_ЗАТВОР_ВАК          	= {К_ЛОГ_ВХОД_ОТКР_ЗАТВОР_ВАК[1]} ДЛЯ ВСЕХ; /*  достоверность*/

ЛОГ К_ЗАКР_ЗАТВОР_ВАК          	= {К_ЛОГ_ВХОД_ЗАКР_ЗАТВОР_ВАК[1]} ДЛЯ ВСЕХ; /*  концевик затвора вакуумного*/
ЛОГ Д_ЗАКР_ЗАТВОР_ВАК          	= {К_ЛОГ_ВХОД_ЗАКР_ЗАТВОР_ВАК[1]} ДЛЯ ВСЕХ;

ЛОГ К_САПУН                     = {К_ЛОГ_ВХОД_САПУН[1]} ДЛЯ ВСЕХ;
ЛОГ Д_САПУН                     = {К_ЛОГ_ВХОД_САПУН[1]} ДЛЯ ВСЕХ;

ЛОГ К_УСТР_ПЛАВ_ПУСКА			= {К_ЛОГ_ВХОД_УСТР_ПЛАВ_ПУСКА[1]} ДЛЯ ВСЕХ;
ЛОГ Д_УСТР_ПЛАВ_ПУСКА			= {К_ЛОГ_ВХОД_УСТР_ПЛАВ_ПУСКА[1]} ДЛЯ ВСЕХ;

ЛОГ К_ПИТ_УПП_ВАК_НАСОСА	 	= {К_ЛОГ_ВХОД_ПИТ_УПП_ВАК_НАСОСА[1]} ДЛЯ ВСЕХ; 
ЛОГ Д_ПИТ_УПП_ВАК_НАСОСА		= {К_ЛОГ_ВХОД_ПИТ_УПП_ВАК_НАСОСА[1]} ДЛЯ ВСЕХ; 

ЛОГ К_ПИТ_ВЕНТИЛЯТОРА           = {К_ЛОГ_ВХОД_ПИТ_ВЕНТИЛЯТОРА[1]} ДЛЯ ВСЕХ; 
ЛОГ Д_ПИТ_ВЕНТИЛЯТОРА           = {К_ЛОГ_ВХОД_ПИТ_ВЕНТИЛЯТОРА[1]} ДЛЯ ВСЕХ; 

ЛОГ К_ПИТ_РЕГ_Т 			    = {К_ЛОГ_ВХОД_ПИТ_РЕГ_Т[1]} ДЛЯ ВСЕХ;
ЛОГ Д_ПИТ_РЕГ_Т 			    = {К_ЛОГ_ВХОД_ПИТ_РЕГ_Т[1]} ДЛЯ ВСЕХ;

ЛОГ К_ПИТ_РЕГ_УР     			= {К_ЛОГ_ВХОД_ПИТ_РЕГ_УР[1]} ДЛЯ ВСЕХ;
ЛОГ Д_ПИТ_РЕГ_УР     			= {К_ЛОГ_ВХОД_ПИТ_РЕГ_УР[1]} ДЛЯ ВСЕХ;

ЛОГ К_УР_ВОДЫ_MIN  				= {К_ЛОГ_ВХОД_УР_ВОДЫ_MIN[1]} ДЛЯ ВСЕХ;
ЛОГ Д_УР_ВОДЫ_MIN  				= {К_ЛОГ_ВХОД_УР_ВОДЫ_MIN[1]} ДЛЯ ВСЕХ;

ЛОГ К_УР_ВОДЫ_MAX   			= {К_ЛОГ_ВХОД_УР_ВОДЫ_MAX[1]} ДЛЯ ВСЕХ;
ЛОГ Д_УР_ВОДЫ_MAX   			= {К_ЛОГ_ВХОД_УР_ВОДЫ_MAX[1]} ДЛЯ ВСЕХ;

ЛОГ К_ПИТ_НАСОС_ОХЛ 			= {К_ЛОГ_ВХОД_ПИТ_НАСОС_ОХЛ[1]} ДЛЯ ВСЕХ;
ЛОГ Д_ПИТ_НАСОС_ОХЛ 			= {К_ЛОГ_ВХОД_ПИТ_НАСОС_ОХЛ[1]} ДЛЯ ВСЕХ;

ЛОГ К_ШКАФ_ВС_380 				= {К_ЛОГ_ВХОД_ШКАФ_ВС_380[1]} ДЛЯ ВСЕХ;  /* добавлено 23 января 2014*/
ЛОГ Д_ШКАФ_ВС_380 				= {К_ЛОГ_ВХОД_ШКАФ_ВС_380[1]} ДЛЯ ВСЕХ;	/* добавлено 23 января 2014*/

/* для достоверностей фактических значений */

ЛОГ К_ПУТО1 				= {К_ЛОГ_ВХОД_P_ВбакеКомпрессора[1]} ДЛЯ ВСЕХ;  /* добавлено 12 мая 2014*/
ЛОГ Д_P_ВбакеКомпрессора	= {К_ЛОГ_ВХОД_P_ВбакеКомпрессора[1]} ДЛЯ ВСЕХ;	/* добавлено 12 мая 2014*/

ЛОГ К_ПУТО2 				= {К_ЛОГ_ВХОД_P_Впатрубке[1]} ДЛЯ ВСЕХ;  /* добавлено 12 мая 2014*/
ЛОГ Д_P_Впатрубке			= {К_ЛОГ_ВХОД_P_Впатрубке[1]} ДЛЯ ВСЕХ;	/* добавлено 12 мая 2014*/

ЛОГ К_ПУТО3 				= {К_ЛОГ_ВХОД_T_Врубашке[1]} ДЛЯ ВСЕХ;  /* добавлено 12 мая 2014*/
ЛОГ Д_T_Врубашке			= {К_ЛОГ_ВХОД_T_Врубашке[1]} ДЛЯ ВСЕХ;	/* добавлено 12 мая 2014*/

ЛОГ К_ПУТО4 				= {К_ЛОГ_ВХОД_T_Вбаке[1]} ДЛЯ ВСЕХ;  /* добавлено 12 мая 2014*/
ЛОГ Д_T_Вбаке				= {К_ЛОГ_ВХОД_T_Вбаке[1]} ДЛЯ ВСЕХ;	/* добавлено 12 мая 2014*/

ЛОГ К_ПУТО5 				= {К_ЛОГ_ВХОД_P_ВтрубеСидер[1]} ДЛЯ ВСЕХ;  /* добавлено 12 мая 2014*/
ЛОГ Д_P_ВтрубеСидер			= {К_ЛОГ_ВХОД_P_ВтрубеСидер[1]} ДЛЯ ВСЕХ;	/* добавлено 12 мая 2014*/


/* ВЫХОДНЫЕ СИГНАЛЫ (т.к. привязаны к модулю выходов): */ 

ЛОГ У_ПИТ_ВЕНТИЛЯТОРА   			= {У_ЛОГ_ВЫХОД_ПИТ_ВЕНТИЛЯТОРА[1]} ДЛЯ ВСЕХ; 
ЛОГ У_ПИТ_РЕГ_Т      				= {У_ЛОГ_ВЫХОД_ПИТ_РЕГ_Т[1]} ДЛЯ ВСЕХ;   
ЛОГ У_ПИТ_НАС_ОХЛ      				= {У_ЛОГ_ВЫХОД_ПИТ_НАС_ОХЛ[1]} ДЛЯ ВСЕХ;   
ЛОГ У_ПИТ_УПП_ВАК_НАСОСА				= {У_ЛОГ_ВЫХОД_ПИТ_УПП_ВАК_НАСОСА[1]} ДЛЯ ВСЕХ; 
ЛОГ У_ЗАТВОР_ВАК					= {У_ЛОГ_ВЫХОД_ЗАТВОР_ВАК[1]} ДЛЯ ВСЕХ; 
ЛОГ У_САПУН							= {У_ЛОГ_ВЫХОД_САПУН[1]} ДЛЯ ВСЕХ; 
ЛОГ У_УСТР_ПЛАВ_ПУСКА				= {У_ЛОГ_ВЫХОД_УСТР_ПЛАВ_ПУСКА[1]} ДЛЯ ВСЕХ; 
ЛОГ У_ПИТ_РЕГ_УР					= {У_ЛОГ_ВЫХОД_ПИТ_РЕГ_УР[1]} ДЛЯ ВСЕХ; 


/*===========================================================*/
/*=========== ЯЧЕЙКИ ИНФОРМАЦИОННЫХ КАНАЛОВ =================*/
/*===========================================================*/
ЦЕЛ КодСобытия_от_ГУИ        ДЛЯ ВСЕХ;
ЦЕЛ КодСобытия_к_ГУИ         ДЛЯ ВСЕХ;

  
  
/*===========================================================*/
/*=========== ЯЧЕЙКИ ОБЩЕГО УПРАВЛЕНИЯ ======================*/
/*===========================================================*/
ЛОГ ФлагГотовУрВодыБО ДЛЯ ВСЕХ;  /* Флаг установлен, если уровень воды в баке охлаждения в норме*/ 
ЛОГ ФлагГотовТемпВодыБО ДЛЯ ВСЕХ;  /* Флаг установлен, если  температура в баке охлаждения в норме*/ 
ЦЕЛ ФлагГотовTВодыРО ДЛЯ ВСЕХ;  /* Флаг установлен, если  температура в рубашке охлаждения в норме*/ 
ЛОГ ФлагГотовВакуумаВТ ДЛЯ ВСЕХ;
ЛОГ ФлагОткачкиТрубыСидеростата ДЛЯ ВСЕХ;
ЛОГ ФлагДавленияКомпрессора ДЛЯ ВСЕХ;

/* Состояние оборудования (пока не используется)*/

ЛОГ ФлагСостоянияВентилятора ДЛЯ ВСЕХ;
ЛОГ ФлагСостоянияЗатвораВакуумного ДЛЯ ВСЕХ;
ЛОГ ФлагСостоянияСапуна ДЛЯ ВСЕХ;
ЛОГ ФлагСостоянияУстройстваПлавногоПуска ДЛЯ ВСЕХ;
ЛОГ ФлагСостоянияВакуумногоНасоса ДЛЯ ВСЕХ;
ЛОГ ФлагСостоянияРегулятораТемпературы ДЛЯ ВСЕХ;			
ЛОГ ФлагСостоянияРегулятораУровня ДЛЯ ВСЕХ;
ЛОГ ФлагСостоянияНасосаОхлаждения ДЛЯ ВСЕХ;	
		
/*добавлено 15 января 2014 г. для того, чтобы не использовать К_ в высокоуровневых процессах */
ЛОГ КонцевикОткрытияЗатвораВакуумного ДЛЯ ВСЕХ; /*  концевик затвора вакуумного*/
ЛОГ КонцевикЗакрытияЗатвораВакуумного ДЛЯ ВСЕХ;/*  концевик затвора вакуумного*/
ЛОГ СостояниеСапуна 					ДЛЯ ВСЕХ;
ЛОГ СостояниеУСТР_ПЛАВ_ПУСКА 			ДЛЯ ВСЕХ;
ЛОГ СостояниеУППВакуумногоНасоса 			ДЛЯ ВСЕХ;
ЛОГ СостояниеВентилятора 				ДЛЯ ВСЕХ;
ЛОГ СостояниеПитШкафаВС380 				ДЛЯ ВСЕХ;
ЛОГ СостояниеПИТ_РЕГ_Т 				ДЛЯ ВСЕХ;
ЛОГ СостояниеПИТ_РЕГ_УР 			ДЛЯ ВСЕХ;
ЛОГ СостояниеПИТ_НАСОС_ОХЛ 			ДЛЯ ВСЕХ;

ЛОГ СвязьС_P_ВбакеКомпрессора 		ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_P_Впатрубке 				ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_T_Врубашке 				ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_T_Вбаке	 				ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_P_ВтрубеСидер			ДЛЯ ВСЕХ;			/* 18 августа 2014 */

ЛОГ	СвязьС_РегуляторомУровня		ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_РегуляторомТемпературы	ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_Вентилятором				ДЛЯ ВСЕХ;			/* 18 августа 2014 */			
ЛОГ	СвязьС_НасосомОхлаждения		ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_КонцевикомОткрытияЗВ		ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_КонцевикомЗакрытияЗВ		ДЛЯ ВСЕХ;			/* 18 августа 2014 */
	
ЛОГ	СвязьС_КонцевикомСапуна			ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_ПитаниемПлавногоПуска	ДЛЯ ВСЕХ;			/* 18 августа 2014 */
ЛОГ	СвязьС_ПлавнымПуском			ДЛЯ ВСЕХ;			/* 18 августа 2014 */
/*а связь с концевиками уровня воды????*/

ЛОГ К_Достоверности 				ДЛЯ ВСЕХ;			/* добавлено 16 января 2014*/

ДЦЕЛ ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА ДЛЯ ВСЕХ; /* ????????чтобы в отмену не уходить */


/*===========================================================*/
/*=========== ФАКТИЧЕСКИЕ ПАРАМЕТРЫ =========================*/
/*===========================================================*/
/*ПЛАВ ФП_Pтрубы ДЛЯ ВСЕХ;*/
/* ????????????????????????????????????????????????????????????????? */
/*  Саша Курочкин будет ацепировать */
/*ЦЕЛ	ФП_P_ВбакеКомпрессора 	= {P_ВбакеКомпрессора [16]} 	ДЛЯ ВСЕХ; */
/*ЦЕЛ	ФП_P_Впатрубке	 		= {P_Впатрубке [16]}			ДЛЯ ВСЕХ; 	*/
/*ЦЕЛ	ФП_T_Врубашке 			= {T_Врубашке [16]}				ДЛЯ ВСЕХ; 	*/
/*ЦЕЛ	ФП_T_Вбаке 				= {T_Вбаке [16]}				ДЛЯ ВСЕХ;	*/ 
/*ЦЕЛ	ФП_P_ВтрубеСидер 		= {P_ВтрубеСидер [16]} 			ДЛЯ ВСЕХ; 	*/


ПЛАВ ФП_P_ВбакеКомпрессора ДЛЯ ВСЕХ; 
ПЛАВ ФП_P_Впатрубке ДЛЯ ВСЕХ;
ПЛАВ ФП_T_Врубашке ДЛЯ ВСЕХ;	
ПЛАВ ФП_T_Вбаке ДЛЯ ВСЕХ;
ПЛАВ ФП_P_ВтрубеСидер ДЛЯ ВСЕХ;
/*===========================================================*/
/*============       НАСТРОЕЧНЫЕ ПАРАМЕТРЫ        ===========*/
/*===========================================================*/
ПЛАВ НП_ЗД_P_ВбакеКомпрессора  ДЛЯ ВСЕХ;
ПЛАВ НП_ЗД_Pатмосф             ДЛЯ ВСЕХ;
ПЛАВ НП_ЗД_P_ВтрубеСидер ДЛЯ ВСЕХ;

ПЛАВ НП_ЗД_T_ВрубашкеНижняя  		ДЛЯ ВСЕХ;	/* добавлено 20 января 2014 */
ПЛАВ НП_ЗД_T_ВрубашкеВерхняя  		ДЛЯ ВСЕХ;	/* добавлено 20 января 2014 */
ПЛАВ НП_ЗД_T_ВбакеНижняя  			ДЛЯ ВСЕХ;	/* добавлено 20 января 2014 */
ПЛАВ НП_ЗД_T_ВбакеВерхняя  			ДЛЯ ВСЕХ;	/* добавлено 20 января 2014 */

ДЦЕЛ НП_ЗД_ПериодаКонтрP_ПриОткачке ДЛЯ ВСЕХ;  /* добавлено 7 января 2014 */
ДЦЕЛ НП_ЗД_ПериодаКонтрP_ПриНатекании ДЛЯ ВСЕХ; /* добавлено 7 января 2014 */

ПЛАВ НП_ЗД_Гист_T_Вбаке  			ДЛЯ ВСЕХ;	/* добавлено 3 февраля 2014 */
ПЛАВ НП_ЗД_Гист_T_Врубашке  		ДЛЯ ВСЕХ;	/* добавлено 3 февраля 2014 */
ПЛАВ НП_ЗД_Гист_P_ВбакеКомпрессора 	ДЛЯ ВСЕХ;	/* добавлено 3 февраля 2014 */
ПЛАВ НП_ЗД_Гист_P_ВтрубеСидерВерх  	ДЛЯ ВСЕХ;	/* добавлено 3 февраля 2014 */
ПЛАВ НП_ЗД_Гист_P_ВтрубеСидерНиж  	ДЛЯ ВСЕХ;	/* добавлено 3 февраля 2014 */

/*########  СОСТОЯНИЯ ПРОЦЕССА  #########*/
 СОСТ Начало{ 		/* добавлено 16 января 2014 */
	ФлагГотовУрВодыБО = ВНЕ_НОРМЫ;
	ФлагГотовТемпВодыБО = ВНЕ_НОРМЫ;
	ФлагГотовTВодыРО = ВНЕ_НОРМЫ;
	ФлагГотовВакуумаВТ = ВНЕ_НОРМЫ;
	ФлагОткачкиТрубыСидеростата = ВНЕ_НОРМЫ;
	ФлагДавленияКомпрессора = ВНЕ_НОРМЫ;
/*ШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШ*/
/* сделано для отладки, т.к. у нас нет имитаторов всех элементов вак. системы         */
/*	К_Достоверности = Не_проверяются; */			/* режим без проверки достоверностей К*/
	К_Достоверности = Проверяются;		/* режим с проверкой достоверностей К     */
/*ШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШШ*/
	/*======================================================================================*/
	/*Процессы. для отображения на ГУИ наличие связи с датчиками, а точнее с мохами			*/	
	/*  Сообщают: есть связь или нет														*/
	/*======================================================================================*/	
	СТАРТ ПРОЦ КонтрольДостоверностиОткрЗатВакуумного;
	СТАРТ ПРОЦ КонтрольДостоверностиЗакрЗатВакуумного;
	СТАРТ ПРОЦ КонтрольДостоверностиСостоянияСапуна;
	СТАРТ ПРОЦ КонтрольДостоверностиСостоянияУстройстваПлавПуска;
	СТАРТ ПРОЦ КонтрольДостоверностиСостПитанияУППВакНасоса;
	СТАРТ ПРОЦ КонтрольДостоверностиСостоянияПитанияВентилятора;
	СТАРТ ПРОЦ КонтрольДостоверностиСостоянияПитанияРегТемпературы;
	СТАРТ ПРОЦ КонтрольДостоверностиСостоянияПитанияРегУровня;
	СТАРТ ПРОЦ КонтрольДостоверностиУровняВодыМинимум;
	СТАРТ ПРОЦ КонтрольДостоверностиУровняВодыМаксимум;
	СТАРТ ПРОЦ КонтрольДостоверностиСостоянияПитанияНасОхлаждения;
	СТАРТ ПРОЦ КонтрольДостоверностиСостоянияПитанияШКАФА_ВС;   
	СТАРТ ПРОЦ КонтрольДостоверностиДавленияВбакеКомпрессора;
	СТАРТ ПРОЦ КонтрольДостоверностиДавленияВпатрубке;
	СТАРТ ПРОЦ КонтрольДостоверностиТемпературыВрубашкеОхлаждения;
	СТАРТ ПРОЦ КонтрольДостоверностиТемпературыВбакеОхлаждения;
	СТАРТ ПРОЦ КонтрольДостоверностиДавленияВтрубеСидеростата;
	В СЛЕДУЮЩЕЕ;
 }
 /* это чтобы лампочку погасить*/
 	СОСТ КонтрольИдетЛиВакуумированиеВакуумирования{
		ЕСЛИ ((ПРОЦ  ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) &&
			(ПРОЦ  ВКЛ_ВАКУУМНЫЙ_НАСОС В СОСТ ПАССИВНОЕ)) {
				ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ВАКУУМИРОВАНИЕ_ТРУБЫ_ВЫКЛЮЧЕНО)) В СЛЕДУЮЩЕЕ;
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
 
 СОСТ ВыборРаботыСдостоверностями{

	ЕСЛИ (К_Достоверности == Не_проверяются) В СОСТ НеПроверяемДостоверностьКонтроля;
	ИНАЧЕ В СОСТ ПроверяемДостоверностьКонтроля;
 }
 СОСТ НеПроверяемДостоверностьКонтроля{  /* восстановление управления*/
	/* позволяет установить управленческие команды по контрольным сигналам*/
	ЕСЛИ (К_САПУН) 				У_САПУН = ВКЛ;
	ЕСЛИ (К_УСТР_ПЛАВ_ПУСКА) 	У_УСТР_ПЛАВ_ПУСКА = ВКЛ;
	ЕСЛИ (К_ПИТ_УПП_ВАК_НАСОСА) 	У_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;   
	ЕСЛИ (К_ПИТ_ВЕНТИЛЯТОРА) 	У_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;
	ЕСЛИ (К_ПИТ_РЕГ_Т) 			У_ПИТ_РЕГ_Т = ВКЛ;
	ЕСЛИ (К_ПИТ_РЕГ_УР) 		У_ПИТ_РЕГ_УР = ВКЛ;
	ЕСЛИ (К_ПИТ_НАСОС_ОХЛ) 		У_ПИТ_НАС_ОХЛ = ВКЛ;	
	ЕСЛИ  ((К_ОТКР_ЗАТВОР_ВАК) && (!К_ЗАКР_ЗАТВОР_ВАК)) 	У_ЗАТВОР_ВАК = ОТКР; 
	ЕСЛИ ((!К_ОТКР_ЗАТВОР_ВАК) && (К_ЗАКР_ЗАТВОР_ВАК)) 		У_ЗАТВОР_ВАК = ЗАКР;
	
	В СОСТ НачалоРаботы; 
 }
 СОСТ ПроверяемДостоверностьКонтроля{   /* восстановление управления и ожидание достоверных данных*/
										/* т.к. от железа в момент включения true может прийти*/
							
										
	ЕСЛИ ( 	
			(Д_P_ВбакеКомпрессора) &&		/* август 2014*/
			(Д_P_Впатрубке) &&
			(Д_T_Врубашке) &&
			(Д_T_Вбаке) &&
			(Д_P_ВтрубеСидер) &&
			
			(Д_ОТКР_ЗАТВОР_ВАК) &&				
			(Д_ЗАКР_ЗАТВОР_ВАК) &&
			(Д_САПУН) &&
			(Д_УСТР_ПЛАВ_ПУСКА) &&
			(Д_ПИТ_УПП_ВАК_НАСОСА) &&     
			(Д_ПИТ_ВЕНТИЛЯТОРА) &&
			(Д_ПИТ_РЕГ_Т) &&
			(Д_ПИТ_РЕГ_УР) &&
			(Д_УР_ВОДЫ_MIN) &&
			(Д_УР_ВОДЫ_MAX) &&
			(Д_ПИТ_НАСОС_ОХЛ) && 
			(Д_ШКАФ_ВС_380)  
			) {
				ЕСЛИ (К_САПУН) 				У_САПУН = ВКЛ;
				ЕСЛИ (К_УСТР_ПЛАВ_ПУСКА)	У_УСТР_ПЛАВ_ПУСКА = ВКЛ;
				ЕСЛИ (К_ПИТ_УПП_ВАК_НАСОСА)  	У_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;   
				ЕСЛИ (К_ПИТ_ВЕНТИЛЯТОРА)  	У_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;
				ЕСЛИ (К_ПИТ_РЕГ_Т)			У_ПИТ_РЕГ_Т = ВКЛ;
				ЕСЛИ (К_ПИТ_РЕГ_УР) 		У_ПИТ_РЕГ_УР = ВКЛ;
				ЕСЛИ (К_ПИТ_НАСОС_ОХЛ)   	У_ПИТ_НАС_ОХЛ = ВКЛ;
				ЕСЛИ  ((К_ОТКР_ЗАТВОР_ВАК) && (!К_ЗАКР_ЗАТВОР_ВАК)) У_ЗАТВОР_ВАК = ОТКР; 
				ЕСЛИ ((!К_ОТКР_ЗАТВОР_ВАК) && (К_ЗАКР_ЗАТВОР_ВАК)) 	У_ЗАТВОР_ВАК = ЗАКР; 
				В СОСТ НачалоРаботы;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕДОСТОВЕРНЫЕ_ДАННЫЕ_ОБОРУДОВАНИЯ_ВАК_СИСТЕМЫ)) В СОСТ ВыборРаботыСдостоверностями;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
		В СОСТ ВыборРаботыСдостоверностями;
		/* Это главный процесс, поэтому пока не появятся достоверности, я зацикливаю*/	
	}

СОСТ НачалоРаботы{	
/*    ОШИБКА_ФУНКЦИОНИРОВАНИЯ = ВЫК;  */
    ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА = 1; /* параметр регулирует частоту подачи */
	                                   /* сообщений в зависимости от заполненности буфера сообщений... */

/*===========================================================*/
/*========= ИНИЦИАЛИЗАЦИЯ НАСТРОЕЧНЫХ ПАРАМЕТРОВ   ==========*/
/*===========================================================*/
/*	Их надо читать из конфигурационного файла */

	НП_ЗД_P_ВбакеКомпрессора = 4; /*атмосфер (бар) */  /* 14 декабря */
	НП_ЗД_Pатмосф            = 0.05; 
	НП_ЗД_P_ВтрубеСидер =  0.05; /* атмосфер*/	/* 6 декабря ???????*/
	НП_ЗД_T_ВрубашкеНижняя  	= 		15.0;		/* добавлено 20 января 2014 */
	НП_ЗД_T_ВрубашкеВерхняя  = 	70.0;	/*85.0;*/	/* добавлено 20 января 2014 */
	НП_ЗД_T_ВбакеНижняя =  	10.0;/* добавлено 20 января 2014 */
	НП_ЗД_T_ВбакеВерхняя =  	60.0;/* добавлено 20 января 2014 */

	НП_ЗД_ПериодаКонтрP_ПриОткачке  = 2.0;    /*2 минуты  */     /* добавлено 7 января 2014 */
	НП_ЗД_ПериодаКонтрP_ПриНатекании = 15.0;    /*15 минут  */  /* добавлено 7 января 2014 */	
	
	НП_ЗД_Гист_T_Вбаке = 2;  				/* добавлено 3 февраля 2014 */
	НП_ЗД_Гист_T_Врубашке = 2;  			/* добавлено 3 февраля 2014 */
	НП_ЗД_Гист_P_ВбакеКомпрессора = 0.5;	/* добавлено 3 февраля 2014 */
	НП_ЗД_Гист_P_ВтрубеСидерВерх = 0.005;	/* добавлено 3 февраля 2014 */
	НП_ЗД_Гист_P_ВтрубеСидерНиж = 0.0025;	/* добавлено 3 февраля 2014 */
	
	СТАРТ ПРОЦ ЧтениеКольцевогоБуфера;	
    СТАРТ ПРОЦ РЕГУЛЯТОР_ТРАФИКА;
	/*======================================================================================*/
	/*Если идет вакуумирование трубы, то данные процессы пытаются выключить вакуумирование,	*/
	/*	если связи нет. Если удается выключить, то на начало, иначе - выдается сообщение 	*/
	/* о ручном выключении из подвала и делается переход на рестарт главного процесса 		*/
	/*======================================================================================*/
	СТАРТ ПРОЦ ЧтениеДавленияВбакеКомпрессора;			/*	18 августа 2014	*/
	СТАРТ ПРОЦ ЧтениеДавленияВпатрубке;					/*	18 августа 2014	*/
	СТАРТ ПРОЦ ЧтениеТемпературыВрубашкеОхлаждения;  	/* 	18 августа 2014	*/
	СТАРТ ПРОЦ ЧтениеТемпературыВбакеОхлаждения;		/*	18 августа 2014	*/
	СТАРТ ПРОЦ ЧтениеДавленияВтрубеСидеростата;			/*	18 августа 2014	*/
   	СТАРТ ПРОЦ ПроверкаСвязиС_РегуляторомУровня; 		/*	18 августа 2014	*/
	СТАРТ ПРОЦ ПроверкаСвязиС_РегуляторомТемпературы; 	/*	18 августа 2014	*/
	СТАРТ ПРОЦ ПроверкаСвязиС_Вентилятором;	/*	18 августа 2014	*/
	СТАРТ ПРОЦ ПроверкаСвязиС_НасососомОхлажденияДвигателя;  /*	18 августа 2014	*/
	СТАРТ ПРОЦ ПроверкаСвязиС_КонцевикомОткрытияЗатвораВакуумного;  /*	18 августа 2014	*/
	СТАРТ ПРОЦ ПроверкаСвязиС_КонцевикомЗакрытияЗатвораВакуумного;  /*	18 августа 2014	*/
	СТАРТ ПРОЦ ПроверкаСвязиС_КонцевикомСапуна;  /*	18 августа 2014	*/
	СТАРТ ПРОЦ ПроверкаСвязиС_ПитаниемПлавногоПуска;  /*	18 августа 2014	*/
	СТАРТ ПРОЦ ПроверкаСвязиС_ПлавнымПуском;  /*	18 августа 2014	*/		
	/*======================================================================================*/	
	
	СТАРТ ПРОЦ КонтрольИзменения_ФП_P_ВбакеКомпрессора;
	СТАРТ ПРОЦ КонтрольИзменения_ФП_P_Впатрубке;
	СТАРТ ПРОЦ КонтрольИзменения_ФП_T_Врубашке;
	СТАРТ ПРОЦ КонтрольИзменения_ФП_T_Вбаке;
	СТАРТ ПРОЦ КонтрольИзменения_ФП_P_ВтрубеСидер;
	/**/
	СТАРТ ПРОЦ КонтрольТемпературыРубашкиОхлаждения;
	СТАРТ ПРОЦ КонтрольДавленияВбакеКомпрессора;    /* выдает Норма  не норма */
	СТАРТ ПРОЦ КонтрольАварийногоДавленияВбакеКомпрессора;	/*  нет  дублирования */
	СТАРТ ПРОЦ КонтрольАварийнойТемпературыВрубашкеОхлаждения;
	СТАРТ ПРОЦ КонтрольАварийнойТемпературыВбакеОхлаждения;
	СТАРТ ПРОЦ КонтрольУровняВодыБакаОхлаждения;  
	СТАРТ ПРОЦ КонтрольТемпературыВодыБакаОхлаждения;
	
	/*======================================================================================*/
	/*  триггерные процессы, информирующие состояние элементов вакуумной системы: вкл или выкл*/	
	/*================================================== ====================================*/
	СТАРТ ПРОЦ КонтрольСостоянияПитанияВентилятора; 
	СТАРТ ПРОЦ КонтрольСостоянияПитанияСапуна;
	СТАРТ ПРОЦ КонтрольСостоянияПитанияУППВакНасоса;
	СТАРТ ПРОЦ КонтрольСостоянияПитанияРЕГ_Т;
	СТАРТ ПРОЦ КонтрольСостоянияПитанияРЕГ_УР;
	СТАРТ ПРОЦ КонтрольСостоянияПитанияНАС_ОХЛ;
	СТАРТ ПРОЦ КонтрольСостоянияПитанияПЛАВ_ПУСКА;
	СТАРТ ПРОЦ КонтрольСостоянияПитанияШКАФА_ВС; /*добавлено 27 января 2014 */
	СТАРТ ПРОЦ КонтрольСостоянияЗатвораВакуумного;
	/*======================================================================================*/	
	СТАРТ ПРОЦ КонтрольГотовностиВакуума_в_Вакуумной_Трубе;
	
	СТОП;
 }
}
/*========================================================*/
/*                                                        */
/*==            Останов всех процессов и старт по-новой ==*/
/*                                                        */
/*========================================================*/
ПРОЦ ОстановВсехПроцессовИстартПроцИнициализация{
	СОСТ Начало{
/*		СТОП ПРОЦ РЕГУЛЯТОР_ТРАФИКА; */
/*		СТОП ПРОЦ ЧтениеКольцевогоБуфера;*/
		СТОП ПРОЦ ОбработкаКомандИзмененияНП_от_ГУИ;
		СТОП ПРОЦ ОбработкаКомандУправления_от_ГУИ; 
/*******  добавлено 16 июля 2014*/		
		СТОП ПРОЦ ЧтениеДавленияВбакеКомпрессора;
		СТОП ПРОЦ ЧтениеДавленияВпатрубке;
		СТОП ПРОЦ ЧтениеТемпературыВрубашкеОхлаждения;  /* добавлено 13 мая 2014*/
		СТОП ПРОЦ ЧтениеТемпературыВбакеОхлаждения;
		СТОП ПРОЦ ЧтениеДавленияВтрубеСидеростата;
/*  добавлено 22 августа 2014*/	
		СТОП ПРОЦ ПроверкаСвязиС_РегуляторомУровня; /*	 августа 2014	*/
		СТОП ПРОЦ ПроверкаСвязиС_РегуляторомТемпературы; /*	18 августа 2014	*/
		СТОП ПРОЦ ПроверкаСвязиС_Вентилятором;	/*	 августа 2014	*/
		СТОП ПРОЦ ПроверкаСвязиС_НасососомОхлажденияДвигателя;  /*	18 августа 2014	*/
		СТОП ПРОЦ ПроверкаСвязиС_КонцевикомОткрытияЗатвораВакуумного;  /*	18 августа 2014	*/
		СТОП ПРОЦ ПроверкаСвязиС_КонцевикомЗакрытияЗатвораВакуумного;  /*	18 августа 2014	*/	
		СТОП ПРОЦ ПроверкаСвязиС_КонцевикомСапуна;  /*	18 августа 2014	*/	
		СТОП ПРОЦ ПроверкаСвязиС_ПитаниемПлавногоПуска;  /*	18 августа 2014	*/
		СТОП ПРОЦ ПроверкаСвязиС_ПлавнымПуском;  /*	18 августа 2014	*/			
		
	
		
/*        добавлено 16 июля 2014*/
		
		СТОП ПРОЦ КонтрольИзменения_ФП_P_ВбакеКомпрессора; 
		СТОП ПРОЦ КонтрольИзменения_ФП_P_Впатрубке; 
		СТОП ПРОЦ КонтрольИзменения_ФП_T_Врубашке;	
		СТОП ПРОЦ КонтрольИзменения_ФП_T_Вбаке;	
		СТОП ПРОЦ КонтрольИзменения_ФП_P_ВтрубеСидер; 

		СТОП ПРОЦ КонтрольВеличиныОткачкиВауумнойТрубыСидеростата;
		СТОП ПРОЦ КонтрольГотовностиВакуума_в_Вакуумной_Трубе;
		СТОП ПРОЦ КонтрольУровняВодыБакаОхлаждения;  
		СТОП ПРОЦ КонтрольТемпературыВодыБакаОхлаждения; 
		СТОП ПРОЦ КонтрольТемпературыРубашкиОхлаждения;
		СТОП ПРОЦ КонтрольДавленияВбакеКомпрессора;
		
		СТОП ПРОЦ КонтрольАварийногоДавленияВбакеКомпрессора;
		СТОП ПРОЦ КонтрольАварийнойТемпературыВрубашкеОхлаждения;
		СТОП ПРОЦ КонтрольАварийнойТемпературыВбакеОхлаждения;
		
		СТОП ПРОЦ ВКЛ_ПИТ_ВЕНТИЛЯТОР;
		СТОП ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР;
		СТОП ПРОЦ КонтрольСостоянияПитанияВентилятора; 
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияВентилятора;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияВентилятора;
		СТОП ПРОЦ ОТКР_ЗАТВОР_ВАК;
		СТОП ПРОЦ ЗАКР_ЗАТВОР_ВАК;
		СТОП ПРОЦ КонтрольСостоянияЗатвораВакуумного;  /* 12 декабря*/
		СТОП ПРОЦ КонтрольСпонтанногоЗакрытияЗатвораВакуумного;
		СТОП ПРОЦ КонтрольСпонтанногоОткрытияЗатвораВакуумного;
		СТОП ПРОЦ ОТКР_САПУН;
		СТОП ПРОЦ ЗАКР_САПУН;
		СТОП ПРОЦ КонтрольСпонтанногоЗакрытияСапуна;
		СТОП ПРОЦ КонтрольСпонтанногоОткрытияСапуна;
		СТОП ПРОЦ ВКЛ_ПИТ_УПП_ВАК_НАСОСА;  
		СТОП ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА;  
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияУППВакНасоса;  
		СТОП ПРОЦ КонтрольСпонтанногоВключенияУППВакНасоса;	
/*		СТОП ПРОЦ ВКЛ_ПИТ_РЕГ_Т;  */
/*		СТОП ПРОЦ ВЫК_ПИТ_РЕГ_Т;   */
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_Т;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияРЕГ_Т;
/*		СТОП ПРОЦ ВКЛ_ПИТ_РЕГ_УР;  */
/*		СТОП ПРОЦ ВЫК_ПИТ_РЕГ_УР;  */
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_УР;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияРЕГ_УР;
		СТОП ПРОЦ ВКЛ_ПИТ_НАС_ОХЛ;
		СТОП ПРОЦ ВЫК_ПИТ_НАС_ОХЛ;
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияНасосаОхлаждения;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияНасосаОхлаждения;
		СТОП ПРОЦ ВКЛ_УСТР_ПЛАВ_ПУСКА;
		СТОП ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА;
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияПлавнПуска;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияПлавнПуска;
		СТОП ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС;
		/* 23 сентября ЛЯХ */
		СТОП ПРОЦ КонтрольСостоянияОборудования;
		СТОП ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС; 
		СТОП ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ;
		СТОП ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ;  /* 12 декабря !*/
		СТОП ПРОЦ КонтрольСостоянияПитанияШКАФА_ВС;

		
/*		СТОП ПРОЦ КонтрольДостоверностиОткрЗатВакуумного;  */
/*		СТОП ПРОЦ КонтрольДостоверностиЗакрЗатВакуумного;	*/
/*		СТОП ПРОЦ КонтрольДостоверностиСостоянияСапуна;	*/
/*		СТОП ПРОЦ КонтрольДостоверностиСостоянияУстройстваПлавПуска;*/
/*		СТОП ПРОЦ КонтрольДостоверностиСостПитанияУППВакНасоса;*/
/*		СТОП ПРОЦ КонтрольДостоверностиСостоянияПитанияВентилятора;*/
/*		СТОП ПРОЦ КонтрольДостоверностиСостоянияПитанияРегТемпературы;*/
/*		СТОП ПРОЦ КонтрольДостоверностиСостоянияПитанияРегУровня;*/
/*		СТОП ПРОЦ КонтрольДостоверностиУровняВодыМинимум;*/
/*		СТОП ПРОЦ КонтрольДостоверностиУровняВодыМаксимум;*/
/*		СТОП ПРОЦ КонтрольДостоверностиСостоянияПитанияНасОхлаждения;*/
/*		СТОП ПРОЦ КонтрольДостоверностиСостоянияПитанияШКАФА_ВС;*/
/*		СТОП ПРОЦ КонтрольДостоверностиДавленияВбакеКомпрессора;*/
/*		СТОП ПРОЦ КонтрольДостоверностиДавленияВпатрубке;*/
/*		СТОП ПРОЦ КонтрольДостоверностиТемпературыВрубашкеОхлаждения;*/
/*		СТОП ПРОЦ КонтрольДостоверностиТемпературыВбакеОхлаждения;*/
/*		СТОП ПРОЦ КонтрольДостоверностиДавленияВтрубеСидеростата;*/
		СТАРТ ПРОЦ Инициализация;
		СТОП;
	}
}

/*========================================================*/
/*== Процессы контроля достоверности параметров К       ==*/
/*      от Курочкина  (от девайсиков)                    */
/*========================================================*/
/* Данные процессы контроля достоверности (связи)         */
/* 												          */
/*===========================================Бак компрессора =============*/
/* добавлено 13 мая 2014 */
ПРОЦ КонтрольДостоверностиДавленияВбакеКомпрессора{
 ИЗ ПРОЦ Инициализация  Д_P_ВбакеКомпрессора;

 СОСТ Начало {
      ЕСЛИ (Д_P_ВбакеКомпрессора == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ДАВЛЕНИЕМ_В_БАКЕ_КОМПРЕССОРА)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_P_ВбакеКомпрессора == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ДАВЛЕНИЕМ_В_БАКЕ_КОМПРЕССОРА)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_P_ВбакеКомпрессора == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Патрубок =============*/
/* добавлено 13 мая 2014 */
ПРОЦ КонтрольДостоверностиДавленияВпатрубке{
 ИЗ ПРОЦ Инициализация  Д_P_Впатрубке;

 СОСТ Начало {
      ЕСЛИ (Д_P_Впатрубке == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ДАВЛЕНИЕМ_В_ПАТРУБКЕ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_P_Впатрубке == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ДАВЛЕНИЕМ_В_ПАТРУБКЕ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_P_Впатрубке == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}

/*===============================Рубашка охлаждения =============*/
/* добавлено 13 мая 2014 */
ПРОЦ КонтрольДостоверностиТемпературыВрубашкеОхлаждения{
 ИЗ ПРОЦ Инициализация  Д_T_Врубашке;

 СОСТ Начало {
      ЕСЛИ (Д_T_Врубашке == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ТЕМПЕРАТУРОЙ_В_РУБАШКЕ_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_T_Врубашке == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ТЕМПЕРАТУРОЙ_В_РУБАШКЕ_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_T_Врубашке == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===============================Бак охлаждения =============*/
/* добавлено 13 мая 2014 */
ПРОЦ КонтрольДостоверностиТемпературыВбакеОхлаждения{
 ИЗ ПРОЦ Инициализация  Д_T_Вбаке;

 СОСТ Начало {
      ЕСЛИ (Д_T_Вбаке == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ТЕМПЕРАТУРОЙ_В_БАКЕ_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_T_Вбаке == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ТЕМПЕРАТУРОЙ_В_БАКЕ_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_T_Вбаке == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Труба сидеростата =============*/
/* добавлено 13 мая 2014 */
ПРОЦ КонтрольДостоверностиДавленияВтрубеСидеростата{
 ИЗ ПРОЦ Инициализация  Д_P_ВтрубеСидер;

 СОСТ Начало {
      ЕСЛИ (Д_P_ВтрубеСидер == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ДАВЛЕНИЕМ_В_ТРУБЕ_СИД)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_P_ВтрубеСидер == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ДАВЛЕНИЕМ_В_ТРУБЕ_СИД)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_P_ВтрубеСидер == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}


/*===========================================Питание ШКАФА 380=============*/
/* добавлено 27 января 2014 */
ПРОЦ КонтрольДостоверностиСостоянияПитанияШКАФА_ВС{
 ИЗ ПРОЦ Инициализация  Д_ШКАФ_ВС_380;

 СОСТ Начало {
      ЕСЛИ (Д_ШКАФ_ВС_380 == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ПИТАНИЕМ_ШКАФА_380)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_ШКАФ_ВС_380 == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ПИТАНИЕМ_ШКАФА_380)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_ШКАФ_ВС_380 == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================ОТКР_ЗАТВОР_ВАК=============*/
ПРОЦ КонтрольДостоверностиОткрЗатВакуумного{
 ИЗ ПРОЦ Инициализация  Д_ОТКР_ЗАТВОР_ВАК;

 СОСТ Начало {
      ЕСЛИ (Д_ОТКР_ЗАТВОР_ВАК == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_КОНЦ_ОТКРЫТИЯ_ЗАТВ_ВАКУУМНОГО)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_ОТКР_ЗАТВОР_ВАК == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_КОНЦ_ОТКРЫТИЯ_ЗАТВ_ВАКУУМНОГО)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_ОТКР_ЗАТВОР_ВАК == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================ЗАКР_ЗАТВОР_ВАК=============*/
ПРОЦ КонтрольДостоверностиЗакрЗатВакуумного{
 ИЗ ПРОЦ Инициализация  Д_ЗАКР_ЗАТВОР_ВАК;

 СОСТ Начало {
      ЕСЛИ (Д_ЗАКР_ЗАТВОР_ВАК == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_КОНЦ_ЗАКРЫТИЯ_ЗАТВ_ВАКУУМНОГО)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_ЗАКР_ЗАТВОР_ВАК == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_КОНЦ_ЗАКРЫТИЯ_ЗАТВ_ВАКУУМНОГО)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_ЗАКР_ЗАТВОР_ВАК == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Д_САПУН=============*/
ПРОЦ КонтрольДостоверностиСостоянияСапуна{
 ИЗ ПРОЦ Инициализация  Д_САПУН;

 СОСТ Начало {
      ЕСЛИ (Д_САПУН == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_САПУНОМ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_САПУН == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_САПУНОМ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_САПУН == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}

/*===========================================Д_УСТР_ПЛАВ_ПУСКА=============*/
ПРОЦ КонтрольДостоверностиСостоянияУстройстваПлавПуска{
 ИЗ ПРОЦ Инициализация  Д_УСТР_ПЛАВ_ПУСКА;

 СОСТ Начало {
      ЕСЛИ (Д_УСТР_ПЛАВ_ПУСКА == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ПЛАВНЫМ_ПУСКОМ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_УСТР_ПЛАВ_ПУСКА == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ПЛАВНЫМ_ПУСКОМ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_УСТР_ПЛАВ_ПУСКА == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Д_ПИТ_УПП_ВАК_НАСОСА=============*/ 

ПРОЦ КонтрольДостоверностиСостПитанияУППВакНасоса{
 ИЗ ПРОЦ Инициализация  Д_ПИТ_УПП_ВАК_НАСОСА;  

 СОСТ Начало {
      ЕСЛИ (Д_ПИТ_УПП_ВАК_НАСОСА == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;   
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ПИТАНИЕМ_ВАК_НАСОСА)) В СЛЕДУЮЩЕЕ;  
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_ПИТ_УПП_ВАК_НАСОСА == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ; 
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ПИТАНИЕМ_ВАК_НАСОСА)) В СЛЕДУЮЩЕЕ;   
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_ПИТ_УПП_ВАК_НАСОСА == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;   
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Д_ПИТ_ВЕНТИЛЯТОРА=============*/
ПРОЦ КонтрольДостоверностиСостоянияПитанияВентилятора{
 ИЗ ПРОЦ Инициализация  Д_ПИТ_ВЕНТИЛЯТОРА;

 СОСТ Начало {
      ЕСЛИ (Д_ПИТ_ВЕНТИЛЯТОРА == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ВЕНТИЛЯТОРОМ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_ПИТ_ВЕНТИЛЯТОРА == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ВЕНТИЛЯТОРОМ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_ПИТ_ВЕНТИЛЯТОРА == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Д_ПИТ_РЕГ_Т=============*/
ПРОЦ КонтрольДостоверностиСостоянияПитанияРегТемпературы{
 ИЗ ПРОЦ Инициализация  Д_ПИТ_РЕГ_Т;

 СОСТ Начало {
      ЕСЛИ (Д_ПИТ_РЕГ_Т == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_РЕГ_ТЕМПЕРАТУРЫ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_ПИТ_РЕГ_Т == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_РЕГ_ТЕМПЕРАТУРЫ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_ПИТ_РЕГ_Т == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}

/*===========================================Д_ПИТ_РЕГ_УР=============*/
ПРОЦ КонтрольДостоверностиСостоянияПитанияРегУровня{
 ИЗ ПРОЦ Инициализация  Д_ПИТ_РЕГ_УР;

 СОСТ Начало {
      ЕСЛИ (Д_ПИТ_РЕГ_УР == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_РЕГ_УРОВНЯ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_ПИТ_РЕГ_УР == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_РЕГ_УРОВНЯ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_ПИТ_РЕГ_УР == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Д_УР_ВОДЫ_MIN=============*/
ПРОЦ КонтрольДостоверностиУровняВодыМинимум{
 ИЗ ПРОЦ Инициализация  Д_УР_ВОДЫ_MIN;

 СОСТ Начало {
      ЕСЛИ (Д_УР_ВОДЫ_MIN == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_НИЖНИМ_КОНЦЕВИКОМ_УР_ВОДЫ_БАКА_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_УР_ВОДЫ_MIN == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_НИЖНИМ_КОНЦЕВИКОМ_УР_ВОДЫ_БАКА_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_УР_ВОДЫ_MIN == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Д_УР_ВОДЫ_MAX=============*/
ПРОЦ КонтрольДостоверностиУровняВодыМаксимум{
 ИЗ ПРОЦ Инициализация  Д_УР_ВОДЫ_MAX;

 СОСТ Начало {
      ЕСЛИ (Д_УР_ВОДЫ_MAX == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_ВЕРХНИМ_КОНЦЕВИКОМ_УР_ВОДЫ_БАКА_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_УР_ВОДЫ_MAX == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_ВЕРХНИМ_КОНЦЕВИКОМ_УР_ВОДЫ_БАКА_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_УР_ВОДЫ_MAX == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*===========================================Д_ПИТ_НАСОС_ОХЛ=============*/
ПРОЦ КонтрольДостоверностиСостоянияПитанияНасОхлаждения{
 ИЗ ПРОЦ Инициализация  Д_ПИТ_НАСОС_ОХЛ;
 СОСТ Начало {
      ЕСЛИ (Д_ПИТ_НАСОС_ОХЛ == ДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
      ИНАЧЕ В СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ;
 }
 СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_СВЯЗЬ_С_НАСОСОСОМ_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеНедостоверности {
      ЕСЛИ (Д_ПИТ_НАСОС_ОХЛ == НЕДОСТОВЕРНО) В СЛЕДУЮЩЕЕ;
 }
 СОСТ СообК_ГУИ_НЕТ_ДОСТОВЕРНОСТИ {
     ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_СВЯЗИ_С_НАСОСОСОМ_ОХЛ)) В СЛЕДУЮЩЕЕ;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ОжиданиеЕстьДостоверность {
      ЕСЛИ (Д_ПИТ_НАСОС_ОХЛ == ДОСТОВЕРНО) В СОСТ СообК_ГУИ_ЕСТЬ_ДОСТОВЕРНОСТЬ;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
	   В СОСТ Начало;
 }
}
/*========================================================*/
/*                                                        */
/*==            ЧТЕНИЕ ФАКТИЧЕСКИХ ПАРАМЕТРОВ           ==*/
/*                                                        */
/* процессы читают параметры и реагируют на разрыв связи  */
/*========================================================*/

/*=============================================================*/
/*  Новый процесс 13 мая 2014   Модифицирован в августе 2014   */
/*=============================================================*/
ПРОЦ ЧтениеДавленияВбакеКомпрессора{
ИЗ ПРОЦ Инициализация ФП_P_ВбакеКомпрессора,
					   Д_P_ВбакеКомпрессора,
					   К_Достоверности,
					   СвязьС_P_ВбакеКомпрессора;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_P_ВбакеКомпрессора = ВКЛ;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_P_ВбакеКомпрессора) {
		СвязьС_P_ВбакеКомпрессора = ЕСТЬ;  /* это тайминизированный параметр*/
		ФП_P_ВбакеКомпрессора 	= GetFP_P_BAK_COMPRESSOR();
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }

	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_P_ВбакеКомпрессора = НЕТ;
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}	
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;
	} 	
}
/*=============================================================*/
/*  Новый процесс 20 августа 2014   						   */
/*=============================================================*/
ПРОЦ ОтлючитьВакуумированиеВручную{
	СОСТ ПереходВручноеОтключение{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_АВАРИЯ__СРОЧНО_ВЫКЛЮЧИТЬ_ВАК_СИСТЕМУ_В_РУЧНОМ_РЕЖИМЕ))В СЛЕДУЮЩЕЕ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи; 
	} 
	СОСТ ОстановПроцессов{
		ЕСЛИ (!(ПРОЦ ОстановВсехПроцессовИстартПроцИнициализация В СОСТ АКТИВНОЕ))
			СТАРТ ПРОЦ ОстановВсехПроцессовИстартПроцИнициализация;   
		СТОП;
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;
	} 	

}
/*=============================================================*/
/*  Новый процесс 13 мая 2014                                  */
/*=============================================================*/
ПРОЦ ЧтениеДавленияВпатрубке{
ИЗ ПРОЦ Инициализация ФП_P_Впатрубке,
					   Д_P_Впатрубке,
					   К_Достоверности,
					   СвязьС_P_Впатрубке;

 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_P_Впатрубке = ВКЛ;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_P_Впатрубке) {
		СвязьС_P_Впатрубке = ЕСТЬ;    /* это тайминизированный параметр*/
		ФП_P_Впатрубке 		= GetFP_P_PATRUBKA();
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_P_Впатрубке = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /*процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 

/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;
	} 
}
/*=============================================================*/
/*  Новый процесс 13 мая 2014                                  */
/*=============================================================*/
ПРОЦ ЧтениеТемпературыВрубашкеОхлаждения{
ИЗ ПРОЦ Инициализация ФП_T_Врубашке,
					   Д_T_Врубашке,
					   К_Достоверности,
					   СвязьС_T_Врубашке;

 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_T_Врубашке = ВКЛ;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_T_Врубашке) {
		СвязьС_T_Врубашке = ЕСТЬ;   /* это тайминизированный параметр*/
		ФП_T_Врубашке 		= GetFP_T_RUBACHKA();
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_T_Врубашке = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}	
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	}   
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;
	} 
}
/*=============================================================*/
/*  Новый процесс 13 мая 2014                                  */
/*=============================================================*/
ПРОЦ ЧтениеТемпературыВбакеОхлаждения{
ИЗ ПРОЦ Инициализация ФП_T_Вбаке,
					   Д_T_Вбаке,
					   К_Достоверности,
					   СвязьС_T_Вбаке;

 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_T_Вбаке = ВКЛ;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_T_Вбаке) {
		СвязьС_T_Вбаке = ЕСТЬ;	/* это тайминизированный параметр*/
		ФП_T_Вбаке 			= GetFP_T_BAK();
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_T_Вбаке = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}	
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;  /*м б В НАЧАЛО   ????? подумать*/
	} 
}

/*=============================================================*/
/*  Новый процесс 13 мая 2014                                  */
/*=============================================================*/
ПРОЦ ЧтениеДавленияВтрубеСидеростата{
ИЗ ПРОЦ Инициализация ФП_P_ВтрубеСидер,
					   Д_P_ВтрубеСидер,
					   К_Достоверности,
					   СвязьС_P_ВтрубеСидер;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_P_ВтрубеСидер = ВКЛ;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_P_ВтрубеСидер) {
		СвязьС_P_ВтрубеСидер = ЕСТЬ;
		ФП_P_ВтрубеСидер 	= GetFP_P_TRUBA();
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_P_ВтрубеСидер = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}	
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /*процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 

/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;   /*если убрать рестарт, то надо идти в начало  !!!!!!!!!!!!!!!!*/
	} 
}
/*========================================================*/
/*                                                        */
/*==            ЧТЕНИЕ ЛОГИЧЕСКИХ ПАРАМЕТРОВ            ==*/
/*                                                        */
/*========================================================*/
/*=============================================================*/
/*  Новые процессы 18 августа 2014       */
/*=============================================================*/
/*=============================================================*/
/*  Новый процесс 18 августа 2014       */
/*=============================================================*/
ПРОЦ ПроверкаСвязиС_РегуляторомУровня{
ИЗ ПРОЦ Инициализация К_ПИТ_РЕГ_УР,
					  Д_ПИТ_РЕГ_УР,
					  К_Достоверности,
					  СвязьС_РегуляторомУровня;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_УР;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_ПИТ_РЕГ_УР) {
		СвязьС_РегуляторомУровня = ЕСТЬ;		/* это тайминизированный параметр пока не используется*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
 СОСТ ПроверкаИдетЛиВакуумирование{	
		СвязьС_РегуляторомУровня = НЕТ;
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 

}
/* =============================================  */
ПРОЦ ПроверкаСвязиС_РегуляторомТемпературы{
ИЗ ПРОЦ Инициализация К_ПИТ_РЕГ_Т,
					  Д_ПИТ_РЕГ_Т,
					  К_Достоверности,
					  СвязьС_РегуляторомТемпературы;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_Т;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_ПИТ_РЕГ_Т) {
		СвязьС_РегуляторомТемпературы = ЕСТЬ;		/* это тайминизированный параметр*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }

	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_РегуляторомТемпературы = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 

}


/* =============================================  */
ПРОЦ ПроверкаСвязиС_Вентилятором{
ИЗ ПРОЦ Инициализация К_ПИТ_ВЕНТИЛЯТОРА,
					  Д_ПИТ_ВЕНТИЛЯТОРА,
					  К_Достоверности,
					  СвязьС_Вентилятором;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_ВЕНТИЛЯТОРА;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_ПИТ_ВЕНТИЛЯТОРА) {
		СвязьС_Вентилятором = ЕСТЬ;		/* это тайминизированный параметр*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
 
	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_Вентилятором = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
 
}
/* =============================================  */
ПРОЦ ПроверкаСвязиС_НасососомОхлажденияДвигателя{
ИЗ ПРОЦ Инициализация Д_ПИТ_НАСОС_ОХЛ,
					  К_Достоверности,
					  СвязьС_НасосомОхлаждения;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_НАСОС_ОХЛ;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_ПИТ_НАСОС_ОХЛ) {
		СвязьС_НасосомОхлаждения = ЕСТЬ;		/* это тайминизированный параметр*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }

	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_НасосомОхлаждения = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
}
/* =============================================  */
ПРОЦ ПроверкаСвязиС_КонцевикомОткрытияЗатвораВакуумного{
ИЗ ПРОЦ Инициализация Д_ОТКР_ЗАТВОР_ВАК,
					  К_Достоверности,
					  СвязьС_КонцевикомОткрытияЗВ;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_ОТКР_ЗАТВОР_ВАК;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_ОТКР_ЗАТВОР_ВАК) {
		СвязьС_КонцевикомОткрытияЗВ = ЕСТЬ;		/* это тайминизированный параметр*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_КонцевикомОткрытияЗВ = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
}
/* =============================================  */
ПРОЦ ПроверкаСвязиС_КонцевикомЗакрытияЗатвораВакуумного{
ИЗ ПРОЦ Инициализация Д_ЗАКР_ЗАТВОР_ВАК,
					  К_Достоверности,
					  СвязьС_КонцевикомЗакрытияЗВ;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_ЗАКР_ЗАТВОР_ВАК;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_ЗАКР_ЗАТВОР_ВАК) {
		СвязьС_КонцевикомЗакрытияЗВ = ЕСТЬ;		/* это тайминизированный параметр*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
 
	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_КонцевикомЗакрытияЗВ = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
}
/* =============================================  */
ПРОЦ ПроверкаСвязиС_КонцевикомСапуна{
ИЗ ПРОЦ Инициализация Д_САПУН,
					  К_Достоверности,
					  СвязьС_КонцевикомСапуна;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_САПУН;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_САПУН) {
		СвязьС_КонцевикомСапуна = ЕСТЬ;		/* это тайминизированный параметр*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }

	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_КонцевикомСапуна = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;   /*если убрать рестарт, то надо идти в начало везде для чтения !!!!!!!!!!!!!!!!*/
	} 
}
/* =============================================  */
ПРОЦ ПроверкаСвязиС_ПитаниемПлавногоПуска{
ИЗ ПРОЦ Инициализация Д_ПИТ_УПП_ВАК_НАСОСА,
					  К_Достоверности,
					  СвязьС_ПитаниемПлавногоПуска;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_УПП_ВАК_НАСОСА;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_ПИТ_УПП_ВАК_НАСОСА) {
		СвязьС_ПитаниемПлавногоПуска = ЕСТЬ;		/* это тайминизированный параметр*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }
	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_ПитаниемПлавногоПуска = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;   /*если убрать рестарт, то надо идти в начало везде для чтения !!!!!!!!!!!!!!!!*/
	} 
}
/* =============================================  */
ПРОЦ ПроверкаСвязиС_ПлавнымПуском{
ИЗ ПРОЦ Инициализация Д_УСТР_ПЛАВ_ПУСКА,
					  К_Достоверности,
					  СвязьС_ПлавнымПуском;
 СОСТ Начало {
	ЕСЛИ (К_Достоверности == Не_проверяются) Д_УСТР_ПЛАВ_ПУСКА;  /* для отладки без достоверностей*/ 
	ЕСЛИ (Д_УСТР_ПЛАВ_ПУСКА) {
		СвязьС_ПлавнымПуском = ЕСТЬ;		/* это тайминизированный параметр*/
		В СОСТ Начало;
	}
	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ; 
 }

	СОСТ ПроверкаИдетЛиВакуумирование{
		СвязьС_ПлавнымПуском = НЕТ;	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Начало;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					СТОП;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ Начало;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
			ОШИБКА;   /*если убрать рестарт, то надо идти в начало везде для чтения !!!!!!!!!!!!!!!!*/
	} 
}




/*=============================================================*/
/*=         РЕГУЛЯТОР ТРАФИКА                    ==============*/
/*=         ЕСЛИ КАНАЛЫ ЗАБИТЫ, ТО                           ==*/
/*=         УВЕЛИЧИВАЕТСЯ ВРЕМЯ МЕЖДУ                        ==*/
/*=         СЕРВЕРОМ И ВЫДАЧЕЙ В GUI                         ==*/
/*=         ФАКТИЧЕСКИХ ПАРАМЕТРОВ                           ==*/
/*= GetOutMsgNumber_GUI читает число сообщ. в выходн. буфере ==*/
/*=============================================================*/
ПРОЦ РЕГУЛЯТОР_ТРАФИКА{
 ИЗ ПРОЦ Инициализация ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА;
 СОСТ Начало{
    ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА = GetOutMsgNumber_GUI()/5 + 1;  /*динамический таймаут*/
    ЗАЦИКЛИТЬ;
 }
}

/*==============================================*/
/*==============================================*/
/*=                                            =*/
/*=      ПРОЦЕСС ЧтениеКольцевогоБуфера        =*/
/*=                                            =*/
/*==============================================*/
/*==============================================*/
ПРОЦ ЧтениеКольцевогоБуфера{
ИЗ ПРОЦ Инициализация
                        КодСобытия_от_ГУИ;       /* */

 СОСТ Начало{
    /*  читаем код и параметр события из кольцевого буфера в структуру */
    ЕСЛИ (GetNextMsgGUI()) {
      КодСобытия_от_ГУИ = GetMsgGUICode();
            ЕСЛИ ((КодСобытия_от_ГУИ >= КОМ_ГУИ_ОТКР_ЗАТВОР_ВАК) &&
                  (КодСобытия_от_ГУИ <= КОМАНДЫ_ОТ_ГУИ)) {
				СТАРТ ПРОЦ ОбработкаКомандУправления_от_ГУИ;
				В СОСТ КонтрольВыполненияК;
            } 
			ИНАЧЕ ЕСЛИ ((КодСобытия_от_ГУИ >= ИЗМН_НП_1) &&
                         (КодСобытия_от_ГУИ <= ИЗМН_НП_N)) {
                     СТАРТ ПРОЦ ОбработкаКомандИзмененияНП_от_ГУИ;
                     В СОСТ КонтрольИзмененияНП;
			}
			ИНАЧЕ В СОСТ НекорректноеСобытие;
    }
 } 
 
 СОСТ КонтрольВыполненияК{
    ЕСЛИ(ПРОЦ ОбработкаКомандУправления_от_ГУИ В СОСТ ПАССИВНОЕ)
    В СОСТ Начало;
 }
  СОСТ КонтрольИзмененияНП{
    ЕСЛИ(ПРОЦ ОбработкаКомандИзмененияНП_от_ГУИ В СОСТ ПАССИВНОЕ)
    В СОСТ Начало;
 }
  /*===== НЕНОРМАЛЬНЫЕ СИТУАЦИИ === */
  СОСТ НекорректноеСобытие{
     ЕСЛИ (SendMsgLongParamGUI(ПК_ГУИ_ОШИБКА_КОДА_КОМАНДЫ_ОТ_ГУИ, КодСобытия_от_ГУИ))
       В СОСТ Начало;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }

 СОСТ НарушениеСвязи {
	В СОСТ Начало;
     СТОП;   /* м.б. в начало?!!!!!!!!!!!!!! что я и сделал*/
 }
}
/*===================================================*/
/*==                                               ==*/
/*==  ПРОЦЕСС ИЗМЕНЕНИЯ НАСТРОЕЧНЫХ ПАРАМЕТРОВ     ==*/
/*==                                               ==*/
/*===================================================*/
ПРОЦ ОбработкаКомандИзмененияНП_от_ГУИ{
ИЗ ПРОЦ Инициализация 	КодСобытия_от_ГУИ,
						КодСобытия_к_ГУИ,
						НП_ЗД_Pатмосф,
						НП_ЗД_P_ВтрубеСидер,
						НП_ЗД_P_ВбакеКомпрессора,
						НП_ЗД_T_ВрубашкеНижняя,
						НП_ЗД_T_ВрубашкеВерхняя,
						НП_ЗД_T_ВбакеНижняя,
						НП_ЗД_T_ВбакеВерхняя,
						
						НП_ЗД_Гист_T_Вбаке,  			/* добавлено 3 февраля 2014 */
						НП_ЗД_Гист_T_Врубашке,  		/* добавлено 3 февраля 2014 */
						НП_ЗД_Гист_P_ВбакеКомпрессора,  /* добавлено 3 февраля 2014 */
						НП_ЗД_Гист_P_ВтрубеСидерВерх,  	/* добавлено 3 февраля 2014 */
						НП_ЗД_Гист_P_ВтрубеСидерНиж,		 /* добавлено 3 февраля 2014 */
						
						НП_ЗД_ПериодаКонтрP_ПриОткачке,  /* добавлено 7 января 2014 */
						НП_ЗД_ПериодаКонтрP_ПриНатекании;  /* добавлено 7 января 2014 */
						
						
ПЛАВ ЛП_Параметр_к_ПИВ ЛОКАЛ;
 СОСТ Анализ{
    РАЗБОР (КодСобытия_от_ГУИ) {
	    СЛУЧАЙ ИЗМН_НП_ЗД_Pатмосф:
          НП_ЗД_Pатмосф  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = ИЗМН_НП_ЗД_Pатмосф;
          В СОСТ ПодтверждениеИзмененияНП;
			КОНЕЦ;
	    СЛУЧАЙ ИЗМН_НП_ЗД_P_ВбакеКомпрессора:
		   НП_ЗД_P_ВбакеКомпрессора  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_P_ВбакеКомпрессора;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;
	    СЛУЧАЙ ИЗМН_НП_ЗД_P_ВтрубеСидер:
		   НП_ЗД_P_ВтрубеСидер  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_P_ВтрубеСидер;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;
	    СЛУЧАЙ ИЗМН_НП_ЗД_T_ВрубашкеНижняя:		/* добавлено 20 января 2014 */
		   НП_ЗД_T_ВрубашкеНижняя  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_T_ВрубашкеНижняя;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;
	    СЛУЧАЙ ИЗМН_НП_ЗД_T_ВрубашкеВерхняя:		/* добавлено 20 января 2014 */
		   НП_ЗД_T_ВрубашкеВерхняя  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_T_ВрубашкеВерхняя;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;			
	    СЛУЧАЙ ИЗМН_НП_ЗД_T_ВбакеНижняя:	/* добавлено 20 января 2014 */
		   НП_ЗД_T_ВбакеНижняя  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_T_ВбакеНижняя;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;			
	    СЛУЧАЙ ИЗМН_НП_ЗД_T_ВбакеВерхняя:	/* добавлено 20 января 2014 */
		   НП_ЗД_T_ВбакеВерхняя  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_T_ВбакеВерхняя;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;

	    СЛУЧАЙ ИЗМН_НП_ЗД_Гист_T_Вбаке:	/* добавлено 3 февраля 2014 */
		   НП_ЗД_Гист_T_Вбаке  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_Гист_T_Вбаке;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;	
	    СЛУЧАЙ ИЗМН_НП_ЗД_Гист_T_Врубашке:	/* добавлено 3 февраля 2014 */
		   НП_ЗД_Гист_T_Врубашке  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_Гист_T_Врубашке;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;	
	    СЛУЧАЙ ИЗМН_НП_ЗД_Гист_P_ВбакеКомпрессора:	/* добавлено 3 февраля 2014 */
		   НП_ЗД_Гист_P_ВбакеКомпрессора  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_Гист_P_ВбакеКомпрессора;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;			
	    СЛУЧАЙ ИЗМН_НП_ЗД_Гист_P_ВтрубеСидерВерх:	/* добавлено 3 февраля 2014 */
		   НП_ЗД_Гист_P_ВтрубеСидерВерх  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_Гист_P_ВтрубеСидерВерх;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;				
	    СЛУЧАЙ ИЗМН_НП_ЗД_Гист_P_ВтрубеСидерНиж:	/* добавлено 3 февраля 2014 */
		   НП_ЗД_Гист_P_ВтрубеСидерНиж  = GetFloatParamGUI();
          КодСобытия_к_ГУИ = НП_ЗД_Гист_P_ВтрубеСидерНиж;
          В СОСТ ПодтверждениеИзмененияНП;		   
			КОНЕЦ;

       СЛУЧАЙ ИЗМН_НП_ЗД_ПериодаКонтрP_ПриОткачке:
          НП_ЗД_ПериодаКонтрP_ПриОткачке = GetLongParamGUI();
          КодСобытия_к_ГУИ = ИЗМН_НП_ЗД_ПериодаКонтрP_ПриОткачке;
          В СОСТ ПодтверждениеИзмененияНП;
          КОНЕЦ;

       СЛУЧАЙ ИЗМН_НП_ЗД_ПериодаКонтрP_ПриНатекании:
          НП_ЗД_ПериодаКонтрP_ПриНатекании = GetLongParamGUI();
          КодСобытия_к_ГУИ = ИЗМН_НП_ЗД_ПериодаКонтрP_ПриНатекании;
          В СОСТ ПодтверждениеИзмененияНП;
          КОНЕЦ;
			
		УМОЛЧАНИЕ:
          В СОСТ НекорректноеСобытие;
          КОНЕЦ;
    } /* конец разбора */
	СТОП;	

 }
 СОСТ ПодтверждениеИзмененияНП{
    ЕСЛИ (SendMsgLongParamGUI(КодСобытия_к_ГУИ, GetLongParamGUI())) СТОП;
    ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НекорректноеСобытие {
    ЕСЛИ (SendMsgLongParamGUI(ПК_ГУИ_ОШИБКА_КОДА_КОМАНДЫ_ОТ_ГУИ, КодСобытия_от_ГУИ))
         СТОП;
    ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
  СОСТ НарушениеСвязи {
    ОШИБКА;
 }
}
/*=========================================*/
/*=                                       =*/
/*=     ОБРАБОТКА КОМАНД ОТ ГУИ           =*/
/*=                                       =*/
/*=========================================*/
ПРОЦ ОбработкаКомандУправления_от_ГУИ{
ИЗ ПРОЦ Инициализация
						/*	ТекущийРежим,*/
                    КодСобытия_от_ГУИ,
					К_УСТР_ПЛАВ_ПУСКА,
					ФлагГотовУрВодыБО,
					ФП_T_Вбаке,
					К_ПИТ_ВЕНТИЛЯТОРА,
					К_ПИТ_НАСОС_ОХЛ,
					К_ОТКР_ЗАТВОР_ВАК,
					К_ЗАКР_ЗАТВОР_ВАК,
					К_САПУН,
					ФлагГотовTВодыРО,
					ФП_P_ВтрубеСидер,
					ФП_P_Впатрубке,
					НП_ЗД_Pатмосф,
					К_Достоверности,
					
					СостояниеУСТР_ПЛАВ_ПУСКА;
ЦЕЛ ЛП_КодСообщенияДляGUI ЛОКАЛ;

 СОСТ Анализ{
    РАЗБОР (КодСобытия_от_ГУИ) {

/*------------------------без условий ----------------------------------------------*/
	    СЛУЧАЙ КОМ_ГУИ_ОТКР_ЗАТВОР_ВАК:
			СТАРТ ПРОЦ ОТКР_ЗАТВОР_ВАК;		
		КОНЕЦ;		
/*шшшшшшшшшшшшшшшшшшшшшшш условия открытия  шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/	
/*	    СЛУЧАЙ КОМ_ГУИ_ОТКР_ЗАТВОР_ВАК:															*/
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) { 	*/			/* вакуумирования нет */
/*				ЕСЛИ (ФП_P_ВтрубеСидер >= ФП_P_Впатрубке) */  		/* можно открывать */
/*					СТАРТ ПРОЦ ОТКР_ЗАТВОР_ВАК;  												*/
/*				ИНАЧЕ {																			*/
/*					ЛП_КодСообщенияДляGUI = ПК_ГУИ_НЕТ_УСЛОВИЙ_ДЛЯ_ВЫПОЛНЕНИЯ_КОМАНДЫ;			*/
/*					В СОСТ ПередачаСообщенияСПараметромГУИ;										*/
/*				}																				*/	
/*		  } ИНАЧЕ {																				*/
/*		    ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;		*/
/*			В СОСТ ПередачаСообщенияСПараметромГУИ;												*/
/*		  }																						*/
/*		КОНЕЦ;  																				*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/	

/*------------------------без условий ----------------------------------------------*/																				
	    СЛУЧАЙ КОМ_ГУИ_ЗАКР_ЗАТВОР_ВАК:
			СТАРТ ПРОЦ ЗАКР_ЗАТВОР_ВАК; 		
			КОНЕЦ;		
/*шшшшшшшшшшшшшшшшшшшшшшш условия закрытия  шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		
/*	    СЛУЧАЙ КОМ_ГУИ_ЗАКР_ЗАТВОР_ВАК:															*/
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) { */ 			/* вакуумирование не включено*/
/*				СТАРТ ПРОЦ ЗАКР_ЗАТВОР_ВАК; 													*/
/*		  	} ИНАЧЕ {																			*/
/*		    	ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*		 	}																					*/
/*		КОНЕЦ;																					*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/
			
/*------------------------без условий ----------------------------------------------*/
	    СЛУЧАЙ КОМ_ГУИ_ОТКР_САПУН:
			СТАРТ ПРОЦ ОТКР_САПУН;		
		КОНЕЦ;		
/*шшшшшшшшшшшшшшшшшшшшшшш условия включения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		  
/*	    СЛУЧАЙ КОМ_ГУИ_ОТКР_САПУН:									   					*/
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */ 		   /*вакуумирования нет 		*/
/*				СТАРТ ПРОЦ ОТКР_САПУН; 													*/
/*			} ИНАЧЕ {																			*/
/*				ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			}																					*/
/*		КОНЕЦ;																					*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		
		
/*------------------------без условий ----------------------------------------------*/
	    СЛУЧАЙ КОМ_ГУИ_ЗАКР_САПУН:
			СТАРТ ПРОЦ ЗАКР_САПУН;
		КОНЕЦ; 																			
/*шшшшшшшшшшшшшшшшшшшшшшш условия включения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		  
/*	    СЛУЧАЙ КОМ_ГУИ_ЗАКР_САПУН:									   					*/
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */ 		   /*вакуумирования нет 		*/
/*				СТАРТ ПРОЦ ЗАКР_САПУН; 													*/
/*			} ИНАЧЕ {																			*/
/*				ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			}																					*/
/*		КОНЕЦ;																					*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/			  

/*------------------------без условий ----------------------------------------------*/
		СЛУЧАЙ КОМ_ГУИ_ВКЛ_УСТР_ПЛАВ_ПУСКА:
			СТАРТ ПРОЦ ВКЛ_УСТР_ПЛАВ_ПУСКА;
		КОНЕЦ;
/*шшшшшшшшшшшшшшшшшшшшшшш условия включения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/
/*	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_УСТР_ПЛАВ_ПУСКА:									   					*/
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */ 		   /*вакуумирования нет 		*/
/*				СТАРТ ВКЛ_УСТР_ПЛАВ_ПУСКА; 													*/
/*			} ИНАЧЕ {																			*/
/*				ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			}																					*/
/*		КОНЕЦ;	
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/

/*------------------------без условий ----------------------------------------------*/	
	    СЛУЧАЙ КОМ_ГУИ_ВЫК_УСТР_ПЛАВ_ПУСКА: 
			СТАРТ ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА;
         КОНЕЦ;			
/*шшшшшшшшшшшшшшшшшшшшшшш условия выключения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/
/*	    СЛУЧАЙ КОМ_ГУИ_ВЫК_УСТР_ПЛАВ_ПУСКА:									   					*/
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */ 		   /*вакуумирования нет 		*/
/*				СТАРТ ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА; 													*/
/*			} ИНАЧЕ {																			*/
/*				ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			}																					*/
/*		КОНЕЦ;	
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/	


/*------------------------без условий ----------------------------------------------*/		  
		СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_УПП_ВАК_НАСОСА:   
			СТАРТ ПРОЦ ВКЛ_ПИТ_УПП_ВАК_НАСОСА;   
          КОНЕЦ;
/*шшшшшшшшшшшшшшшшшшшшшшш условия включения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		  
/*	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_УПП_ВАК_НАСОСА:		  							   					*/ 
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */ 		   /*вакуумирования нет 		*/
/*				СТАРТ ПРОЦ ВКЛ_ПИТ_УПП_ВАК_НАСОСА; 													*/ 
/*			} ИНАЧЕ {																			*/
/*				ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			}																					*/
/*		КОНЕЦ;																					*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/			  


/*------------------------без условий ----------------------------------------------*/		  
	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_УПП_ВАК_НАСОСА:  
			СТАРТ ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА;  
          КОНЕЦ;
/*шшшшшшшшшшшшшшшшшшшшшшш условия выключения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/
/*	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_УПП_ВАК_НАСОСА:									   					*/ 
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */ 		   /*вакуумирования нет 		*/
/*				СТАРТ ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА; 													*/ 
/*			} ИНАЧЕ {																			*/
/*				ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			}																					*/
/*		КОНЕЦ;	
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/	

	  
/*------------------------без условий ----------------------------------------------*/
	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_ВЕНТИЛЯТОР:
			СТАРТ ПРОЦ ВКЛ_ПИТ_ВЕНТИЛЯТОР;		
          КОНЕЦ;
/*шшшшшшшшшшшшшшшшшшшшшшш условия включения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		  
/*	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_ВЕНТИЛЯТОР:									   					*/
/*		  	ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */ 		   /*вакуумирования нет 		*/
/*				СТАРТ ПРОЦ ВКЛ_ПИТ_ВЕНТИЛЯТОР; 													*/
/*			} ИНАЧЕ {																			*/
/*				ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			}																					*/
/*		КОНЕЦ;																					*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/


/*------------------------без условий ----------------------------------------------*/  
	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_ВЕНТИЛЯТОР:
			СТАРТ ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР;	
          КОНЕЦ;
/*шшшшшшшшшшшшшшшшшшшшшшш условия выключения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		  
/*	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_ВЕНТИЛЯТОР:												    	*/
/*			ЕСЛИ (СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */		      	  /* вакуумирования нет */
/*				СТАРТ ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР; 													*/
/*			} ИНАЧЕ { */ 											      /* идет вакуумирование*/
/*		    	ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			} 																					*/
/*		КОНЕЦ;   																				*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/


/*------------------------без условий ----------------------------------------------*/	  
		СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_РЕГ_Т:
			СТАРТ ПРОЦ ВКЛ_ПИТ_РЕГ_Т;
          КОНЕЦ;
/*шшшшшшшшшшшшшшшшшшшшшшш условия включения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/	
/*	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_РЕГ_Т:															*/	  
/*			ЕСЛИ(СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */					 /* вакуумирования нет */
/*				ЕСЛИ (ФП_T_Вбаке > 0.0){ 														*/													 
/*					ЕСЛИ (ФлагГотовУрВодыБО == НОРМА) {											*/
/*						СТАРТ ПРОЦ ВКЛ_ПИТ_РЕГ_Т;												*/ 
/*					} ИНАЧЕ {																	*/
/*						 ЛП_КодСообщенияДляGUI = ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_ВНЕ_НОРМЫ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ; */
/*						 В СОСТ ПередачаСообщенияСПараметромГУИ;								*/
/*					}																			*/
/*				} ИНАЧЕ {																		*/
/*					ЛП_КодСообщенияДляGUI = ПК_ГУИ_ОТРИЦАТЕЛЬНАЯ_ТЕМПЕРАТУРА_ВОДЫ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;*/
/*					В СОСТ ПередачаСообщенияСПараметромГУИ;										*/				
/*				}																				*/
/*			} ИНАЧЕ {  */ 												/* идет вакуумирование*/
/*		    	ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*			В СОСТ ПередачаСообщенияСПараметромГУИ;												*/
/*			}																					*/
/*		КОНЕЦ;																					*/ 
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/	

	  
/*------------------------без условий ----------------------------------------------*/	 
	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_РЕГ_Т:
			СТАРТ ПРОЦ ВЫК_ПИТ_РЕГ_Т;
        КОНЕЦ;			
/*шшшшшшшшшшшшшшшшшшшшшшш условия выключения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		  
/*	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_РЕГ_Т:															*/
/*			ЕСЛИ(СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */ 		/* вакуумирование не включено*/
/*				СТАРТ ПРОЦ ВЫК_ПИТ_РЕГ_Т;														*/
/*		  	} ИНАЧЕ { */  										/* идет вакуумирование*/
/*		    	ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*			}																					*/
/*          КОНЕЦ;																				*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/

/*------------------------без условий ----------------------------------------------*/
	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_РЕГ_УР:
		  	СТАРТ ПРОЦ ВКЛ_ПИТ_РЕГ_УР;
        КОНЕЦ;
/*шшшшшшшшшшшшшшшшшшшшшшш условия включения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		  
/*	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_РЕГ_УР: 															*/
/*		  	ЕСЛИ(СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) { */  	/* вакуумирование не включено*/
/*				СТАРТ ПРОЦ ВКЛ_ПИТ_РЕГ_УР;														*/
/*		  	} ИНАЧЕ { */  									/* идет вакуумирование*/
/*		    	ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*		  	} 																					*/
/*        КОНЕЦ;																				*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		


/*------------------------без условий ----------------------------------------------*/
	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_РЕГ_УР:
		  	СТАРТ ПРОЦ ВЫК_ПИТ_РЕГ_УР;
        КОНЕЦ;		
/*шшшшшшшшшшшшшшшшшшшшшшш условия выключения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		
/*	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_РЕГ_УР:															*/
/*			ЕСЛИ(СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) { */  		/* вакуумирование не включено*/
/*				СТАРТ ПРОЦ ВЫК_ПИТ_РЕГ_УР;														*/
/*		  	} ИНАЧЕ {  */							 /* идет вакуумирование*/
/*		    	ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*		  	} 																					*/
/*		  КОНЕЦ;																				*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/

/*------------------------без условий ----------------------------------------------*/
	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_НАС_ОХЛ:
			СТАРТ ПРОЦ ВКЛ_ПИТ_НАС_ОХЛ;
		  КОНЕЦ;
/*шшшшшшшшшшшшшшшшшшшшшшш условия включения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/
/*	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ПИТ_НАС_ОХЛ:															*/	  
/*			ЕСЛИ(СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) {  */					 /* вакуумирования нет */
/*				ЕСЛИ (ФП_T_Вбаке > 0.0){ 														*/													 
/*					ЕСЛИ (ФлагГотовУрВодыБО == НОРМА) {											*/
/*						СТАРТ ПРОЦ ВКЛ_ПИТ_НАС_ОХЛ;												*/ 
/*					} ИНАЧЕ {																	*/
/*						 ЛП_КодСообщенияДляGUI = ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_ВНЕ_НОРМЫ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ; */
/*						 В СОСТ ПередачаСообщенияСПараметромГУИ;								*/
/*					}																			*/
/*				} ИНАЧЕ {																		*/
/*					ЛП_КодСообщенияДляGUI = ПК_ГУИ_ОТРИЦАТЕЛЬНАЯ_ТЕМПЕРАТУРА_ВОДЫ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;*/
/*					В СОСТ ПередачаСообщенияСПараметромГУИ;										*/				
/*				}																				*/
/*			} ИНАЧЕ {  */ 												/* идет вакуумирование*/
/*		    	ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*			В СОСТ ПередачаСообщенияСПараметромГУИ;												*/
/*			}																					*/
/*		КОНЕЦ;	

/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/

/*------------------------без условий ----------------------------------------------*/
	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_НАС_ОХЛ:		  
		  	СТАРТ ПРОЦ ВЫК_ПИТ_НАС_ОХЛ;		  
		КОНЕЦ;		  
/*шшшшшшшшшшшшшшшшшшшшшшш условия выключения шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/		
/*	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ПИТ_НАС_ОХЛ:															*/
/*			ЕСЛИ(СостояниеУСТР_ПЛАВ_ПУСКА == ВЫК) { */  		/* вакуумирование не включено*/
/*				СТАРТ ПРОЦ ВЫК_ПИТ_НАС_ОХЛ;														*/
/*		  	} ИНАЧЕ {  */							 /* идет вакуумирование*/
/*		    	ЛП_КодСообщенияДляGUI = ПК_ГУИ_ИДЕТ_ВАКУУМИРОВАНИЕ_ОТКАЗ_ВЫПОЛНЕНИЯ_КОМАНДЫ;	*/
/*				В СОСТ ПередачаСообщенияСПараметромГУИ;											*/
/*		  	} 																					*/
/*		  КОНЕЦ;																				*/
/*шшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшшш*/

		  
	    СЛУЧАЙ КОМ_ГУИ_ВКЛ_ВАКУУМНЫЙ_НАСОС:   /*  данной кнопки нет и не надо */
          СТАРТ ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС; 
          КОНЕЦ;  
	    СЛУЧАЙ КОМ_ГУИ_ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ:  /*  14 декабря */
			К_Достоверности = Проверяются; 			/* есть проверка на достоверность */
			СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ;  /*! 12 декабря*/
          КОНЕЦ;  

		  СЛУЧАЙ КОМ_ГУИ_ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ:   /* достигает вакуума и выключает вак. насос и через 30 минут снова включает, если вакуума недостаточно */
			К_Достоверности = Проверяются; 			/* есть проверка на достоверность */         
			СТАРТ ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ;
          КОНЕЦ;
		  
		УМОЛЧАНИЕ:
          В СОСТ НекорректноеСобытие;
          КОНЕЦ;
    } /* конец разбора */
	СТОП;
 }


 /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НекорректноеСобытие {
    ЕСЛИ (SendMsgLongParamGUI(ПК_ГУИ_ОШИБКА_КОДА_КОМАНДЫ_ОТ_ГУИ, КодСобытия_от_ГУИ))
         СТОП;   
    ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ПередачаСообщенияСПараметромГУИ{
    ЕСЛИ (SendMsgLongParamGUI(ЛП_КодСообщенияДляGUI, КодСобытия_от_ГУИ))
        СТОП;
    ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }

 СОСТ НарушениеСвязи {
    ОШИБКА;
 }
} /* конец ПРОЦ ОбработкаКомандУправленияРегуляторами_от_ПИВ   */

/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*==           изменения ФП_P_ВбакеКомпрессора        */
/*====================================================*/
ПРОЦ КонтрольИзменения_ФП_P_ВбакеКомпрессора{
 ИЗ ПРОЦ Инициализация  ФП_P_ВбакеКомпрессора, ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА;
 ПЛАВ ЛП_Предыдущее ЛОКАЛ;
 СОСТ Начало{
    ЛП_Предыдущее = (!ФП_P_ВбакеКомпрессора);
    В СЛЕДУЮЩЕЕ;
 }
 СОСТ КонтрольИзменения{
    ЕСЛИ (ЛП_Предыдущее != ФП_P_ВбакеКомпрессора) {
         ЛП_Предыдущее = ФП_P_ВбакеКомпрессора;
         В СЛЕДУЮЩЕЕ;
    }
 }
 СОСТ СообщОбИзменении{
     ЕСЛИ (SendMsgFloatParamGUI(ПК_ГУИ_ФП_P_ВбакеКомпрессора, ЛП_Предыдущее))
         В СОСТ ТрафикПауза;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ТрафикПауза{
    ТАЙМАУТ ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА В СОСТ КонтрольИзменения;

 }
/* НЕНОРМАЛЬНЫЕ СИТУАЦИИ */
 СОСТ НарушениеСвязи{
     В СОСТ КонтрольИзменения;
 }
}
/* ПРОЦ КонтрольИзменения_ФП_P_ВбакеКомпрессора  */

/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*==           изменения ИЗМН_ФП_P_Впатрубке     */
/*====================================================*/
ПРОЦ КонтрольИзменения_ФП_P_Впатрубке{
 ИЗ ПРОЦ Инициализация  ФП_P_Впатрубке, ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА;
 ПЛАВ ЛП_Предыдущее ЛОКАЛ;
 СОСТ Начало{
    ЛП_Предыдущее = (!ФП_P_Впатрубке);
    В СЛЕДУЮЩЕЕ;
 }
 СОСТ КонтрольИзменения{
    ЕСЛИ (ЛП_Предыдущее != ФП_P_Впатрубке) {
         ЛП_Предыдущее = ФП_P_Впатрубке;
         В СЛЕДУЮЩЕЕ;
    }
 }
 СОСТ СообщОбИзменении{
     ЕСЛИ (SendMsgFloatParamGUI(ПК_ГУИ_ФП_P_Впатрубке, ЛП_Предыдущее))
         В СОСТ ТрафикПауза;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ТрафикПауза{
    ТАЙМАУТ ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА В СОСТ КонтрольИзменения;

 }
/* НЕНОРМАЛЬНЫЕ СИТУАЦИИ */
 СОСТ НарушениеСвязи{
     В СОСТ КонтрольИзменения;
 }
}
/* ПРОЦ КонтрольИзменения_ФП_P_Впатрубке  */

/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*==           изменения ИЗМН_ФП_T_Врубашке     */
/*====================================================*/
ПРОЦ КонтрольИзменения_ФП_T_Врубашке{
 ИЗ ПРОЦ Инициализация  ФП_T_Врубашке, ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА;
 ПЛАВ ЛП_Предыдущее ЛОКАЛ;
 СОСТ Начало{
    ЛП_Предыдущее = (!ФП_T_Врубашке);
    В СЛЕДУЮЩЕЕ;
 }
 СОСТ КонтрольИзменения{
    ЕСЛИ (ЛП_Предыдущее != ФП_T_Врубашке) {
         ЛП_Предыдущее = ФП_T_Врубашке;
         В СЛЕДУЮЩЕЕ;
    }
 }
 СОСТ СообщОбИзменении{
     ЕСЛИ (SendMsgFloatParamGUI(ПК_ГУИ_ФП_T_Врубашке, ЛП_Предыдущее))
         В СОСТ ТрафикПауза;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ТрафикПауза{
    ТАЙМАУТ ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА В СОСТ КонтрольИзменения;

 }
/* НЕНОРМАЛЬНЫЕ СИТУАЦИИ */
 СОСТ НарушениеСвязи{
     В СОСТ КонтрольИзменения;
 }
}
/* ПРОЦ КонтрольИзменения_ФП_T_Врубашке  */

/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*==           изменения ИЗМН_ФП_T_Вбаке     */
/*====================================================*/
ПРОЦ КонтрольИзменения_ФП_T_Вбаке{
 ИЗ ПРОЦ Инициализация  ФП_T_Вбаке, ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА;
 ПЛАВ ЛП_Предыдущее ЛОКАЛ;
 СОСТ Начало{
    ЛП_Предыдущее = (!ФП_T_Вбаке);
    В СЛЕДУЮЩЕЕ;
 }
 СОСТ КонтрольИзменения{
    ЕСЛИ (ЛП_Предыдущее != ФП_T_Вбаке) {
         ЛП_Предыдущее = ФП_T_Вбаке;
         В СЛЕДУЮЩЕЕ;
    }
 }
 СОСТ СообщОбИзменении{
     ЕСЛИ (SendMsgFloatParamGUI(ПК_ГУИ_ФП_T_Вбаке, ЛП_Предыдущее))
         В СОСТ ТрафикПауза;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ТрафикПауза{
    ТАЙМАУТ ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА В СОСТ КонтрольИзменения;

 }
/* НЕНОРМАЛЬНЫЕ СИТУАЦИИ */
 СОСТ НарушениеСвязи{
     В СОСТ КонтрольИзменения;
 }
}
/* ПРОЦ КонтрольИзменения_ФП_T_Вбаке  */

/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*==           изменения ИЗМН_ФП_P_ВтрубеСидер     */
/*====================================================*/	
 ПРОЦ КонтрольИзменения_ФП_P_ВтрубеСидер{
 ИЗ ПРОЦ Инициализация  ФП_P_ВтрубеСидер, ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА;
 ПЛАВ ЛП_Предыдущее ЛОКАЛ;
 СОСТ Начало{
    ЛП_Предыдущее = (!ФП_P_ВтрубеСидер);
    В СЛЕДУЮЩЕЕ;
 }
 СОСТ КонтрольИзменения{
    ЕСЛИ (ЛП_Предыдущее != ФП_P_ВтрубеСидер) {
         ЛП_Предыдущее = ФП_P_ВтрубеСидер;
         В СЛЕДУЮЩЕЕ;
    }
 }
 СОСТ СообщОбИзменении{
     ЕСЛИ (SendMsgFloatParamGUI(ПК_ГУИ_ФП_P_ВтрубеСидер, ЛП_Предыдущее))
         В СОСТ ТрафикПауза;
     ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ ТрафикПауза{
    ТАЙМАУТ ЗАДЕРЖКА_НА_РАЗГРУЗКУ_ТРАФИКА В СОСТ КонтрольИзменения;

 }
/* НЕНОРМАЛЬНЫЕ СИТУАЦИИ */
 СОСТ НарушениеСвязи{
     В СОСТ КонтрольИзменения;
 }
}
/* ПРОЦ КонтрольИзменения_ФП_P_ВтрубеСидер  */   


/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*== 		Контроль Откачки в Трубе сидеростата 	==*/
/*====================================================*/
ПРОЦ КонтрольВеличиныОткачкиВауумнойТрубыСидеростата{
ИЗ ПРОЦ Инициализация 	ФлагОткачкиТрубыСидеростата,
						ФП_P_ВтрубеСидер;
ПЛАВ ЛП_Предыдущее ЛОКАЛ;
/*  Вопрос от Татьяны: там Проверяется скорость откачки. Но если достигнута некая глубина вакуумирования,*/
/* скорость откачки становится маленькой. Тогда алгоритм все равно сообщает постоянно, */
/*в каком состоянии скорость откачки. Это нормально? */					
 СОСТ Начало{
	ЛП_Предыдущее = ФП_P_ВтрубеСидер;
	ТАЙМАУТ ТАЙМАУТ_ЗАДЕРЖКА_НА_ОТКАЧКУ В СЛЕДУЮЩЕЕ;
 }
 СОСТ АнализОткачки{
	ЕСЛИ ((ЛП_Предыдущее - ФП_P_ВтрубеСидер) > 0.00) {    /*  величина откачки  ?????* м.б. настр параметр ввести*/
        ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СКОРОСТЬ_ОТКАЧКИ_В_НОРМЕ)) {
					ФлагОткачкиТрубыСидеростата = НОРМА;
					В СОСТ Начало;
		} 
    } ИНАЧЕ{
	ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СКОРОСТЬ_ОТКАЧКИ_НИЖЕ_НОРМЫ)) {
					ФлагОткачкиТрубыСидеростата = ВНЕ_НОРМЫ;
					В СОСТ Начало;
		} 
	}
 }
}
/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*== Контроль Готовности Вакуума в Вакуумной Трубе  ==*/
/*====================================================*/

ПРОЦ КонтрольГотовностиВакуума_в_Вакуумной_Трубе{
ИЗ ПРОЦ Инициализация  	ФП_P_ВтрубеСидер,
						НП_ЗД_P_ВтрубеСидер,
						ФлагГотовВакуумаВТ,
						НП_ЗД_Гист_P_ВтрубеСидерВерх,
						НП_ЗД_Гист_P_ВтрубеСидерНиж;
СОСТ Начало{
   ЕСЛИ (ФП_P_ВтрубеСидер <= НП_ЗД_P_ВтрубеСидер) {  /* 0.05 */
         ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ДАВЛЕНИЕ_В_ВАКУУМНОЙ_ТРУБЕ_В_НОРМЕ)) {
					ФлагГотовВакуумаВТ = НОРМА;
					В СОСТ ДавлениеНормальное;
					}
    } ИНАЧЕ {
                ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ДАВЛЕНИЕ_В_ВАКУУМНОЙ_ТРУБЕ_ВНЕ_НОРМЫ)) {
					ФлагГотовВакуумаВТ = ВНЕ_НОРМЫ;
				   В СОСТ ДавлениеВысокое;
				}
    }
    ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }


 
СОСТ ДавлениеНормальное{  /*  > 0.055 */
       ЕСЛИ (ФП_P_ВтрубеСидер > (НП_ЗД_P_ВтрубеСидер + НП_ЗД_Гист_P_ВтрубеСидерВерх))  В СОСТ Начало;  /* ?????поправить идем, если выше нормы */
 } 
СОСТ ДавлениеВысокое{  /* недостаточный вакуум   < 0.025*/
       ЕСЛИ (ФП_P_ВтрубеСидер < (НП_ЗД_P_ВтрубеСидер - НП_ЗД_Гист_P_ВтрубеСидерНиж))  В СОСТ Начало;	/* ?????поправить идем, если ниже нормы */
 }  

/* НЕНОРМАЛЬНЫЕ СИТУАЦИИ */
 СОСТ НарушениеСвязи{
     В СОСТ Начало;
 }
}

/* конец ПРОЦ КонтрольГотовностиВакуума_в_Вакуумной Трубе

/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*==           Уровень воды в баке охлаждения       ==*/
/*====================================================*/
ПРОЦ КонтрольУровняВодыБакаОхлаждения{  /*  */
 ИЗ ПРОЦ Инициализация
                        К_УР_ВОДЫ_MIN,
                        К_УР_ВОДЫ_MAX,
						ФлагГотовУрВодыБО,
						Д_УР_ВОДЫ_MIN,
						Д_УР_ВОДЫ_MAX,
						К_Достоверности;
						
 СОСТ Начало{
	ЕСЛИ (К_Достоверности == Не_проверяются) {Д_УР_ВОДЫ_MIN = ВКЛ; Д_УР_ВОДЫ_MAX = ВКЛ; }/* для отладки без достоверностей*/ 
	ЕСЛИ ((Д_УР_ВОДЫ_MIN) && (Д_УР_ВОДЫ_MAX)) { 
	
		ЕСЛИ ((!К_УР_ВОДЫ_MIN) && (!К_УР_ВОДЫ_MAX)) {		/*ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_НИЗКИЙ */
						ФлагГотовУрВодыБО = ВНЕ_НОРМЫ;
						В СОСТ СообщениеНизкийУровеньВоды;
		} ИНАЧЕ { 
			ЕСЛИ ((К_УР_ВОДЫ_MIN) && (К_УР_ВОДЫ_MAX)) { /*ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_ВЫСОКИЙ */
						ФлагГотовУрВодыБО = ВНЕ_НОРМЫ;
						В СОСТ СообщениеВысокийУровеньВоды;
			} ИНАЧЕ {
				ЕСЛИ ((!К_УР_ВОДЫ_MIN) && (К_УР_ВОДЫ_MAX)) {  /* ПК_ГУИ_ОТКАЗ_ДАТЧИКОВ_УРОВНЯ */
						ФлагГотовУрВодыБО = ВНЕ_НОРМЫ;
						В СОСТ СообщениеОтказДатчиков;
				} ИНАЧЕ  {   /* ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_В_НОРМЕ */
						ФлагГотовУрВодыБО = НОРМА;
						В СОСТ СообщениеУровеньВодыВнорме;
					
				}
			}	 
		}	 
	}	/* конец((Д_УР_ВОДЫ_MIN) && (Д_УР_ВОДЫ_MAX)) */
 } /* конец состояния*/						
						
	СОСТ СообщениеНизкийУровеньВоды{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_НИЗКИЙ))В  СОСТ НизкийУровеньВоды;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;    
	} 
	СОСТ СообщениеВысокийУровеньВоды{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_ВЫСОКИЙ))В  СОСТ ВысокийУровеньВоды;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;    
	} 						
	СОСТ СообщениеОтказДатчиков{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ДАТЧИКОВ_УРОВНЯ))В  СОСТ ОтказДатчиков;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;    
	} 						
	СОСТ СообщениеУровеньВодыВнорме{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_УРОВЕНЬ_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_В_НОРМЕ))В  СОСТ УровеньВодыВнорме;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;    
	} 						

	СОСТ НизкийУровеньВоды{
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_УР_ВОДЫ_MIN = ВКЛ; Д_УР_ВОДЫ_MAX = ВКЛ; }/* для отладки без достоверностей*/  
		ЕСЛИ (((К_УР_ВОДЫ_MIN) || (К_УР_ВОДЫ_MAX)) && (Д_УР_ВОДЫ_MIN) && (Д_УР_ВОДЫ_MAX))  В СОСТ Начало;
	}
	СОСТ ВысокийУровеньВоды{
 		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_УР_ВОДЫ_MIN = ВКЛ; Д_УР_ВОДЫ_MAX = ВКЛ; }/* для отладки без достоверностей*/ 
       ЕСЛИ (((!К_УР_ВОДЫ_MIN) || (!К_УР_ВОДЫ_MAX)) && (Д_УР_ВОДЫ_MIN) && (Д_УР_ВОДЫ_MAX)) В СОСТ Начало; 
	}
	СОСТ УровеньВодыВнорме{
  		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_УР_ВОДЫ_MIN = ВКЛ; Д_УР_ВОДЫ_MAX = ВКЛ; }/* для отладки без достоверностей*/ 
		ЕСЛИ (((!К_УР_ВОДЫ_MIN) || (К_УР_ВОДЫ_MAX)) && (Д_УР_ВОДЫ_MIN) && (Д_УР_ВОДЫ_MAX)){ 
			В СОСТ Начало;
		}
	}
	СОСТ ОтказДатчиков{
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_УР_ВОДЫ_MIN = ВКЛ; Д_УР_ВОДЫ_MAX = ВКЛ; }/* для отладки без достоверностей*/  
		ЕСЛИ (((К_УР_ВОДЫ_MIN) || (!К_УР_ВОДЫ_MAX)) && (Д_УР_ВОДЫ_MIN) && (Д_УР_ВОДЫ_MAX))В СОСТ Начало;	
 } 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
		В СОСТ Начало;
	}
}   /*   Конец ПРОЦ КонтрольУровняВодыБакаОхлаждения */


/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*==       Температуры воды в баке охлаждения       ==*/
/*====================================================*/
ПРОЦ КонтрольТемпературыВодыБакаОхлаждения{
 ИЗ ПРОЦ Инициализация 	
						ФП_T_Вбаке,	
                        ФлагГотовТемпВодыБО,
						НП_ЗД_T_ВбакеНижняя,
						НП_ЗД_T_ВбакеВерхняя,
						НП_ЗД_Гист_T_Вбаке; /* добавлено 20 января 2014 */
						
 СОСТ Начало{
    ЕСЛИ (ФП_T_Вбаке < НП_ЗД_T_ВбакеНижняя) { /* 10  добавлено 20 января 2014 */
         ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_НИЗКАЯ)) {
					ФлагГотовТемпВодыБО = ВНЕ_НОРМЫ;
					В СОСТ НизкаяТемператураВоды;
					}
    } ИНАЧЕ ЕСЛИ (ФП_T_Вбаке > НП_ЗД_T_ВбакеВерхняя) {		/* 60  добавлено 20 января 2014 */
              ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_ВЫСОКАЯ)) {
			   ФлагГотовТемпВодыБО = ВНЕ_НОРМЫ;
			   В СОСТ ВысокаяТемператураВоды;
			   }
    } ИНАЧЕ {
                ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_БАКЕ_ОХЛАЖДЕНИЯ_В_НОРМЕ)) {
					ФлагГотовТемпВодыБО = НОРМА;
				   В СОСТ ТемператураВнорме;
				}
    }
		 
    ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 

 СОСТ НизкаяТемператураВоды{					/*  2*/
	ЕСЛИ (ФП_T_Вбаке > (НП_ЗД_T_ВбакеНижняя + НП_ЗД_Гист_T_Вбаке))  В СОСТ Начало;
	ТАЙМАУТ ОДНА_МИНУТА В СОСТ Начало;
 }

 СОСТ ВысокаяТемператураВоды{
	ЕСЛИ (ФП_T_Вбаке < (НП_ЗД_T_ВбакеВерхняя - НП_ЗД_Гист_T_Вбаке))  В СОСТ Начало;
	ТАЙМАУТ ОДНА_МИНУТА В СОСТ Начало;
 }
  СОСТ ТемператураВнорме{
       ЕСЛИ ((ФП_T_Вбаке < (НП_ЗД_T_ВбакеНижняя - НП_ЗД_Гист_T_Вбаке)) || 
	         (ФП_T_Вбаке > (НП_ЗД_T_ВбакеВерхняя + НП_ЗД_Гист_T_Вбаке)))  В СОСТ Начало;
 } 
 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
    В СОСТ Начало;
 }
}   /*   Конец ПРОЦ КонтрольТемпературыВодыБакаОхлаждения */



/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ				  */
/*==       Температуры воды в рубашке охлаждения    ==*/
/*====================================================*/
ПРОЦ КонтрольТемпературыРубашкиОхлаждения{
 ИЗ ПРОЦ Инициализация 	
						ФП_T_Врубашке,	
                        ФлагГотовTВодыРО,
						НП_ЗД_T_ВрубашкеНижняя,
						НП_ЗД_T_ВрубашкеВерхняя,
						НП_ЗД_Гист_T_Врубашке;
						
 СОСТ Начало{
    ЕСЛИ (ФП_T_Врубашке < НП_ЗД_T_ВрубашкеНижняя) {  /* 40	изменено 20 января 2014 */
         ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_РУБАШКЕ_ОХЛАЖДЕНИЯ_НИЗКАЯ)) {
					ФлагГотовTВодыРО = НИЖЕ_НОРМЫ;
					В СОСТ НизкаяТемператураВоды;
					}
    } ИНАЧЕ ЕСЛИ (ФП_T_Врубашке > НП_ЗД_T_ВрубашкеВерхняя) {		/* 85 изменено 20 января 2014 */
              ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_РУБАШКЕ_ОХЛАЖДЕНИЯ_ВЫСОКАЯ)) {
			   ФлагГотовTВодыРО = ВЫШЕ_НОРМЫ;
			   В СОСТ ВысокаяТемператураВоды;
			   }
    } ИНАЧЕ {
                ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ТЕМПЕРАТУРА_ВОДЫ_В_РУБАШКЕ_ОХЛАЖДЕНИЯ_В_НОРМЕ)) {
					ФлагГотовTВодыРО = НОРМА;
				   В СОСТ ТемператураВнорме;
				}
         }
    ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }

 СОСТ НизкаяТемператураВоды{
       
		ЕСЛИ (ФП_T_Врубашке > (НП_ЗД_T_ВрубашкеНижняя + НП_ЗД_Гист_T_Врубашке))  В СОСТ Начало;
		ТАЙМАУТ ОДНА_МИНУТА В СОСТ Начало;
 }

 СОСТ ВысокаяТемператураВоды{
        ЕСЛИ (ФП_T_Врубашке < (НП_ЗД_T_ВрубашкеВерхняя - НП_ЗД_Гист_T_Врубашке))  В СОСТ Начало;
		ТАЙМАУТ ОДНА_МИНУТА В СОСТ Начало;
 }
 

 СОСТ ТемператураВнорме{
        ЕСЛИ ((ФП_T_Врубашке < (НП_ЗД_T_ВрубашкеНижняя - НП_ЗД_Гист_T_Врубашке)) || 
	         (ФП_T_Врубашке > (НП_ЗД_T_ВрубашкеВерхняя + НП_ЗД_Гист_T_Врубашке)))  В СОСТ Начало;
 } 
СОСТ Задержка{
      ТАЙМАУТ ОДНА_МИНУТА В СОСТ Начало;
 }
 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
    В СОСТ Начало;
 }
}   /*   Конец ПРОЦ КонтрольТемпературыВодыВрубашкеОхлаждения */

/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ	             */			  
/*== 		Контроль давления в баке компрессора  	==*/
/*====================================================*/
ПРОЦ КонтрольДавленияВбакеКомпрессора{
ИЗ ПРОЦ Инициализация  	ФП_P_ВбакеКомпрессора,
						ФлагДавленияКомпрессора,
						НП_ЗД_P_ВбакеКомпрессора,
						НП_ЗД_Гист_P_ВбакеКомпрессора;

 СОСТ Начало{    						/*  4  */
    ЕСЛИ (ФП_P_ВбакеКомпрессора < НП_ЗД_P_ВбакеКомпрессора) {
        ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ДАВЛЕНИЕ_В_БАКЕ_КОМПРЕССОРА_НИЖЕ_НОРМЫ)) {
					ФлагДавленияКомпрессора = ВНЕ_НОРМЫ;
					В СОСТ НизкоеДавление;
		}
    } ИНАЧЕ ЕСЛИ (ФП_P_ВбакеКомпрессора >= (НП_ЗД_P_ВбакеКомпрессора)) {
				ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ДАВЛЕНИЕ_В_БАКЕ_КОМПРЕССОРА_В_НОРМЕ)) {
					ФлагДавленияКомпрессора = НОРМА;
					В СОСТ ДавлениеВнорме;
				}
			}
    ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ НизкоеДавление{														/*0.5*/
		ЕСЛИ (ФП_P_ВбакеКомпрессора > ((НП_ЗД_P_ВбакеКомпрессора ) + НП_ЗД_Гист_P_ВбакеКомпрессора))
																				В СОСТ Начало;
 }
 СОСТ ДавлениеВнорме{														/*0.5*/
        ЕСЛИ (ФП_P_ВбакеКомпрессора < (НП_ЗД_P_ВбакеКомпрессора - НП_ЗД_Гист_P_ВбакеКомпрессора))  В СОСТ Начало;
 } 
 СОСТ Задержка{
      ТАЙМАУТ ДВЕ_СЕКУНДЫ В СОСТ Начало;
 }
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
    В СОСТ Начало;
 }
}
/*====================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ	              */			  
/*==Контроль аварийного давления в баке компрессора ==*/
/*				добавлено август 2014				  */
/*====================================================*/
ПРОЦ КонтрольАварийногоДавленияВбакеКомпрессора{
	ИЗ ПРОЦ Инициализация 	ФП_P_ВбакеКомпрессора;
	СОСТ Начало {
		ЕСЛИ (ФП_P_ВбакеКомпрессора <= 2.0) В СЛЕДУЮЩЕЕ;
	}	
	СОСТ АварийноеДавлениеВбакеКомпрессора{
 		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_АВАРИЯ_ДАВЛЕНИЕ_В_БАКЕ_КОМПРЕССОРА_МЕНЬШЕ_2х_АТМОСФЕР)) В СОСТ ПроверкаИдетЛиВакуумирование;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ ПроверкаИдетЛиВакуумирование{	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Пауза;
		ИНАЧЕ СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
				ИНАЧЕ  В СОСТ ОжиданиеПовышенияДавления;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
	СОСТ ОжиданиеПовышенияДавления{ 
		ЕСЛИ (ФП_P_ВбакеКомпрессора > 2.0) В СОСТ Начало;
	}
	СОСТ Пауза{
     ТАЙМАУТ ПЯТЬ_СЕКУНД В СОСТ Начало;   
	}	

/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
    В СОСТ Начало;
 }
}
/*========================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ	                  */			  
/*==Контроль аварийной температуры в рубашке охлаждения ==*/
/*				добавлено август 2014				      */
/*========================================================*/
ПРОЦ КонтрольАварийнойТемпературыВрубашкеОхлаждения{
	ИЗ ПРОЦ Инициализация 	ФП_T_Врубашке,
							НП_ЗД_T_ВрубашкеВерхняя;
	СОСТ Начало {
		ЕСЛИ (ФП_T_Врубашке >  Т_ПредельнаяВрубашкеОхлаждения) В СЛЕДУЮЩЕЕ;
	}	
	СОСТ АварийнаяТемператураВрубахеОхлаждения{
 		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_АВАРИЯ_ПЕРЕГРЕВ_РУБАШКИ_ОХЛАЖДЕНИЯ)) В СОСТ ПроверкаИдетЛиВакуумирование;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ ПроверкаИдетЛиВакуумирование{	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Пауза;
		ИНАЧЕ СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
				ИНАЧЕ  В СОСТ ОжиданиеСниженияТемпературы;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
	СОСТ ОжиданиеСниженияТемпературы{ 
		ЕСЛИ (ФП_T_Врубашке < НП_ЗД_T_ВрубашкеВерхняя) В СОСТ Начало;
	}
	СОСТ Пауза{
     ТАЙМАУТ ПЯТЬ_СЕКУНД В СОСТ Начало;   
	}	

/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
    В СОСТ Начало;
 }
}
/*========================================================*/
/*					ПРОЦЕСС КОНТРОЛЯ	                  */			  
/*==Контроль аварийной температуры в баке охлаждения ВН ==*/
/*				добавлено август 2014				      */
/*========================================================*/
ПРОЦ КонтрольАварийнойТемпературыВбакеОхлаждения{
	ИЗ ПРОЦ Инициализация 	ФП_T_Вбаке,
							НП_ЗД_T_ВбакеВерхняя;
	СОСТ Начало {
		ЕСЛИ (ФП_T_Вбаке >  Т_ПредельнаяВбакеОхлаждения) В СЛЕДУЮЩЕЕ;
	}	
	СОСТ АварийнаяТемператураВБакеОхлаждения{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_АВАРИЯ_ПЕРЕГРЕВ_БАКА_ОХЛАЖДЕНИЯ_НАСОСА)) В СОСТ ПроверкаИдетЛиВакуумирование;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ ПроверкаИдетЛиВакуумирование{	
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ) В СОСТ Пауза;
		ИНАЧЕ 	СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ; В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
				ИНАЧЕ  В СОСТ ОжиданиеСниженияТемпературы;  /* это значит, что нет необходимости останова всех процессов*/
		}
	} 
	СОСТ ОжиданиеСниженияТемпературы{ 
		ЕСЛИ (ФП_T_Вбаке < НП_ЗД_T_ВбакеВерхняя) В СОСТ Начало;
	}
	СОСТ Пауза{
     ТАЙМАУТ ПЯТЬ_СЕКУНД В СОСТ Начало;   
	}	

/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
    В СОСТ Начало;
 }
}


/*================================================================*/
/*         Процесс КонтрольСостоянияПитанияШкафаВакуумнойСистемы 380    */
/*   добавлено  27-го января 2014                                 */
/*================================================================*/
ПРОЦ КонтрольСостоянияПитанияШКАФА_ВС{  
	ИЗ ПРОЦ Инициализация 	К_ШКАФ_ВС_380,
							Д_ШКАФ_ВС_380,
							СостояниеПитШкафаВС380,
							К_Достоверности;
							
	СОСТ Начало {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ШКАФ_ВС_380 = ВКЛ;  /* для отладки без достоверностей*/
	    ЕСЛИ (Д_ШКАФ_ВС_380){
			ЕСЛИ (К_ШКАФ_ВС_380){
				СостояниеПитШкафаВС380 = ВКЛ; В СОСТ ВключенСообщаем;
			}
			ИНАЧЕ{
				СостояниеПитШкафаВС380 = ВЫК; 	В СОСТ ВыключенСообщаем;
			}		
		}
	}
	СОСТ ВключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЕСТЬ_ПИТАНИЕ_ШКАФА_ВС_380))  В  СОСТ СменаСостоянияВКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
    }
    СОСТ ВыключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_НЕТ_ПИТАНИЕ_ШКАФА_ВС_380))  В СОСТ СменаСостоянияВЫКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
	}
    СОСТ СменаСостоянияВКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ШКАФ_ВС_380 = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((!К_ШКАФ_ВС_380)&&(Д_ШКАФ_ВС_380))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияВЫКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ШКАФ_ВС_380 = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ШКАФ_ВС_380) && (Д_ШКАФ_ВС_380))  В СОСТ Начало;
	}  
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
		В СОСТ Начало;
	} 
}	

/* 22 сентября 2014 Лях */
/*================================================================*/
/*              Процесс контроля оборудования                     */
/* Работает только тогда, когда включено вакуумирование  		  */
/*================================================================*/
/* за запредельной температурой следит процесс  КонтрольАварийнойТемпературыВрубашкеОхлаждения*/
ПРОЦ КонтрольСостоянияОборудования
{  
ИЗ ПРОЦ Инициализация 	ФлагДавленияКомпрессора,
						К_ОТКР_ЗАТВОР_ВАК , 
						К_ЗАКР_ЗАТВОР_ВАК ,
						К_ШКАФ_ВС_380 ,
						К_САПУН,
						К_УСТР_ПЛАВ_ПУСКА,
						К_ПИТ_УПП_ВАК_НАСОСА ,
						К_ПИТ_ВЕНТИЛЯТОРА,
						К_ПИТ_РЕГ_Т,
						К_ПИТ_РЕГ_УР,
						К_ПИТ_НАСОС_ОХЛ; 
	СОСТ КонтрольОборудования
	{
			ЕСЛИ ((К_ОТКР_ЗАТВОР_ВАК == ВКЛ) && /* затвор вакуумный открыт*/
				(К_ЗАКР_ЗАТВОР_ВАК == ВЫК) &&
				(К_ШКАФ_ВС_380 == ВКЛ) &&    /* есть питание шкафа*/
				(К_САПУН == ЗАКР) &&    /* сапун закрыт*/
				(К_УСТР_ПЛАВ_ПУСКА == ВКЛ) &&    /* есть питание на устройстве плавного пуска */
				(К_ПИТ_УПП_ВАК_НАСОСА == ВКЛ) &&   /* есть питание вакуумного насоса*/
				(К_ПИТ_ВЕНТИЛЯТОРА == ВКЛ) &&    /* есть питание вентилятора*/
				(К_ПИТ_РЕГ_Т == ВКЛ) && /* есть питание регулятора температуры*/     
				(К_ПИТ_РЕГ_УР == ВКЛ) && /* есть питание регулятора уровня воды*/
				(К_ПИТ_НАСОС_ОХЛ == ВКЛ)  &&   /* есть питание насоса охлаждения*/ 
				(ФлагДавленияКомпрессора == НОРМА)  /* давление в компрессоре нормальное*/ 
			) 
		{ 			
			В СОСТ КонтрольОборудования;
		}
		ТАЙМАУТ ДВЕ_СЕКУНДЫ В СОСТ СообщениеОбОтказеВакуумирования;   
   }
    СОСТ СообщениеОбОтказеВакуумирования{
       ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВАКУУМИРОВАНИЯ_ОТКАЗ_ОБОРУДОВАНИЯ))	В СЛЕДУЮЩЕЕ;
      ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи; 
 }
	/*		Сломалось что-то (при включении вак. насоса, например). Пробуем выключить вакуумный насос*/ 
	/*	 вакуумирование прекращается*/
	СОСТ ВыключенияВакНасоса{
		СТАРТ ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ;
		В СЛЕДУЮЩЕЕ;
	}	
	СОСТ КонтрольВыключенияВакНасоса{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ ОШИБКА ) {
				В СОСТ ВыключениеНаЩиткеКнопарями; /* !!!!!!!!!!!!????? включение вак. системы не сработало штатно*/ 
			}
			ИНАЧЕ СТОП;   /* выключилось без ошибок, бежать вниз не надо*/
		} 
	} 
	
  СОСТ ВыключениеНаЩиткеКнопарями{
    СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
    ОШИБКА;
 }
  СОСТ НарушениеСвязи {
	   ОШИБКА;
	}
}



/*=========================================*/
/*=                                       =*/
/*=     ПРОЦЕССЫ  УПРАВЛЕНИЯ ВАКУУМНЫМ    =*/
/*=          ОБОРУДОВАНИЕМ                =*/
/*=========================================*/
/*=======================================================*/
/*=====   Процесс подачи питания на вентилятор		=====*/
/*=======================================================*/
ПРОЦ ВКЛ_ПИТ_ВЕНТИЛЯТОР{
 ИЗ ПРОЦ Инициализация 	К_ПИТ_ВЕНТИЛЯТОРА,
						У_ПИТ_ВЕНТИЛЯТОРА,
						Д_ПИТ_ВЕНТИЛЯТОРА,
						К_Достоверности
					/*	ОШИБКА_ФУНКЦ_ВЕНТИЛЯТОР */
						;
 ЛОГ У_Откат ЛОКАЛ;					  
	СОСТ Начало{
		У_Откат = У_ПИТ_ВЕНТИЛЯТОРА;
		ЕСЛИ (ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияВентилятора;
		У_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ КонтрольВключения{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;  /* для отладки без достоверностей*/ 
		ЕСЛИ ((К_ПИТ_ВЕНТИЛЯТОРА == ВКЛ) && (Д_ПИТ_ВЕНТИЛЯТОРА))  {
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияВентилятора;
			СТОП;  
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ВЕНТИЛЯТОРА В СОСТ Ошибка;
	}
  
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_ВЕНТИЛЯТОРА = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_ВЕНТИЛЯТОРА))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	}   
} /*конец процесса ВКЛ_ПИТ_ВЕНТИЛЯТОР  */

/*=======================================================*/
/*=====   Процесс отключения питания вентилятора    =====*/
/*=======================================================*/
ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР{
 ИЗ ПРОЦ Инициализация 	К_ПИТ_ВЕНТИЛЯТОРА,
						У_ПИТ_ВЕНТИЛЯТОРА,
						Д_ПИТ_ВЕНТИЛЯТОРА,
						К_Достоверности;
  ЛОГ У_Откат ЛОКАЛ;
	СОСТ Начало{
		ЕСЛИ (ПРОЦ ВКЛ_ПИТ_ВЕНТИЛЯТОР В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_ПИТ_ВЕНТИЛЯТОР;
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияВентилятора;
		У_ПИТ_ВЕНТИЛЯТОРА = ВЫК;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_ВЕНТИЛЯТОРА == ВЫК) && (Д_ПИТ_ВЕНТИЛЯТОРА)) {
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияВентилятора;
			СТОП;	
		} 
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ВЕНТИЛЯТОРА В СОСТ Ошибка;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_ВЕНТИЛЯТОРА = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_ВЕНТИЛЯТОРА))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	}   
} /*конец процесса ВЫК_ПИТ_ВЕНТИЛЯТОРА  */
					  
/*================================================================*/
/*         Процесс КонтрольСостоянияПитанияВентилятора  13 декабря     */
/*================================================================*/
ПРОЦ КонтрольСостоянияПитанияВентилятора{  
	ИЗ ПРОЦ Инициализация 	К_ПИТ_ВЕНТИЛЯТОРА,
							Д_ПИТ_ВЕНТИЛЯТОРА,
							СостояниеВентилятора,
							К_Достоверности;
							
	СОСТ Начало {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;  /* для отладки без достоверностей*/
	   

	   ЕСЛИ (Д_ПИТ_ВЕНТИЛЯТОРА){
			 ЕСЛИ (К_ПИТ_ВЕНТИЛЯТОРА) 
			   { 
					СостояниеВентилятора = ВКЛ;
					В СОСТ ВключенСообщаем; 
			   }
			   ИНАЧЕ      
			   { 
					СостояниеВентилятора = ВЫК;
					В СОСТ ВыключенСообщаем;
			   }
		}
	}
	СОСТ ВключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ВЕНТИЛЯТОР_ВКЛЮЧЕН))  В  СОСТ СменаСостоянияВКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
    }
    СОСТ ВыключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ВЕНТИЛЯТОР_ВЫКЛЮЧЕН))  В СОСТ СменаСостоянияВЫКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
	}
    СОСТ СменаСостоянияВКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((!К_ПИТ_ВЕНТИЛЯТОРА)&&(Д_ПИТ_ВЕНТИЛЯТОРА))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияВЫКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_ВЕНТИЛЯТОРА) && (Д_ПИТ_ВЕНТИЛЯТОРА))  В СОСТ Начало;
	}  
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
	   В СОСТ Начало;
	} 
}	
/*========================================================*/
/*=====   Процесс контроля включенности вентилятора  =====*/
/*========================================================*/
ПРОЦ КонтрольСпонтанногоВыключенияВентилятора{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_ВЕНТИЛЯТОРА,
							У_ПИТ_ВЕНТИЛЯТОРА,
							Д_ПИТ_ВЕНТИЛЯТОРА,
							К_Достоверности;
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;  /* для отладки без достоверностей*/ 
		ЕСЛИ ((К_ПИТ_ВЕНТИЛЯТОРА == ВЫК) && (Д_ПИТ_ВЕНТИЛЯТОРА))
		{
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияВентилятора;
			У_ПИТ_ВЕНТИЛЯТОРА = ВЫК;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_ВЕНТИЛЯТОРА)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}
/*=========================================================*/
/*=====   Процесс контроля выключенности вентилятора  =====*/
/*=========================================================*/
ПРОЦ КонтрольСпонтанногоВключенияВентилятора{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_ВЕНТИЛЯТОРА,
							Д_ПИТ_ВЕНТИЛЯТОРА,
							У_ПИТ_ВЕНТИЛЯТОРА,
							К_Достоверности;
	
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;  /* для отладки без достоверностей*/ 
		ЕСЛИ ((К_ПИТ_ВЕНТИЛЯТОРА == ВКЛ) && (Д_ПИТ_ВЕНТИЛЯТОРА)) 
		{	
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияВентилятора;
			У_ПИТ_ВЕНТИЛЯТОРА = ВКЛ;
			В СОСТ Ошибка; 
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_ВЕНТИЛЯТОРА)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/		
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}			  
/*=========================================================*/
/* 			КОНТРОЛЬ СОСТОЯНИЯ ЗАТВОРА ВАКУУМНОГО		 */
/*=========================================================*/
ПРОЦ КонтрольСостоянияЗатвораВакуумного{  
 ИЗ ПРОЦ Инициализация
                        К_ОТКР_ЗАТВОР_ВАК,
                        К_ЗАКР_ЗАТВОР_ВАК,
						Д_ОТКР_ЗАТВОР_ВАК,
						Д_ЗАКР_ЗАТВОР_ВАК,
						КонцевикОткрытияЗатвораВакуумного,
						КонцевикЗакрытияЗатвораВакуумного,
						К_Достоверности;
							
	СОСТ Начало{
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ; }/* для отладки без достоверностей*/ 
		ЕСЛИ ((Д_ОТКР_ЗАТВОР_ВАК) && (Д_ЗАКР_ЗАТВОР_ВАК)) { 
			ЕСЛИ ((!К_ОТКР_ЗАТВОР_ВАК) && (!К_ЗАКР_ЗАТВОР_ВАК) ) {  /*ПК_ГУИ_СРЕДНЕЕ_СОСТОЯНИЕ_ЗАТВОРА_ВАКУУМНОГО*/
				КонцевикОткрытияЗатвораВакуумного = ВЫК;
				КонцевикЗакрытияЗатвораВакуумного = ВЫК;
				В СОСТ СообщениеСменаСостоянияСреднего;
			} ИНАЧЕ {
				ЕСЛИ ((!К_ОТКР_ЗАТВОР_ВАК)&&(К_ЗАКР_ЗАТВОР_ВАК)) {  /*ПК_ГУИ_ЗАТВОР_ВАКУУМНЫЙ_ЗАКРЫТ*/
					КонцевикОткрытияЗатвораВакуумного = ВЫК;
					КонцевикЗакрытияЗатвораВакуумного = ВКЛ;
					В СОСТ СообщениеСменаСостоянияЗакрытия;
				} ИНАЧЕ {
					ЕСЛИ ((К_ОТКР_ЗАТВОР_ВАК)&&(!К_ЗАКР_ЗАТВОР_ВАК) ) {  /*ПК_ГУИ_ЗАТВОР_ВАКУУМНЫЙ_ОТКРЫТ*/
						КонцевикОткрытияЗатвораВакуумного = ВКЛ;
						КонцевикЗакрытияЗатвораВакуумного = ВЫК;
						В СОСТ СообщениеСменаСостоянияОткрытия;
					} ИНАЧЕ { 										 /*ПК_ГУИ_СОСТОЯНИЕ_ОШИБКИ_ЗАТВОРА_ВАКУУМНОГО*/
						КонцевикОткрытияЗатвораВакуумного = ВКЛ;  
						КонцевикЗакрытияЗатвораВакуумного = ВКЛ;
						В СОСТ СообщениеСменаСостоянияОшибки;
					}
				}
			}
		}  /* конец проверка на достоверность*/
	}  /* конец состояния*/

	СОСТ СообщениеСменаСостоянияСреднего{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СРЕДНЕЕ_СОСТОЯНИЕ_ЗАТВОРА_ВАКУУМНОГО))В  СОСТ СменаСостоянияСреднего;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;    
	} 
	СОСТ СообщениеСменаСостоянияЗакрытия{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЗАТВОР_ВАКУУМНЫЙ_ЗАКРЫТ))В  СОСТ СменаСостоянияЗакрытия;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;    
	} 
	СОСТ СообщениеСменаСостоянияОткрытия{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ЗАТВОР_ВАКУУМНЫЙ_ОТКРЫТ))В  СОСТ СменаСостоянияОткрытия;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;    
	} 
	СОСТ СообщениеСменаСостоянияОшибки{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СОСТОЯНИЕ_ОШИБКИ_ЗАТВОРА_ВАКУУМНОГО))В  СОСТ СменаСостоянияОшибки;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;    
	}
	
	СОСТ СменаСостоянияСреднего{
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ; }/* для отладки без достоверностей*/ 
        ЕСЛИ (((К_ОТКР_ЗАТВОР_ВАК) || (К_ЗАКР_ЗАТВОР_ВАК)) && (Д_ОТКР_ЗАТВОР_ВАК) && (Д_ЗАКР_ЗАТВОР_ВАК))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияЗакрытия{
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ; }/* для отладки без достоверностей*/ 
		ЕСЛИ ((К_ОТКР_ЗАТВОР_ВАК || (!К_ЗАКР_ЗАТВОР_ВАК))  && (Д_ОТКР_ЗАТВОР_ВАК) && (Д_ЗАКР_ЗАТВОР_ВАК)) В СОСТ Начало;
	}
	СОСТ СменаСостоянияОткрытия{
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ; }/* для отладки без достоверностей*/ 
		ЕСЛИ (((!К_ОТКР_ЗАТВОР_ВАК) || К_ЗАКР_ЗАТВОР_ВАК)  && (Д_ОТКР_ЗАТВОР_ВАК) && (Д_ЗАКР_ЗАТВОР_ВАК)) В СОСТ Начало;
	}
	СОСТ СменаСостоянияОшибки{
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ; }/* для отладки без достоверностей*/ 
		ЕСЛИ (((!К_ОТКР_ЗАТВОР_ВАК) || (!К_ЗАКР_ЗАТВОР_ВАК))  && (Д_ОТКР_ЗАТВОР_ВАК) && (Д_ЗАКР_ЗАТВОР_ВАК))  В СОСТ Начало;
	}

/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
		В СОСТ Начало;
	}
}

/*===========================================================*/
/*=====   Процесс открытия затвора вакуумного         =======*/
/*===========================================================*/
ПРОЦ ОТКР_ЗАТВОР_ВАК{
 ИЗ ПРОЦ Инициализация 	К_ОТКР_ЗАТВОР_ВАК,
						К_ЗАКР_ЗАТВОР_ВАК,
						У_ЗАТВОР_ВАК,
						Д_ОТКР_ЗАТВОР_ВАК,
						Д_ЗАКР_ЗАТВОР_ВАК,
						К_Достоверности;
  ЛОГ У_Откат ЛОКАЛ;		
	СОСТ Начало{
		У_Откат = У_ЗАТВОР_ВАК;
		ЕСЛИ (ПРОЦ ЗАКР_ЗАТВОР_ВАК В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ЗАКР_ЗАТВОР_ВАК;
		СТОП ПРОЦ КонтрольСпонтанногоОткрытияЗатвораВакуумного;
		У_ЗАТВОР_ВАК = ОТКР;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ Контроль{ 
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ;} /* для отладки без достоверностей*/  
		ЕСЛИ ((К_ОТКР_ЗАТВОР_ВАК == ВКЛ) && (Д_ОТКР_ЗАТВОР_ВАК) &&
				(К_ЗАКР_ЗАТВОР_ВАК == ВЫК) && (Д_ЗАКР_ЗАТВОР_ВАК)) {
			СТАРТ ПРОЦ КонтрольСпонтанногоЗакрытияЗатвораВакуумного;		
			СТОП;
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ЗАТ_ВАК В СОСТ Ошибка;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ЗАТВОР_ВАК = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ОТКРЫТИЯ_ЗАТВОРА_ВАКУУМНОГО))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	}
}   /*конец процесса ОТКР_ЗАТВОР_ВАК */
/*===========================================================*/
/*=====   Процесс закрытия затвора вакуумного         =======*/
/*===========================================================*/
ПРОЦ ЗАКР_ЗАТВОР_ВАК{
 ИЗ ПРОЦ Инициализация 	К_ОТКР_ЗАТВОР_ВАК,
						К_ЗАКР_ЗАТВОР_ВАК,
						У_ЗАТВОР_ВАК,
						Д_ОТКР_ЗАТВОР_ВАК,
						Д_ЗАКР_ЗАТВОР_ВАК,
						К_Достоверности;
  ЛОГ У_Откат ЛОКАЛ;
	СОСТ Начало{
		У_Откат = У_ЗАТВОР_ВАК;
		ЕСЛИ (ПРОЦ ОТКР_ЗАТВОР_ВАК В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ОТКР_ЗАТВОР_ВАК;
		СТОП ПРОЦ КонтрольСпонтанногоЗакрытияЗатвораВакуумного;
		У_ЗАТВОР_ВАК = ЗАКР;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ Контроль{ 
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ;} /* для отладки без достоверностей*/  
		ЕСЛИ ((К_ОТКР_ЗАТВОР_ВАК == ВЫК) && (Д_ОТКР_ЗАТВОР_ВАК) &&
				(К_ЗАКР_ЗАТВОР_ВАК == ВКЛ) && (Д_ЗАКР_ЗАТВОР_ВАК) ) {
			СТАРТ ПРОЦ КонтрольСпонтанногоОткрытияЗатвораВакуумного;	
			СТОП;
		} 
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ЗАТ_ВАК В СОСТ Ошибка;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ЗАТВОР_ВАК = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ЗАКРЫТИЯ_ЗАТВОРА_ВАКУУМНОГО))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
} /*конец процесса ЗАКР_ЗАТВОР_ВАК */


/*========================================================*/
/*=====  Процесс контроля включенности затвора вак.  =====*/
/*========================================================*/
/*  затвор был открыт, но вдруг закрылся */
ПРОЦ КонтрольСпонтанногоЗакрытияЗатвораВакуумного{
	ИЗ ПРОЦ Инициализация 	К_ОТКР_ЗАТВОР_ВАК,
							К_ЗАКР_ЗАТВОР_ВАК,
							Д_ОТКР_ЗАТВОР_ВАК,
							Д_ЗАКР_ЗАТВОР_ВАК,
							У_ЗАТВОР_ВАК,
							К_Достоверности;

	СОСТ КонтрольЗакрытия {
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ;} /* для отладки без достоверностей*/  
		ЕСЛИ ((К_ОТКР_ЗАТВОР_ВАК == ВЫК) && (Д_ОТКР_ЗАТВОР_ВАК) &&
				(К_ЗАКР_ЗАТВОР_ВАК == ВКЛ) && (Д_ЗАКР_ЗАТВОР_ВАК) )

		{
			СТАРТ ПРОЦ КонтрольСпонтанногоОткрытияЗатвораВакуумного;
			У_ЗАТВОР_ВАК = ЗАКР;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ЗАКРЫТИЕ_ЗАТ_ВАКУУМНОГО)) {
			ОШИБКА; }
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}	
/*=========================================================*/
/*=====   Процесс контроля выключенности затвора вак  =====*/
/*=========================================================*/
/*  затвор был закрыт, но вдруг открылся */
ПРОЦ КонтрольСпонтанногоОткрытияЗатвораВакуумного{
	ИЗ ПРОЦ Инициализация 	К_ОТКР_ЗАТВОР_ВАК,
							К_ЗАКР_ЗАТВОР_ВАК,
							Д_ОТКР_ЗАТВОР_ВАК,
							Д_ЗАКР_ЗАТВОР_ВАК,
							У_ЗАТВОР_ВАК,
							К_Достоверности;
	
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) {Д_ОТКР_ЗАТВОР_ВАК = ВКЛ; Д_ЗАКР_ЗАТВОР_ВАК = ВКЛ;} /* для отладки без достоверностей*/  
		ЕСЛИ ((К_ОТКР_ЗАТВОР_ВАК == ВКЛ) && (Д_ОТКР_ЗАТВОР_ВАК) &&
				(К_ЗАКР_ЗАТВОР_ВАК == ВЫК) && (Д_ЗАКР_ЗАТВОР_ВАК) )
			{
				СТАРТ ПРОЦ КонтрольСпонтанногоЗакрытияЗатвораВакуумного;
				У_ЗАТВОР_ВАК = ОТКР;
				В СОСТ Ошибка;
			}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ОТКРЫТИЕ_ЗАТ_ВАКУУМНОГО))  ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
    /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/		
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}			  
/*===========================================================*/
/*=====   Процесс открытия сапуна                    =======*/
/*===========================================================*/
ПРОЦ ОТКР_САПУН{
 ИЗ ПРОЦ Инициализация 	К_САПУН, 
						У_САПУН,
						Д_САПУН,
						К_Достоверности;
  ЛОГ У_Откат ЛОКАЛ;						
	СОСТ Начало{
		У_Откат = У_САПУН;
		ЕСЛИ (ПРОЦ ЗАКР_САПУН В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ЗАКР_САПУН;
		СТОП ПРОЦ КонтрольСпонтанногоОткрытияСапуна;	
		У_САПУН = ОТКР;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ КонтрольОткрытия{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_САПУН = ВКЛ;  /* для отладки без достоверностей*/  
		ЕСЛИ ((К_САПУН == ОТКР) && (Д_САПУН)){
			СТАРТ ПРОЦ КонтрольСпонтанногоЗакрытияСапуна;	
			СТОП;	
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_САПУНА В СОСТ Ошибка;  /* здесь надо выдавать код ошибки в ГУИ */
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_САПУН = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ОТКРЫТИЯ_САПУНА))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
  СОСТ НарушениеСвязи {
	   ОШИБКА;
 }
}  /*конец процесса ОТКР_САПУН  */


/*===========================================================*/
/*==!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ==========================*/
/*=====   Процесс закрытия сапуна                    =======*/
/*===========================================================*/
ПРОЦ ЗАКР_САПУН{
 ИЗ ПРОЦ Инициализация 	К_САПУН,
                      	У_САПУН,
						Д_САПУН,
						К_Достоверности;
  ЛОГ У_Откат ЛОКАЛ;

	СОСТ Начало{
	У_Откат = У_САПУН;
	ЕСЛИ (ПРОЦ ОТКР_САПУН В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ОТКР_САПУН;
		СТОП ПРОЦ КонтрольСпонтанногоЗакрытияСапуна;   
		У_САПУН = ЗАКР;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ КонтрольЗакрытия{ 
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_САПУН = ВКЛ;  /* для отладки без достоверностей*/  
		ЕСЛИ ((К_САПУН == ЗАКР) && (Д_САПУН)){
			СТАРТ ПРОЦ КонтрольСпонтанногоОткрытияСапуна;	
			СТОП;	
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_САПУНА 	В СОСТ Ошибка;
  
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_САПУН = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ЗАКРЫТИЯ_САПУНА))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
} /*конец процесса ЗАКР_САПУН  */


/*================================================================*/
/*         Процесс КонтрольСостоянияПитанияСапуна    13 декабря   */
/*================================================================*/
ПРОЦ КонтрольСостоянияПитанияСапуна{
	ИЗ ПРОЦ Инициализация 	К_САПУН,
							Д_САПУН,
							СостояниеСапуна,
							К_Достоверности;
	СОСТ Начало {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_САПУН = ВКЛ;  /* для отладки без достоверностей*/
	    ЕСЛИ (Д_САПУН){
			ЕСЛИ (К_САПУН){
				СостояниеСапуна = ОТКР; В СОСТ ОткрытСообщаем;
			}
			ИНАЧЕ{
				СостояниеСапуна = ЗАКР; 	В СОСТ ЗакрытСообщаем;
			}		
		}
/*	ТАЙМАУТ МАКСИМАЛЬНАЯ_ДЛИТЕЛЬНОСТЬ_ОТСУТСТВИЯ_ДОСТОВЕРНОСТИ В СЛЕДУЮЩЕЕ;??????	*/
	}							
	СОСТ ОткрытСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_САПУН_ОТКРЫТ))  В  СОСТ СменаСостоянияОткрыт;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
    }							
    СОСТ ЗакрытСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_САПУН_ЗАКРЫТ))  В СОСТ СменаСостоянияЗакрыт;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
	}							
    СОСТ СменаСостоянияОткрыт{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_САПУН = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((!К_САПУН)&&(Д_САПУН))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияЗакрыт{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_САПУН = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_САПУН) && (Д_САПУН))  В СОСТ Начало;
	}  							
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НарушениеСвязи {
      В СОСТ Начало;
 }
}
/*========================================================*/
/*=====  Процесс контроля включенности сапуна        =====*/
/*========================================================*/
ПРОЦ КонтрольСпонтанногоЗакрытияСапуна{
	ИЗ ПРОЦ Инициализация 	К_САПУН,
							Д_САПУН,
							У_САПУН,
							К_Достоверности;

	СОСТ КонтрольЗакрытия {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_САПУН = ВКЛ;  /* для отладки без достоверностей*/  
		ЕСЛИ ((К_САПУН == ВЫК) && (Д_САПУН)) 
			{	
				СТАРТ ПРОЦ КонтрольСпонтанногоОткрытияСапуна;
				У_САПУН = ЗАКР;
				В СОСТ Ошибка;
			}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ЗАКРЫТИЕ_САПУНА)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}

	
/*=========================================================*/
/*=====   Процесс контроля выключенности сапуна       =====*/
/*=========================================================*/
ПРОЦ КонтрольСпонтанногоОткрытияСапуна{
	ИЗ ПРОЦ Инициализация 	К_САПУН,
							Д_САПУН,
							У_САПУН,
							К_Достоверности;
	
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_САПУН = ВКЛ;  /* для отладки без достоверностей*/ 
		ЕСЛИ ((К_САПУН == ВКЛ) && (Д_САПУН))
		{
			СТАРТ ПРОЦ КонтрольСпонтанногоЗакрытияСапуна;
			У_САПУН = ОТКР;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ОТКРЫТИЕ_САПУНА)) ОШИБКА;
				/*  если включился, то и ладно, вакуумирования-то нет !!!!!!!!!!!!!!!!!*/
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/		
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}


		  
/*================================================================*/
/*              Процесс включить питание вакуумного насоса        */
/*================================================================*/
ПРОЦ ВКЛ_ПИТ_УПП_ВАК_НАСОСА{  
 ИЗ ПРОЦ Инициализация 	К_ПИТ_УПП_ВАК_НАСОСА,  
						У_ПИТ_УПП_ВАК_НАСОСА,  
						Д_ПИТ_УПП_ВАК_НАСОСА,  
						К_Достоверности;
  ЛОГ У_Откат ЛОКАЛ;
  
	СОСТ Начало{
		У_Откат = У_ПИТ_УПП_ВАК_НАСОСА;
		ЕСЛИ (ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА;  
		СТОП ПРОЦ КонтрольСпонтанногоВключенияУППВакНасоса;
		У_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;   
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ КонтрольВключения{ 
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;  /* для отладки без достоверностей*/   
		ЕСЛИ ((К_ПИТ_УПП_ВАК_НАСОСА == ВКЛ) && (Д_ПИТ_УПП_ВАК_НАСОСА)){        
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияУППВакНасоса;
			СТОП;	
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ВАК_НАСОСА 	В СОСТ Ошибка;
 } 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_УПП_ВАК_НАСОСА = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_ПИТАНИЯ_УПП_ВАКУУМНОГО_НАСОСА))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	} 
} /*конец процесса ВКЛ_ПИТ_УПП_ВАК_НАСОСА  */   

/*================================================================*/
/*              Процесс выключить питание вакуумного насоса       */
/*================================================================*/
ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА{  
 ИЗ ПРОЦ Инициализация 	К_ПИТ_УПП_ВАК_НАСОСА,  
						У_ПИТ_УПП_ВАК_НАСОСА,  
						Д_ПИТ_УПП_ВАК_НАСОСА,  
						К_Достоверности;
  ЛОГ У_Откат ЛОКАЛ;
  
	СОСТ Начало{
		У_Откат = У_ПИТ_УПП_ВАК_НАСОСА;
		ЕСЛИ (ПРОЦ ВКЛ_ПИТ_УПП_ВАК_НАСОСА В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_ПИТ_УПП_ВАК_НАСОСА; 
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияУППВакНасоса;
		У_ПИТ_УПП_ВАК_НАСОСА = ВЫК;   
		В СЛЕДУЮЩЕЕ;      
	}

	СОСТ КонтрольВыключения{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;  /* для отладки без достоверностей*/ 
		ЕСЛИ ((К_ПИТ_УПП_ВАК_НАСОСА == ВЫК) && (Д_ПИТ_УПП_ВАК_НАСОСА)) {  
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияУППВакНасоса;
			СТОП;	
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_ВАК_НАСОСА 	В СОСТ Ошибка;
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_УПП_ВАК_НАСОСА = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_ПИТАНИЯ_УПП_ВАКУУМНОГО_НАСОСА))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	}
}  /*конец процесса ВЫК_ПИТ_УПП_ВАК_НАСОСА */  

/*================================================================*/
/*         Процесс КонтрольСостоянияПитанияУППВакНасоса    13 декабря   */
/*================================================================*/
ПРОЦ КонтрольСостоянияПитанияУППВакНасоса{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_УПП_ВАК_НАСОСА,  
							Д_ПИТ_УПП_ВАК_НАСОСА,  
							СостояниеУППВакуумногоНасоса,
							К_Достоверности;
	СОСТ Начало {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;  /* для отладки без достоверностей*/
	    ЕСЛИ (Д_ПИТ_УПП_ВАК_НАСОСА){
			ЕСЛИ (К_ПИТ_УПП_ВАК_НАСОСА){
				СостояниеУППВакуумногоНасоса = ВКЛ; В СОСТ ВключенСообщаем;
			}
			ИНАЧЕ{
				СостояниеУППВакуумногоНасоса = ВЫК; 	В СОСТ ВыключенСообщаем;
			}		
		}
	}								
	СОСТ ВключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ПИТАНИЕ_УПП_ВАКУУМНОГО_НАСОСА_ВКЛЮЧЕНО))  В  СОСТ СменаСостоянияВКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
    }							
    СОСТ ВыключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ПИТАНИЕ_УПП_ВАКУУМНОГО_НАСОСА_ВЫКЛЮЧЕНО))  В СОСТ СменаСостоянияВЫК;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
	}	
   СОСТ СменаСостоянияВКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((!К_ПИТ_УПП_ВАК_НАСОСА)&&(Д_ПИТ_УПП_ВАК_НАСОСА))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияВЫК{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_УПП_ВАК_НАСОСА) && (Д_ПИТ_УПП_ВАК_НАСОСА))  В СОСТ Начало;
	}  

/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
      В СОСТ Начало;
	}
}
/*========================================================*/
/*=====   Процесс контроля спонтанного выключения  =====*/
/*========================================================*/
ПРОЦ КонтрольСпонтанногоВыключенияУППВакНасоса{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_УПП_ВАК_НАСОСА,  
							Д_ПИТ_УПП_ВАК_НАСОСА,
							У_ПИТ_УПП_ВАК_НАСОСА,
							К_Достоверности;

	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;  /* для отладки без достоверностей*/	
		ЕСЛИ ((К_ПИТ_УПП_ВАК_НАСОСА == ВЫК) && (Д_ПИТ_УПП_ВАК_НАСОСА))
			{ 
				СТАРТ ПРОЦ КонтрольСпонтанногоВключенияУППВакНасоса;
				У_ПИТ_УПП_ВАК_НАСОСА = ВЫК;
				В СОСТ Ошибка;
			}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_УПП_ВАКУУМНОГО_НАСОСА)) ОШИБКА;  
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}
/*=========================================================*/
/*=====   Процесс контроля спонтанного включения  =====*/
/*=========================================================*/
ПРОЦ КонтрольСпонтанногоВключенияУППВакНасоса{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_УПП_ВАК_НАСОСА,  
							Д_ПИТ_УПП_ВАК_НАСОСА,
							У_ПИТ_УПП_ВАК_НАСОСА,
							К_Достоверности;
	
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_УПП_ВАК_НАСОСА == ВКЛ) && (Д_ПИТ_УПП_ВАК_НАСОСА))
			{	
				СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияУППВакНасоса;
				У_ПИТ_УПП_ВАК_НАСОСА = ВКЛ;
				В СОСТ Ошибка;
			}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_УПП_ВАКУУМНОГО_НАСОСА)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
    /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/		
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}			  
/*================================================================*/
/*              Процесс Подать питание на регулятор температуры   */
/*================================================================*/
ПРОЦ ВКЛ_ПИТ_РЕГ_Т{
 ИЗ ПРОЦ Инициализация 	У_ПИТ_РЕГ_Т,					
						К_ПИТ_РЕГ_Т,
						Д_ПИТ_РЕГ_Т,
						ФлагГотовУрВодыБО,
						К_Достоверности;
  ЛОГ У_Откат ЛОКАЛ;
  
	СОСТ Начало{
	/*	ЕСЛИ (ФлагГотовУрВодыБО == ВНЕ_НОРМЫ) В СОСТ Ошибка; ????восстановить?????????*/
	/*	ИНАЧЕ { */
		У_Откат = У_ПИТ_РЕГ_Т;
		ЕСЛИ (ПРОЦ ВЫК_ПИТ_РЕГ_Т В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_ПИТ_РЕГ_Т;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияРЕГ_Т;
		У_ПИТ_РЕГ_Т = ВКЛ;
		В СЛЕДУЮЩЕЕ;      
	/*	}	*/
	}
	СОСТ КонтрольВключения{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_Т = ВКЛ;  /* для отладки без достоверностей*/ 
		ЕСЛИ ((К_ПИТ_РЕГ_Т == ВКЛ) && (Д_ПИТ_РЕГ_Т)) {
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_Т;
		СТОП;	
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_РЕГ_Т В СОСТ Ошибка;
 } 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_РЕГ_Т = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи{
	   ОШИБКА;
	} 
} /*конец процесса ВКЛ_ПИТ_РЕГ_Т */

/*================================================================*/
/*        Процесс Снять питание с регулятора температуры          */
/*================================================================*/
ПРОЦ ВЫК_ПИТ_РЕГ_Т{
 ИЗ ПРОЦ Инициализация 	У_ПИТ_РЕГ_Т,
						К_ПИТ_РЕГ_Т,
						Д_ПИТ_РЕГ_Т,
						К_Достоверности;
   ЛОГ У_Откат ЛОКАЛ;
   
	СОСТ Начало{
		У_Откат = У_ПИТ_РЕГ_Т;
		ЕСЛИ (ПРОЦ ВКЛ_ПИТ_РЕГ_Т В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_ПИТ_РЕГ_Т;
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_Т;
		У_ПИТ_РЕГ_Т  = ВЫК;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ КонтрольВыключения{ 
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_Т = ВКЛ;  /* для отладки без достоверностей*/  
		ЕСЛИ ((К_ПИТ_РЕГ_Т == ВЫК) && (Д_ПИТ_РЕГ_Т)) {	
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияРЕГ_Т;  
			СТОП;	
		} 
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_РЕГ_Т В СОСТ Ошибка;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_РЕГ_Т = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	} 
}  /*конец процесса ВЫК_ПИТ_РЕГ_Т */

/*================================================================*/
/*         Процесс КонтрольСостоянияРегулятораТемпературы       */
/*================================================================*/
ПРОЦ КонтрольСостоянияПитанияРЕГ_Т{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_РЕГ_Т,
							Д_ПИТ_РЕГ_Т,
							СостояниеПИТ_РЕГ_Т,
							К_Достоверности;
	СОСТ Начало {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_Т = ВКЛ;  /* для отладки без достоверностей*/
	    ЕСЛИ (Д_ПИТ_РЕГ_Т){
			ЕСЛИ (К_ПИТ_РЕГ_Т){
				СостояниеПИТ_РЕГ_Т = ВКЛ;  В СОСТ ВключенСообщаем;
			}
			ИНАЧЕ{
				СостояниеПИТ_РЕГ_Т = ВЫК;  	В СОСТ ВыключенСообщаем;
			}		
		}
	}							
	СОСТ ВключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ПИТАНИЕ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ_ВКЛЮЧЕНО))  В  СОСТ СменаСостоянияВКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
    }							
    СОСТ ВыключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ПИТАНИЕ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ_ВЫКЛЮЧЕНО))  В СОСТ СменаСостоянияВЫК;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
	}								
   СОСТ СменаСостоянияВКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_Т = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((!К_ПИТ_РЕГ_Т)&&(Д_ПИТ_РЕГ_Т))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияВЫК{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_Т = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_РЕГ_Т) && (Д_ПИТ_РЕГ_Т))  В СОСТ Начало;
	} 							
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
      В СОСТ Начало;
	}
}
/*========================================================*/
/*=====   Процесс контроля спонтанного выключения  =====*/
/*========================================================*/
ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_Т{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_РЕГ_Т,
							Д_ПИТ_РЕГ_Т,
							У_ПИТ_РЕГ_Т,
							К_Достоверности;

	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_Т = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_РЕГ_Т == ВЫК) && (Д_ПИТ_РЕГ_Т)) 
		{
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияРЕГ_Т;
			У_ПИТ_РЕГ_Т = ВЫК;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	
    /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}	
/*=========================================================*/
/*=====   Процесс контроля спонтанного включения  =====*/
/*=========================================================*/
ПРОЦ КонтрольСпонтанногоВключенияРЕГ_Т{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_РЕГ_Т,
							Д_ПИТ_РЕГ_Т, 
							У_ПИТ_РЕГ_Т,
							К_Достоверности;
	
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_Т = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_РЕГ_Т == ВКЛ) && (Д_ПИТ_РЕГ_Т)) 
		{
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_Т;
			У_ПИТ_РЕГ_Т = ВКЛ;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_РЕГУЛЯТОРА_ТЕМПЕРАТУРЫ)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/		
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}			  
/*================================================================*/
/*        Процесс Подать питание на регулятор уровня воды         */
/*================================================================*/
ПРОЦ ВКЛ_ПИТ_РЕГ_УР{
 ИЗ ПРОЦ Инициализация 	У_ПИТ_РЕГ_УР,
						К_ПИТ_РЕГ_УР,
						Д_ПИТ_РЕГ_УР,
						К_Достоверности;
   ЛОГ У_Откат ЛОКАЛ;
   
	СОСТ Начало{
		У_Откат = У_ПИТ_РЕГ_УР;
		ЕСЛИ (ПРОЦ ВЫК_ПИТ_РЕГ_УР В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_ПИТ_РЕГ_УР;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияРЕГ_УР;
		У_ПИТ_РЕГ_УР = ВКЛ;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ Контроль{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_УР = ВКЛ;  /* для отладки без достоверностей*/ 
		ЕСЛИ ((К_ПИТ_РЕГ_УР == ВКЛ) && (Д_ПИТ_РЕГ_УР)){
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_УР;
		СТОП;	
		} 
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_РЕГ_УР В СОСТ Ошибка; 
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_РЕГ_УР = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_РЕГУЛЯТОРА_УРОВНЯ))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	} 
}  /*конец процесса ВКЛ_ПИТ_РЕГ_УР */

/*================================================================*/
/*        Процесс Снять питание с регулятора уровня воды          */
/*================================================================*/
ПРОЦ ВЫК_ПИТ_РЕГ_УР{
 ИЗ ПРОЦ Инициализация 	У_ПИТ_РЕГ_УР,
						К_ПИТ_РЕГ_УР,
						Д_ПИТ_РЕГ_УР,
						К_Достоверности;
   ЛОГ У_Откат ЛОКАЛ;
   
	СОСТ Начало{
		У_Откат = У_ПИТ_РЕГ_УР;
		ЕСЛИ (ПРОЦ ВКЛ_ПИТ_РЕГ_УР В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_ПИТ_РЕГ_УР;
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_УР;
		У_ПИТ_РЕГ_УР = ВЫК;
		В СЛЕДУЮЩЕЕ;      
	}

	СОСТ Контроль{ 
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_УР = ВКЛ;  /* для отладки без достоверностей*/  
		ЕСЛИ ((К_ПИТ_РЕГ_УР == ВЫК) && (Д_ПИТ_РЕГ_УР)){
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияРЕГ_УР;
			СТОП;	
		} 
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_РЕГ_УР 	В СОСТ Ошибка; 
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_РЕГ_УР = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_РЕГУЛЯТОРА_УРОВНЯ))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	} 
}  /*конец процесса ВЫК_ПИТ_РЕГ_УР */

/*================================================================*/
/*         Процесс КонтрольСостоянияРегулятораУровня    13 декабря   */
/*================================================================*/
ПРОЦ КонтрольСостоянияПитанияРЕГ_УР{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_РЕГ_УР,
							Д_ПИТ_РЕГ_УР,
							СостояниеПИТ_РЕГ_УР,
							К_Достоверности;
	СОСТ Начало {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_УР = ВКЛ;  /* для отладки без достоверностей*/
	    ЕСЛИ (Д_ПИТ_РЕГ_УР){
			ЕСЛИ (К_ПИТ_РЕГ_УР){
				СостояниеПИТ_РЕГ_УР = ВКЛ;  В СОСТ ВключенСообщаем;
			}
			ИНАЧЕ{
				СостояниеПИТ_РЕГ_УР = ВЫК;  	В СОСТ ВыключенСообщаем;
			}		
		}
	}							
	СОСТ ВключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ПИТАНИЕ_РЕГУЛЯТОРА_УРОВНЯ_ВКЛЮЧЕНО))  В  СОСТ СменаСостоянияВКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
    }							
    СОСТ ВыключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ПИТАНИЕ_РЕГУЛЯТОРА_УРОВНЯ_ВЫКЛЮЧЕНО))  В СОСТ СменаСостоянияВЫК;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
	}
   СОСТ СменаСостоянияВКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_УР = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((!К_ПИТ_РЕГ_УР)&&(Д_ПИТ_РЕГ_УР))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияВЫК{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_УР = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_РЕГ_УР) && (Д_ПИТ_РЕГ_УР))  В СОСТ Начало;
	} 	
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
      В СОСТ Начало;
	}
}	
/*========================================================*/
/*=====   Процесс контроля спонтанного выключения  =====*/
/*========================================================*/
ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_УР{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_РЕГ_УР,
							Д_ПИТ_РЕГ_УР,
							У_ПИТ_РЕГ_УР,
							К_Достоверности;

	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_УР = ВКЛ;  /* для отладки без достоверностей*/	
		ЕСЛИ ((К_ПИТ_РЕГ_УР == ВЫК) && (Д_ПИТ_РЕГ_УР))
		{
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияРЕГ_УР;
			У_ПИТ_РЕГ_УР = ВЫК;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_РЕГУЛЯТОРА_УРОВНЯ)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}	
/*=========================================================*/
/*=====   Процесс контроля спонтанного включения  =====*/
/*=========================================================*/
ПРОЦ КонтрольСпонтанногоВключенияРЕГ_УР{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_РЕГ_УР,
							Д_ПИТ_РЕГ_УР,
							У_ПИТ_РЕГ_УР,
							К_Достоверности;
	
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_РЕГ_УР = ВКЛ;  /* для отладки без достоверностей*/	
		ЕСЛИ ((К_ПИТ_РЕГ_УР == ВКЛ) && (Д_ПИТ_РЕГ_УР))
		{
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияРЕГ_УР;
			У_ПИТ_РЕГ_УР = ВКЛ;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_РЕГУЛЯТОРА_УРОВНЯ)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/		
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}	
/*================================================================*/
/*              Процесс Подать питание на насос охлаждения        */
/*================================================================*/
ПРОЦ ВКЛ_ПИТ_НАС_ОХЛ{
 ИЗ ПРОЦ Инициализация 	У_ПИТ_НАС_ОХЛ,
						К_ПИТ_НАСОС_ОХЛ,
						ФлагГотовУрВодыБО,
						ФлагГотовТемпВодыБО,
						Д_ПИТ_НАСОС_ОХЛ,
						К_Достоверности
						;
   ЛОГ У_Откат ЛОКАЛ;
   

	СОСТ Начало{
		У_Откат = У_ПИТ_НАС_ОХЛ;
		ЕСЛИ (ПРОЦ ВЫК_ПИТ_НАС_ОХЛ В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_ПИТ_НАС_ОХЛ;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияНасосаОхлаждения;   
		У_ПИТ_НАС_ОХЛ = ВКЛ;
		В СЛЕДУЮЩЕЕ;      
	 }
	СОСТ Контроль{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_НАСОС_ОХЛ = ВКЛ;  /* для отладки без достоверностей*/	 
		ЕСЛИ ((К_ПИТ_НАСОС_ОХЛ == ВКЛ) && (Д_ПИТ_НАСОС_ОХЛ)) {
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияНасосаОхлаждения;
			СТОП;	
		} 
	ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_НАСОС_ОХЛ В СОСТ Ошибка;
	}    
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_НАС_ОХЛ = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_НАСОСА_ОХЛАЖДЕНИЯ))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
		ОШИБКА;
	 } 
} /*конец процесса ВКЛ_ПИТ_НАС_ОХЛАЖДЕНИЯ */
/*================================================================*/
/*             Процесс Снять питание с насоса охлаждения          */
/*================================================================*/
ПРОЦ ВЫК_ПИТ_НАС_ОХЛ{
 ИЗ ПРОЦ Инициализация 	У_ПИТ_НАС_ОХЛ,
						К_ПИТ_НАСОС_ОХЛ,
						Д_ПИТ_НАСОС_ОХЛ,
						К_Достоверности
						;
   ЛОГ У_Откат ЛОКАЛ;
   
	СОСТ Начало{
		У_Откат = У_ПИТ_НАС_ОХЛ;	
		ЕСЛИ (ПРОЦ ВКЛ_ПИТ_НАС_ОХЛ В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_ПИТ_НАС_ОХЛ;
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияНасосаОхлаждения;
		У_ПИТ_НАС_ОХЛ = ВЫК;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ Контроль{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_НАСОС_ОХЛ = ВКЛ;  /* для отладки без достоверностей*/ 
		ЕСЛИ ((К_ПИТ_НАСОС_ОХЛ == ВЫК) && (Д_ПИТ_НАСОС_ОХЛ)) {
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияНасосаОхлаждения;
			СТОП;	
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_НАСОС_ОХЛ В СОСТ Ошибка; 
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_ПИТ_НАС_ОХЛ = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_НАСОСА_ОХЛАЖДЕНИЯ))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
	   ОШИБКА;
	} 
} /*конец процесса ВЫК_ПИТ_НАС_ОХЛАЖДЕНИЯ */
/*================================================================*/
/*         Процесс КонтрольСостоянияНасосаОхлаждения     13 декабря  */
/*================================================================*/
ПРОЦ КонтрольСостоянияПитанияНАС_ОХЛ{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_НАСОС_ОХЛ,
							Д_ПИТ_НАСОС_ОХЛ,
							СостояниеПИТ_НАСОС_ОХЛ,
							К_Достоверности;
	СОСТ Начало {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_НАСОС_ОХЛ = ВКЛ;  /* для отладки без достоверностей*/
	    ЕСЛИ (Д_ПИТ_НАСОС_ОХЛ){
			ЕСЛИ (К_ПИТ_НАСОС_ОХЛ){
				СостояниеПИТ_НАСОС_ОХЛ = ВКЛ;  В СОСТ ВключенСообщаем;
			}
			ИНАЧЕ{
				СостояниеПИТ_НАСОС_ОХЛ = ВЫК;  В СОСТ ВыключенСообщаем;
			}		
		}
	}							
	СОСТ ВключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ПИТАНИЕ_НАСОСА_ОХЛАЖДЕНИЯ_ВКЛЮЧЕНО))  В  СОСТ СменаСостоянияВКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
    }							
    СОСТ ВыключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ПИТАНИЕ_НАСОСА_ОХЛАЖДЕНИЯ_ВЫКЛЮЧЕНО))  В СОСТ СменаСостоянияВЫК;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
	}							
   СОСТ СменаСостоянияВКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_НАСОС_ОХЛ = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((!К_ПИТ_НАСОС_ОХЛ)&&(Д_ПИТ_НАСОС_ОХЛ))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияВЫК{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_НАСОС_ОХЛ = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_НАСОС_ОХЛ) && (Д_ПИТ_НАСОС_ОХЛ))  В СОСТ Начало;
	} 	
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
      В СОСТ Начало;
	}
}
/*========================================================*/
/*=====   Процесс контроля спонтанного выключения  =====*/
/*========================================================*/
ПРОЦ КонтрольСпонтанногоВыключенияНасосаОхлаждения{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_НАСОС_ОХЛ,
							Д_ПИТ_НАСОС_ОХЛ,
							У_ПИТ_НАС_ОХЛ,
							К_Достоверности;

	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_НАСОС_ОХЛ = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_НАСОС_ОХЛ == ВЫК) && (Д_ПИТ_НАСОС_ОХЛ))
			{
				СТАРТ ПРОЦ КонтрольСпонтанногоВключенияНасосаОхлаждения;
				У_ПИТ_НАС_ОХЛ = ВЫК;
				В СОСТ Ошибка;
			}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_НАСОСА_ОХЛАЖДЕНИЯ)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}	
/*=========================================================*/
/*=====   Процесс контроля спонтанного включения  =====*/
/*=========================================================*/
ПРОЦ КонтрольСпонтанногоВключенияНасосаОхлаждения{
	ИЗ ПРОЦ Инициализация 	К_ПИТ_НАСОС_ОХЛ,
							Д_ПИТ_НАСОС_ОХЛ,
							У_ПИТ_НАС_ОХЛ,
							К_Достоверности;
	
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_ПИТ_НАСОС_ОХЛ = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_ПИТ_НАСОС_ОХЛ == ВКЛ) && (Д_ПИТ_НАСОС_ОХЛ)) 
		{ 
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияНасосаОхлаждения;
			У_ПИТ_НАС_ОХЛ = ВКЛ;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_НАСОСА_ОХЛАЖДЕНИЯ)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
    /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/		
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}	
/*=========================================================++++++++++++======*/
/*==   Процесс  ВКЛЮЧИТЬ Устройство плавного пуска (запуск вакуумирования)   */
/*== это означает что вакуумного насос начнет работать          			 */
/*==========================================================++++++++++++=====*/
ПРОЦ ВКЛ_УСТР_ПЛАВ_ПУСКА{
 ИЗ ПРОЦ Инициализация 	К_УСТР_ПЛАВ_ПУСКА,
						У_УСТР_ПЛАВ_ПУСКА,
						Д_УСТР_ПЛАВ_ПУСКА,
						К_Достоверности;
   ЛОГ У_Откат ЛОКАЛ;
   
	СОСТ Начало{
		У_Откат = У_УСТР_ПЛАВ_ПУСКА;
		ЕСЛИ (ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА;
		СТОП ПРОЦ КонтрольСпонтанногоВключенияПлавнПуска;
		У_УСТР_ПЛАВ_ПУСКА = ВКЛ;
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ Контроль{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_УСТР_ПЛАВ_ПУСКА = ВКЛ;  /* для отладки без достоверностей*/	
		ЕСЛИ ((К_УСТР_ПЛАВ_ПУСКА == ВКЛ) && (Д_УСТР_ПЛАВ_ПУСКА)) {
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияПлавнПуска;  
			СТОП;	
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_УСТР_ПЛАВ_ПУСКА  	В СОСТ Ошибка;
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_УСТР_ПЛАВ_ПУСКА = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_УСТР_ПЛАВ_ПУСКА))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
		ОШИБКА;
	} 
}  /*конец процесса ВКЛ_УСТР_ПЛАВ_ПУСКА  */
/*===============================================================*/
/*==   Процесс  ВЫКЛЮЧИТЬ Устройство плавного пуска                  */
/*===============================================================*/
ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА{
 ИЗ ПРОЦ Инициализация 	К_УСТР_ПЛАВ_ПУСКА,
						У_УСТР_ПЛАВ_ПУСКА,
						Д_УСТР_ПЛАВ_ПУСКА,
						К_Достоверности;
   ЛОГ У_Откат ЛОКАЛ;
						
	СОСТ Начало{
		У_Откат = У_УСТР_ПЛАВ_ПУСКА;	
		ЕСЛИ (ПРОЦ ВКЛ_УСТР_ПЛАВ_ПУСКА В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_УСТР_ПЛАВ_ПУСКА;
		СТОП ПРОЦ КонтрольСпонтанногоВыключенияПлавнПуска;	
		У_УСТР_ПЛАВ_ПУСКА = ВЫК;	
		В СЛЕДУЮЩЕЕ;      
	}
	СОСТ КонтрольВыключения{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_УСТР_ПЛАВ_ПУСКА = ВКЛ;  /* для отладки без достоверностей*/	
		ЕСЛИ ((К_УСТР_ПЛАВ_ПУСКА == ВЫК) && (Д_УСТР_ПЛАВ_ПУСКА)) {
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияПлавнПуска;
			СТОП;	
		}
		ТАЙМАУТ ТАЙМАУТ_НА_СРАБАТЫВАНИЕ_УСТР_ПЛАВ_ПУСКА 	В СОСТ Ошибка;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ Ошибка {
		У_УСТР_ПЛАВ_ПУСКА = У_Откат;
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_УСТР_ПЛАВ_ПУСКА))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ НарушениеСвязи {
		ОШИБКА;
	} 
} /*конец процесса ВЫК_УСТР_ПЛАВ_ПУСКА  */
/*================================================================*/
/*         Процесс КонтрольСостоянияУстройстваПлавногоПуска   13 декабря   */
/*================================================================*/
ПРОЦ КонтрольСостоянияПитанияПЛАВ_ПУСКА{
	ИЗ ПРОЦ Инициализация 	К_УСТР_ПЛАВ_ПУСКА,
							Д_УСТР_ПЛАВ_ПУСКА,
							СостояниеУСТР_ПЛАВ_ПУСКА,
							К_Достоверности;

	СОСТ Начало {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_УСТР_ПЛАВ_ПУСКА = ВКЛ;  /* для отладки без достоверностей*/
	    ЕСЛИ (Д_УСТР_ПЛАВ_ПУСКА){
			ЕСЛИ (К_УСТР_ПЛАВ_ПУСКА){
				СостояниеУСТР_ПЛАВ_ПУСКА = ВКЛ;  В СОСТ ВключенСообщаем;
			}
			ИНАЧЕ{
				СостояниеУСТР_ПЛАВ_ПУСКА = ВЫК;  В СОСТ ВыключенСообщаем;
			}		
		}
	}
	СОСТ ВключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_УСТРОЙСТВО_ПЛАВНОГО_ПУСКА_ВКЛЮЧЕНО))  В  СОСТ СменаСостоянияВКЛ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
    }							
    СОСТ ВыключенСообщаем{ 
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_УСТРОЙСТВО_ПЛАВНОГО_ПУСКА_ВЫКЛЮЧЕНО))  В СОСТ СменаСостоянияВЫК;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;   
	}
   СОСТ СменаСостоянияВКЛ{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_УСТР_ПЛАВ_ПУСКА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((!К_УСТР_ПЛАВ_ПУСКА)&&(Д_УСТР_ПЛАВ_ПУСКА))  В СОСТ Начало;
	}
	СОСТ СменаСостоянияВЫК{
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_УСТР_ПЛАВ_ПУСКА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_УСТР_ПЛАВ_ПУСКА) && (Д_УСТР_ПЛАВ_ПУСКА))  В СОСТ Начало;
	} 
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ НарушениеСвязи {
      В СОСТ Начало;
	}
}

/*========================================================*/
/*=====   Процесс контроля спонтанного выключения  =====*/
/*========================================================*/
ПРОЦ КонтрольСпонтанногоВыключенияПлавнПуска{
	ИЗ ПРОЦ Инициализация 	К_УСТР_ПЛАВ_ПУСКА,
							Д_УСТР_ПЛАВ_ПУСКА,
							У_УСТР_ПЛАВ_ПУСКА,
							К_Достоверности;

	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_УСТР_ПЛАВ_ПУСКА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_УСТР_ПЛАВ_ПУСКА == ВЫК) && (Д_УСТР_ПЛАВ_ПУСКА)) 
		{	
			СТАРТ ПРОЦ КонтрольСпонтанногоВключенияПлавнПуска;
			У_УСТР_ПЛАВ_ПУСКА = ВЫК;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВЫКЛЮЧЕНИЕ_УСТРОЙСТВА_ПЛАВНОГО_ПУСКА)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
/*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/	
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}	
/*=========================================================*/
/*=====   Процесс контроля спонтанного включения  =====*/
/*=========================================================*/
ПРОЦ КонтрольСпонтанногоВключенияПлавнПуска{
	ИЗ ПРОЦ Инициализация 	К_УСТР_ПЛАВ_ПУСКА,
							Д_УСТР_ПЛАВ_ПУСКА,
							У_УСТР_ПЛАВ_ПУСКА,
							К_Достоверности;
	
	СОСТ Контроль {
		ЕСЛИ (К_Достоверности == Не_проверяются) Д_УСТР_ПЛАВ_ПУСКА = ВКЛ;  /* для отладки без достоверностей*/
		ЕСЛИ ((К_УСТР_ПЛАВ_ПУСКА == ВКЛ) && (Д_УСТР_ПЛАВ_ПУСКА)) {
			СТАРТ ПРОЦ КонтрольСпонтанногоВыключенияПлавнПуска;
			У_УСТР_ПЛАВ_ПУСКА = ВКЛ;
			В СОСТ Ошибка;
		}
	}
	СОСТ Ошибка {
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СПОНТАННОЕ_ВКЛЮЧЕНИЕ_УСТРОЙСТВА_ПЛАВНОГО_ПУСКА)) ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
    /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/		
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}
}	
/*====================================================================*/
/*              Процесс ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ 				      */
/* Процесс смотрит готовность вакуума, если в норме, то приостанавливается на одну минуту. */
/* иначе запускает процесс ВКЛ_ВАКУУМНЫЙ_НАСОС, и контролирует   */
/* глубину откачки вак-ной трубы , как только вакуумирование          */
/*  достигнет нормы ( нужный вакуум есть) процесс                     */
/*  через одну минуту снова проверяет давление в вакуумной трубе. Насос вакуумный выключается             */
/*  Если вакуумирование  не пошло или                                 */
/*  откачка не на уровне, данный процесс завершается с ошибкой  и     */
/* насос вакуумный выключается.                                       */
/*====================================================================*/
ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ{
 ИЗ ПРОЦ Инициализация 	ФлагГотовВакуумаВТ,
						ФлагОткачкиТрубыСидеростата,
						ФлагДавленияКомпрессора,
						ФП_P_ВтрубеСидер,
						ФП_T_Врубашке,
						НП_ЗД_P_ВтрубеСидер,
						К_ОТКР_ЗАТВОР_ВАК , 
						К_ЗАКР_ЗАТВОР_ВАК ,
						К_ШКАФ_ВС_380 ,
						К_САПУН,
						К_УСТР_ПЛАВ_ПУСКА,
						К_ПИТ_УПП_ВАК_НАСОСА ,
						К_ПИТ_ВЕНТИЛЯТОРА,
						К_ПИТ_РЕГ_Т,
						К_ПИТ_РЕГ_УР,
						К_ПИТ_НАСОС_ОХЛ,
						НП_ЗД_Гист_P_ВтрубеСидерНиж,
						НП_ЗД_ПериодаКонтрP_ПриНатекании,
						НП_ЗД_ПериодаКонтрP_ПриОткачке;
			
 ПЛАВ ЛП_Предыдущее ЛОКАЛ;

 СОСТ Начало{
	ЕСЛИ (ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ  В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ;
	ЕСЛИ (ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС;
	В СЛЕДУЮЩЕЕ;
 }
 
 СОСТ ПроверкаНеобходимостиВакуумирования{
   ЕСЛИ (ФлагГотовВакуумаВТ == НОРМА) СТОП; /*22 сентября Лях*/ 
   /* В СОСТ ПаузаНаРазвакуумированиеТрубы; */
   ИНАЧЕ {  
	СТАРТ ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС;    /* в этом процессе */
	В СЛЕДУЮЩЕЕ;
	} 
 }
  СОСТ ПередачаСообщения { /* 14 декабря */
	ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ВАКУУМИРОВАНИЕ_ТРУБЫ_ВКЛЮЧЕНО)) В СЛЕДУЮЩЕЕ;
	ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
	СОСТ КонтрольВключенияВакПодсистемы{
		ЕСЛИ ( ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС В СОСТ ОШИБКА ) {
				В СОСТ СообщениеОбОтказеВакуумирования; /* !!!!!!!!!!!!????? включение вак. системы не сработало штатно*/ 
			}
			ИНАЧЕ
			{
				СТАРТ ПРОЦ КонтрольСостоянияОборудования;
				В СОСТ ЗапоминаемДавлениеВвакуумнойТрубе;
			}				
		} 
	} 
	СОСТ ЗапоминаемДавлениеВвакуумнойТрубе{
			ЛП_Предыдущее = ФП_P_ВтрубеСидер;
			В СЛЕДУЮЩЕЕ;
	}
	
	СОСТ КонтрольДавления{  
		ЕСЛИ (ФП_P_ВтрубеСидер < (НП_ЗД_P_ВтрубеСидер - НП_ЗД_Гист_P_ВтрубеСидерНиж) )  {  /*достигли нужного давления */
/*		ЕСЛИ (ФП_P_ВтрубеСидер < (НП_ЗД_P_ВтрубеСидер) ) { */ /*достигли нужного давления */
			СТОП ПРОЦ КонтрольСостоянияОборудования;
			СТАРТ ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС;   /*222222222*/ 
			В СЛЕДУЮЩЕЕ;
		}
		ИНАЧЕ В СОСТ ПаузаНаОткачкуВвакуумнойТрубе;
	}
	
	СОСТ КонтрольВыключенияВакПодсистемы{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ ОШИБКА ) {
				В СОСТ СообщениеПриНеудачномВыкВакНасоса; /* !!!!!!!!!!!! выключение вак. системы не сработало штатно*/ 
			}
			ИНАЧЕ В СЛЕДУЮЩЕЕ;
		} 
	} 	
	СОСТ СообщениеОКонцеВакуумирования{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ВАКУУМИРОВАНИЕ_УСПЕШНО_ЗАВЕРШЕНО)) СТОП; /*22 сентября Лях*/ 
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ ОШИБКА;
	}
	/* данное состояние определяет паузу, после которой надо проверить */
	/*необходимость вакуумирования */
/*	СОСТ ПаузаНаРазвакуумированиеТрубы{ */
 /*    ТАЙМАУТ НП_ЗД_ПериодаКонтрP_ПриНатекании В СОСТ ПроверкаНеобходимостиВакуумирования;*/   /*   НП надо сделать ??????? */
	/* ТАЙМАУТ ПЯТНАДЦАТЬ_МИНУТ В СОСТ ПроверкаНеобходимостиВакуумирования; */
	/*}*/
	/* а здесь задерживаемся типа на две минуты, а потом проверяем не достигли мы вакуума*/
	СОСТ ПаузаНаОткачкуВвакуумнойТрубе{  
/*		ТАЙМАУТ НП_ЗД_ПериодаКонтрP_ПриОткачке В СЛЕДУЮЩЕЕ;*/
	ТАЙМАУТ ПЯТЬ_МИНУТ В СЛЕДУЮЩЕЕ;
	}	
	СОСТ ПроверкаУменьшенияДавленияВпатрубке{  
		ЕСЛИ(ФП_P_ВтрубеСидер < ЛП_Предыдущее) В СОСТ ЗапоминаемДавлениеВвакуумнойТрубе;
        ИНАЧЕ В СОСТ ОткачкаОтсутствует;	
	} 
/*====== НЕНОРМАЛЬНЫЕ СИТУАЦИИ =========*/
 СОСТ ОткачкаОтсутствует {
       ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ДАВЛЕНИЕ_В_ВАК_ТРУБЕ_НЕ_УМЕНЬШАЕТСЯ))	В СЛЕДУЮЩЕЕ;
      ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 
 СОСТ СообщениеОбОтказеВакуумирования{
       ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВАКУУМИРОВАНИЯ))	В СЛЕДУЮЩЕЕ;
      ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи; 
 }
	/*		Сломалось что-то (при включении вак. насоса, например). Пробуем выключить вакуумный насос*/ 
	/*	 вакуумирование прекращается*/
	СОСТ ВыключенияВакНасоса{
		СТАРТ ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС;
		В СЛЕДУЮЩЕЕ;
	}	
	СОСТ КонтрольВыключенияВакНасоса{
		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ ОШИБКА ) {
				В СОСТ ВыключениеНаЩиткеКнопарями; /* !!!!!!!!!!!!????? включение вак. системы не сработало штатно*/ 
			}
			ИНАЧЕ СТОП;   /* выключилось без ошибок, бежать вниз не надо*/
		} 
	} 

	/* Отработка ситуации, когда при выключении вакуумного насоса при вакуумировании ошибка произошла*/
	СОСТ СообщениеПриНеудачномВыкВакНасоса{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВАКУУМИРОВАНИЯ))	В СЛЕДУЮЩЕЕ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи; 	
	}
	
  СОСТ ВыключениеНаЩиткеКнопарями{
    СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
    ОШИБКА;
 }
  СОСТ НарушениеСвязи {
	   ОШИБКА;
	}
 } /*конец процесса ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ */


/*====================================================================*/
/*              Процесс ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ 				      */
/*====================================================================*/
ПРОЦ ВЫК_ВАКУУМИРОВАНИЕ_ТРУБЫ{ /* ! 12 декабря */
 СОСТ Начало{
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ;  /*в ошибку уходим??? */
		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС В СОСТ АКТИВНОЕ)	ОШИБКА ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС;
		В СЛЕДУЮЩЕЕ;
	}
	
 СОСТ ПередачаОтладочногоСообщения { /* 23 сентября ЛЯХ */
	ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СТАРТ_ВЫКЛЮЧЕНИЯ_ВАКУУМИРОВАНИЯ_ТРУБЫ)) В СЛЕДУЮЩЕЕ;
	ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ АктивенЛиПроцВыключенияВакНасоса{
		ЕСЛИ (ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ ПАССИВНОЕ) {
			СТАРТ ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС;
			В СЛЕДУЮЩЕЕ;
		}
		ИНАЧЕ В СЛЕДУЮЩЕЕ;  /*работает процесс выключения*/
 }	
 СОСТ ПроверкаВыключенияВакНасоса{
 		ЕСЛИ ( ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ ОШИБКА ) {
					ЕСЛИ (!(ПРОЦ ОтлючитьВакуумированиеВручную В СОСТ АКТИВНОЕ))	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;
					ОШИБКА;  /* процесс будет все равно остановлен при откате*/
				}
				ИНАЧЕ  В СОСТ ПередачаСообщения;  /* это значит, что нет необходимости останова всех процессов*/
		}
	}  
 СОСТ ПередачаСообщения { /* 14 декабря */
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ВАКУУМИРОВАНИЕ_ТРУБЫ_ВЫКЛЮЧЕНО)) СТОП;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 	СОСТ НарушениеСвязи {			/* 14 декабря */
	   ОШИБКА;
	}
}
 
/*======================================================================*/
/*              Процесс Включить вакуумный насос                        */
/*   Этапы включения вакуумного насоса:                                 */ 
/*   1. Проверяем допустимое давление в компрессоре. Норма - идем дальше */  
/*   2. Проверяем температуру и уровень воды в баке охлаждения          */ 
/*      норма - идем дальше   											*/ 
/*   3. Включаем питание вентилятора                                    */ 
/*   4. Включаем питание насоса охлаждения                              */  
/*   5. Закрываем затвор вакуумный                                      */ 
/*   6. Открываем сапун                                                 */ 
/*   7. Контролируем температуру воды в рубашке, если норма             */
/*                                    - идем дальше                     */ 
/*   8. Включаем питание вакуумного насоса                              */ 
/*   9. Включаем устройство плавного пуска                              */ 
/*   10. Выдерживаем одну минуту и закрываем сапун                      */ 
/*   11. Если ФП_P_ВтрубеСидер >= ФП_P_Впатрубке - открываем затвор     */
/*       вакуумный. Пошло вакуумирование. Иначе - даем 2 минуты  		*/
/*		на откачку из патрубка, и      									*/  
/*       если откачки нет, то                                           */
/*       и уходим в ошибку .  											*/
/*======================================================================*/
ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС{
 ИЗ ПРОЦ Инициализация 	
						ФП_P_Впатрубке,		
						ФП_P_ВтрубеСидер,
						ФлагГотовTВодыРО,
						ФлагГотовТемпВодыБО,
						ФлагГотовУрВодыБО,
						ФП_P_ВбакеКомпрессора,
						ФП_T_Вбаке,
						ФлагДавленияКомпрессора;
					/* установить таймауты и кирдык где возможно зависание */
 ПЛАВ ЛП_Предыдущее ЛОКАЛ;
 
	СОСТ Начало{
	/* 12 декабря восстановлено !*/
		ЕСЛИ (ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС;  
		/* нельзя включать насос вакуумный, если давление в компрессоре < 2 атмосфер*/
		ЕСЛИ (ФлагДавленияКомпрессора != НОРМА) В СОСТ СообщениеОбОтказеВакуумирования;
		ИНАЧЕ В СЛЕДУЮЩЕЕ;
	}
	СОСТ ВключениеПитанияРегУровня{	  
		СТАРТ ПРОЦ ВКЛ_ПИТ_РЕГ_УР;
		В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВключенияПитРегУр{	/*	добавлено 9 декабря	*/
		ЕСЛИ ( ПРОЦ ВКЛ_ПИТ_РЕГ_УР В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВКЛ_ПИТ_РЕГ_УР В СОСТ ОШИБКА ) В СОСТ СообщениеОбОтказеВакуумирования;
				ИНАЧЕ В СЛЕДУЮЩЕЕ;
		}
	}
	СОСТ КонтрольГотовностиУровняВодыБО{	/*  14 декабря */
		ЕСЛИ (ФлагГотовУрВодыБО == НОРМА) В СОСТ ВключениеРегТ;
		ИНАЧЕ В СОСТ СообщениеОбОтказеВакуумирования;	
	}
  	
	СОСТ ВключениеРегТ{ /*	  14 декабря */	
		СТАРТ ПРОЦ ВКЛ_ПИТ_РЕГ_Т;   /* питание всегда включено. На всякий случай */
		В СЛЕДУЮЩЕЕ;			
	}
	СОСТ КонтрольВключенияРегТ{	/*	добавлено 11 декабря	*/
		ЕСЛИ ( ПРОЦ ВКЛ_ПИТ_РЕГ_Т В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВКЛ_ПИТ_РЕГ_Т В СОСТ ОШИБКА ) В СОСТ СообщениеОбОтказеВакуумирования;
				ИНАЧЕ В СЛЕДУЮЩЕЕ;
		}
	}
	/* за перегревом воды в баке охлаждения следит процесс ПРОЦ КонтрольАварийнойТемпературыВбакеОхлаждения*/
	
	СОСТ КонтрольГотовностиТемпературыВодыБО{
		ЕСЛИ (ФлагГотовТемпВодыБО == НОРМА) В СОСТ ВключаемВентилятор;
		ИНАЧЕ В СОСТ СообщениеОбОтказеВакуумирования;	/*  14 декабря */
	}
	СОСТ ВключаемВентилятор{
		СТАРТ ПРОЦ ВКЛ_ПИТ_ВЕНТИЛЯТОР;
		В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВключенияВентилятора{
		ЕСЛИ ( ПРОЦ ВКЛ_ПИТ_ВЕНТИЛЯТОР В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВКЛ_ПИТ_ВЕНТИЛЯТОР В СОСТ ОШИБКА ) В СОСТ СообщениеОбОтказеВакуумирования;
				ИНАЧЕ {
					СТАРТ ПРОЦ ВКЛ_ПИТ_НАС_ОХЛ;   
					В СОСТ КонтрольВключенияПитанияНасосаОхлаждения;
				}
		}
	}
	СОСТ КонтрольВключенияПитанияНасосаОхлаждения{
		ЕСЛИ (ПРОЦ ВКЛ_ПИТ_НАС_ОХЛ В СОСТ ПАССИВНОЕ){ 
				ЕСЛИ (ПРОЦ  ВКЛ_ПИТ_НАС_ОХЛ В СОСТ ОШИБКА) В СОСТ СообщениеОбОтказеВакуумирования;
				ИНАЧЕ {
					СТАРТ ПРОЦ ЗАКР_ЗАТВОР_ВАК ;
					В СОСТ КонтрольЗакрытияЗатвораВакуумного;
				}
		}
	}
	СОСТ КонтрольЗакрытияЗатвораВакуумного{
		ЕСЛИ (ПРОЦ ЗАКР_ЗАТВОР_ВАК В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ЗАКР_ЗАТВОР_ВАК В СОСТ ОШИБКА ) В СОСТ СообщениеОбОтказеВакуумирования;
			ИНАЧЕ {
				СТАРТ ПРОЦ ОТКР_САПУН;
				В СОСТ КонтрольОткрытияСапуна;
			}
		} 
	}
	СОСТ КонтрольОткрытияСапуна{
		ЕСЛИ ( ПРОЦ ОТКР_САПУН В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ОТКР_САПУН В СОСТ ОШИБКА ) В СОСТ СообщениеОбОтказеВакуумирования;
			ИНАЧЕ В СОСТ КонтрольТемпературыРубашки;
		} 
	}
	/* за перегревом и охлаждением воды в рубашке охлаждения следит процесс КонтрольАварийнойТемпературыВрубашкеОхлаждения */

/*ЛЯХ - 25е сентября 2014  - модификация процесса*/
	СОСТ КонтрольТемпературыРубашки{
		ЕСЛИ (ФлагГотовTВодыРО == НОРМА) В СЛЕДУЮЩЕЕ;  
		ИНАЧЕ ЕСЛИ (ФлагГотовTВодыРО == ВЫШЕ_НОРМЫ) В СОСТ СообщениеОбОтказеВакуумирования;
		ТАЙМАУТ ДЕСЯТЬ_МИНУТ В СОСТ СообщениеОбОтказеВакуумирования;
	}
	СОСТ ПодачаПитанияНаУППвакНасоса{
		СТАРТ ПРОЦ ВКЛ_ПИТ_УПП_ВАК_НАСОСА;  
		В СЛЕДУЮЩЕЕ;
	}	
	СОСТ КонтрольПодачиПитанияНаУППвакНасоса{
		ЕСЛИ ( ПРОЦ ВКЛ_ПИТ_УПП_ВАК_НАСОСА В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ  ВКЛ_ПИТ_УПП_ВАК_НАСОСА В СОСТ ОШИБКА) В СОСТ СообщениеОбОтказеВакуумирования;
			ИНАЧЕ  В СЛЕДУЮЩЕЕ;
		} 
	}
	СОСТ ВключениеУстройстваПлавногоПуска{
		СТАРТ ПРОЦ ВКЛ_УСТР_ПЛАВ_ПУСКА;
		В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольВключенияПлавногоПуска{
		ЕСЛИ (ПРОЦ ВКЛ_УСТР_ПЛАВ_ПУСКА В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ  ВКЛ_УСТР_ПЛАВ_ПУСКА В СОСТ ОШИБКА) В СОСТ СообщениеОбОтказеВакуумирования;
			ИНАЧЕ  В СЛЕДУЮЩЕЕ;
		} 
	} 
	СОСТ ТаймаутПередЗакрытиемСапуна{  /*насос должен разогнаться*/
 		ТАЙМАУТ ОДНА_МИНУТА  В СЛЕДУЮЩЕЕ; /*19 сентября 2014 года - Лях*/
	}  
	СОСТ ЗакрытиеСапуна{  
		СТАРТ ПРОЦ ЗАКР_САПУН;
		В СЛЕДУЮЩЕЕ; 
	} 
	СОСТ КонтрольЗакрытияСапуна{
		ЕСЛИ ( ПРОЦ ЗАКР_САПУН В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ЗАКР_САПУН В СОСТ ОШИБКА ) В СОСТ СообщениеОбОтказеВакуумирования;
			ИНАЧЕ В СОСТ ЗапоминаемДавлениеВпатрубке;
		} 
	}
	СОСТ ЗапоминаемДавлениеВпатрубке{
			ЛП_Предыдущее = ФП_P_Впатрубке;
			В СЛЕДУЮЩЕЕ;
	}
	СОСТ КонтрольДавления{  
		ЕСЛИ (ФП_P_Впатрубке <= ФП_P_ВтрубеСидер) {
			СТАРТ ПРОЦ ОТКР_ЗАТВОР_ВАК; 
			В СОСТ КонтрольОткрытияЗВ;
		}
		ИНАЧЕ В СЛЕДУЮЩЕЕ;
	} 

	СОСТ ПаузаНаОткачкуВпатрубке{  
/*		ТАЙМАУТ ДВЕ_МИНУТЫ В СЛЕДУЮЩЕЕ;  */ /*????? М.Б. меньше надо сделать*/
		ТАЙМАУТ ТРИ_СЕКУНДЫ В СЛЕДУЮЩЕЕ; 
	}  
	СОСТ ПроверкаУменьшенияДавленияВпатрубке{  
		ЕСЛИ(ФП_P_Впатрубке < ЛП_Предыдущее) В СОСТ ЗапоминаемДавлениеВпатрубке;
        ИНАЧЕ В СОСТ НетОткачки;
	} 	
	СОСТ КонтрольОткрытияЗВ{
		ЕСЛИ ( ПРОЦ ОТКР_ЗАТВОР_ВАК В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ОТКР_ЗАТВОР_ВАК В СОСТ ОШИБКА ) В СОСТ СообщениеОбОтказеВакуумирования;
			ИНАЧЕ { 
				/* Лях 24 сентября 2014 */	
				/* СТАРТ ПРОЦ КонтрольВеличиныОткачкиВауумнойТрубыСидеростата; */
				СТОП;
			}
		} 
	}
    /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
 СОСТ НетОткачки {
       ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ДАВЛЕНИЕ_В_ПАТРУБКЕ_НЕ_УМЕНЬШАЕТСЯ))	В СЛЕДУЮЩЕЕ;
      ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
 }
 СОСТ СообщениеОбОтказеВакуумирования{
       ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВКЛЮЧЕНИЯ_ВАКУУМНОЙ_ПОДСИСТЕМЫ))	ОШИБКА;
      ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи; 
 } 
 СОСТ НарушениеСвязи {
	   ОШИБКА;
 }    
}
/*================================================================*/
/*          Процесс Выключить вакуумную подсистему                */
/*   Этапы выключения вакуумного насоса:                          */
/*    1. Закрывается затвор вакуумный                             */
/*    2. Открывается сапун                                        */
/*    3. Ничего не делаем 20 секунд                               */
/*    4. Выключаем устройство плавного пуска                      */
/*    5. Выключаем питание вакуумного насоса                      */
/*    6. Выключаем питание насоса охлаждения                      */
/*    7. Выключаем питание вентилятора                            */
/*================================================================*/
ПРОЦ ВЫК_ВАКУУМНЫЙ_НАСОС{
 ЛОГ ФлагОшибки ЛОКАЛ;
 
	СОСТ Начало{
		ФлагОшибки = 0;   /* пока ошибок нет*/

		ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_ВАКУУМНЫЙ_НАСОС;
		/* ! 12 декабря */ /* ЕСЛИ (ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ В СОСТ АКТИВНОЕ) ОШИБКА ПРОЦ ВКЛ_ВАКУУМИРОВАНИЕ_ТРУБЫ;  /*в ошибку уходим??? и кранты*/
 		СТАРТ ПРОЦ ЗАКР_ЗАТВОР_ВАК;
		СТОП ПРОЦ КонтрольВеличиныОткачкиВауумнойТрубыСидеростата;
		В СЛЕДУЮЩЕЕ;
	}  
	СОСТ ПередачаОтладочногоСообщения { /* 23 сентября ЛЯХ */
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_СТАРТ_ВЫКЛЮЧЕНИЯ_ВАКУУМНОГО_НАСОСА)) В СЛЕДУЮЩЕЕ;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи;
	}
	СОСТ КонтрольЗакрытияЗатвораВакуумного{
		ЕСЛИ (ПРОЦ ЗАКР_ЗАТВОР_ВАК В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ЗАКР_ЗАТВОР_ВАК В СОСТ ОШИБКА ) {
			/*	СТАРТ ПРОЦ ОтлючитьВакуумированиеВручную;  */
				В СОСТ СообщениеОбОтказеВыклВакСистемы;
			}
			ИНАЧЕ В СЛЕДУЮЩЕЕ;
		} 
	} 	
	СОСТ ОткрытьСапун{
		СТАРТ ПРОЦ ОТКР_САПУН;
		В СЛЕДУЮЩЕЕ;
	}	
	СОСТ КонтрольОткрытияСапуна{
		ЕСЛИ (ПРОЦ ОТКР_САПУН В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ОТКР_САПУН В СОСТ ОШИБКА ) {
				ФлагОшибки = 1;
				В СОСТ ВыключаемУстройствоПлавногоПуска;
			}
			ИНАЧЕ В СЛЕДУЮЩЕЕ;
		} 
	} 	
	СОСТ ТаймаутПередВыключениемПитанияВакуумногоНасоса{  
		ТАЙМАУТ ДВАДЦАТЬ_СЕКУНД В СЛЕДУЮЩЕЕ; 
	}
	СОСТ ВыключаемУстройствоПлавногоПуска{  
		СТАРТ ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА; В СЛЕДУЮЩЕЕ; 
	}
	СОСТ КонтрольВыключенияПлавногоПуска{  
		ЕСЛИ (ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ВЫК_УСТР_ПЛАВ_ПУСКА В СОСТ ОШИБКА ) 	ФлагОшибки = 1;
			В СОСТ ВыключаемПитаниеПлавногоПуска;
		}		 
	}
	СОСТ ВыключаемПитаниеПлавногоПуска{  
		СТАРТ ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА; В СЛЕДУЮЩЕЕ; 
	}

	СОСТ КонтрольВыключенияПитанияПлавногоПуска{  
		ЕСЛИ (ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ВЫК_ПИТ_УПП_ВАК_НАСОСА В СОСТ ОШИБКА ) 	ФлагОшибки = 1;
			В СОСТ ВыключаемПитаниеНасосаОхлаждения;
		}		 
	}
	СОСТ ВыключаемПитаниеНасосаОхлаждения{  
		СТАРТ ПРОЦ ВЫК_ПИТ_НАС_ОХЛ; В СЛЕДУЮЩЕЕ; 
	}
	СОСТ КонтрольВыключенияНасосаОхлаждения{  
		ЕСЛИ (ПРОЦ ВЫК_ПИТ_НАС_ОХЛ В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ВЫК_ПИТ_НАС_ОХЛ В СОСТ ОШИБКА ) 	ФлагОшибки = 1;
			В СОСТ ВыключаемВентилятор;
		}		 
	}
	СОСТ ВыключаемВентилятор{  
		СТАРТ ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР; В СЛЕДУЮЩЕЕ; 
	}
	СОСТ КонтрольВыключенияВентилятора{  
		ЕСЛИ (ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР В СОСТ ПАССИВНОЕ){ 
			ЕСЛИ (ПРОЦ ВЫК_ПИТ_ВЕНТИЛЯТОР В СОСТ ОШИБКА ) 	ФлагОшибки = 1;
			В СЛЕДУЮЩЕЕ;
		}		 
	}	
	СОСТ АнализПризнакаОшибки{ 
		ЕСЛИ (ФлагОшибки == 1) В СОСТ СообщениеОбОтказеВыклВакСистемы;  /* ошибки есть */
		ИНАЧЕ СТОП;
	}

  /*= НЕНОРМАЛЬНЫЕ СИТУАЦИИ: ================*/
	СОСТ СообщениеОбОтказеВыклВакСистемы{
		ЕСЛИ (SendMsgGUICode(ПК_ГУИ_ОТКАЗ_ВЫКЛЮЧЕНИЯ_ВАКУУМНОЙ_ПОДСИСТЕМЫ))	ОШИБКА;
		ТАЙМАУТ ТАЙМАУТ_НА_СВЯЗЬ_С_ГУИ В СОСТ НарушениеСвязи; 
	} 
	СОСТ НарушениеСвязи {
		ОШИБКА;
	}  
	
} /*конец процесса ВЫК_ВАКУУМНЫЙ_НАСОС */


 
}  /* \КОНЕЦ Прогр */

